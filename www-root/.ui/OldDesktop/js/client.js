var
e10client=function(){this.userInfo=null;};e10client.appVersion='2.0.1';e10client.prototype={};e10client.prototype.executeFunctionByName=function(functionName){var
context=window;var
args=[].slice.call(arguments).splice(1);var
namespaces=functionName.split(".");var
func=namespaces.pop();for(var
i=0;i<namespaces.length;i++){context=context[namespaces[i]];}return context[func].apply(this,args);};function
b64DecodeUnicode(str){return decodeURIComponent(Array.prototype.map.call(atob(str),function(c){return'%'+('00'+c.charCodeAt(0).toString(16)).slice(-2);}).join(''));}function
dateIsValid(s){var
bits=s.split('-');var
y=bits[0],m=bits[1],d=bits[2];var
daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31];if((!(y%4)&&y%100)||!(y%400)){daysInMonth[1]=29;}return!(/\D/.test(String(d)))&&d>0&&d<=daysInMonth[--m];}function
pad(a,b){return(1e15+a+"").slice(-b);}function
addDays(date,amount){var
tzOff=date.getTimezoneOffset()*60*1000,t=date.getTime(),d=new
Date(),tzOff2;t+=(1000*60*60*24)*amount;d.setTime(t);tzOff2=d.getTimezoneOffset()*60*1000;if(tzOff!=tzOff2){var
diff=tzOff2-tzOff;t+=diff;d.setTime(t);}return d;}function
getISOWeek(forDate){var
date=new
Date(forDate.getTime());date.setHours(0,0,0,0);date.setDate(date.getDate()+3-(date.getDay()+6)%7);var
week1=new
Date(date.getFullYear(),0,4);return 1+Math.round(((date.getTime()-week1.getTime())/86400000-3+(week1.getDay()+6)%7)/7);}function
searchObjectAttr(e,attr){var
p=e;while(p.length){if(p.attr(attr))return p;p=p.parent();if(!p.length)break;}return null;}function
elementPrefixedAttributes(e,prefix,data){var
iel=e.get(0);for(var
i=0,attrs=iel.attributes,l=attrs.length;i<l;i++){var
attrName=attrs.item(i).nodeName;if(attrName.substring(0,prefix.length)!==prefix)continue;var
attrNameShort=attrName.substring(prefix.length);var
val=attrs.item(i).nodeValue;data[attrNameShort]=val;}}if(!String.prototype.startsWith){Object.defineProperty(String.prototype,'startsWith',{value:function(search,rawPos){var
pos=rawPos>0?rawPos|0:0;return this.substring(pos,pos+search.length)===search;}});}e10client.prototype.server={deviceInfoSent:0,remote:null};e10client.prototype.server.init=function(){};e10client.prototype.server.beginUrl=function(){if(e10.server.remote)return'https://'+e10.server.remote;return e10.httpServerRoot;};e10client.prototype.server.httpHeaders=function(){var
headers={};headers['e10-client-type']=e10.clientType;if(e10.oldBrowser)headers['e10-old-browser']='1';if(e10.userSID!=='')headers['e10-login-sid']=e10.userSID;else
if(e10.userPassword!=='')headers['e10-login-pw']=e10.userPassword;else
if(e10.userPin!=='')headers['e10-login-pin']=e10.userPin;if(e10.userLogin!=='')headers['e10-login-user']=e10.userLogin;if(!e10.server.deviceInfoSent){e10.server.deviceInfoSent=1;headers['e10-device-info']=btoa(JSON.stringify(e10.systemInfo(true)));}if(e10.server.remote)headers['e10-remote']=e10.server.remote;return headers;};e10client.prototype.server.api=function(data,f,errorFunction){var
fullUrl=e10.server.beginUrl()+'/api';var
options={type:'POST',url:fullUrl,success:f,data:JSON.stringify(data),dataType:'json',headers:e10.server.httpHeaders(),error:(errorFunction!='undefined')?errorFunction:function(data){console.log("========================ERROR: "+fullUrl);}};if(e10.server.remote!==null){options.xhrFields={withCredentials:true};options.crossDomain=true;}e10.server.remote=null;$.ajax(options);};e10client.prototype.server.post=function(url,data,f,errorFunction){var
fullUrl=e10.server.beginUrl()+url;var
options={type:'POST',url:fullUrl,success:f,data:JSON.stringify(data),dataType:'json',headers:e10.server.httpHeaders(),error:(errorFunction!='undefined')?errorFunction:function(data){console.log("========================ERROR: "+fullUrl);}};if(e10.server.remote!==null){options.xhrFields={withCredentials:true};options.crossDomain=true;}e10.server.remote=null;$.ajax(options);};e10client.prototype.server.postForm=function(url,data,f){var
fullUrl=e10.server.beginUrl()+url;var
options={type:'POST',url:fullUrl,success:f,data:data,dataType:'json',headers:e10.server.httpHeaders(),error:function(data){console.log("========================ERROR: "+fullUrl);console.log(data);}};if(e10.server.remote!==null){options.xhrFields={withCredentials:true};options.crossDomain=true;}e10.server.remote=null;$.ajax(options);};e10client.prototype.server.get=function(url,f,errorFunction){var
fullUrl=(url.startsWith('https://')?url:e10.server.beginUrl()+url);var
options={type:"GET",url:fullUrl,success:f,dataType:'json',data:"",headers:e10.server.httpHeaders()};if(errorFunction!==undefined)options.error=errorFunction;else
options.error=function(data){console.log("========================ERROR-GET: "+fullUrl);};if(e10.server.remote!==null||url.startsWith('https://')){options.xhrFields={withCredentials:true};options.crossDomain=true;}e10.server.remote=null;$.ajax(options);};e10client.prototype.server.setHttpServerRoot=function(httpServerRoot){e10.httpServerRoot=httpServerRoot;};e10client.prototype.server.setRemote=function(e){if(e.attr('data-remote'))e10.server.remote=e.attr('data-remote');};e10client.prototype.server.setUser=function(login,sid,pw,pin){e10.userPin='';e10.userSID='';e10.userPassword='';e10.userLogin=btoa(login);if(sid&&sid!=='')e10.userSID=btoa(sid);if(pw&&pw!=='')e10.userPassword=btoa(pw);if(pin&&pin!=='')e10.userPin=btoa(pin);};e10client.prototype.widgets={};e10client.prototype.widgets.init=function(){};e10client.prototype.widgets.autoRefresh=function(widgetId){var
widget=$('#'+widgetId);if(widget.length===0){return;}setTimeout(function(){e10WidgetAction(0,null,widgetId);},60000);console.log("__!!!REFRESH!!!");};e10client.prototype.widgets.vs={camerasTimer:0,widgetId:'',gridType:'',gridMode:'',smartActiveCamera:'',smartMainElement:null,archiveDate:'',archiveHour:'',localServers:null};e10client.prototype.widgets.vs.init=function(elementId,localServers){e10.widgets.vs.gridType=$('#e10-widget-vs-type').val();e10.widgets.vs.gridMode=$('#e10-widget-vs-mode').val();e10.widgets.vs.widgetId=elementId;e10.widgets.vs.localServers=localServers;if(e10.widgets.vs.gridMode==='smart'){e10.widgets.vs.smartMainElement=$('#e10-vs-smart-main');e10.widgets.vs.smartActiveCamera=e10.widgets.vs.smartMainElement.attr('data-active-cam');}if(e10.widgets.vs.gridType==='live')e10.widgets.vs.reloadLive();else
e10.widgets.vs.initArchive();};e10client.prototype.widgets.vs.reloadLive=function(){if(e10.widgets.vs.camerasTimer){clearTimeout(e10.widgets.vs.camerasTimer);}for(var
si
in
e10.widgets.vs.localServers){var
ws=e10.widgets.vs.localServers[si];var
camUrl=ws.camerasURL;var
urlPath=ws.camerasURL+"/cameras?callback=?";var
jqxhr=$.getJSON(urlPath,function(data){var
cntSuccess=0;for(var
ii
in
data){if(!data[ii].image)continue;var
picFileName=camUrl+'imgs/-w960/-q70/'+ii+"/"+data[ii].image;var
origPicFileName=camUrl+'/imgs/'+ii+"/"+data[ii].image;var
imgElement=$('#e10-camp-'+ii);if(imgElement.length===0)continue;var
cameraId=imgElement.attr('data-camera');if(imgElement.hasClass('zoomed'))imgElement.attr("src",origPicFileName).parent().attr("data-pict",origPicFileName);else
imgElement.attr("src",picFileName).parent().attr("data-pict",origPicFileName);if(e10.widgets.vs.smartMainElement!==null&&cameraId===e10.widgets.vs.smartActiveCamera){$('#e10-vs-smart-main-img').attr('src',origPicFileName);}if(data[ii].error)imgElement.addClass('e10-error');else
imgElement.removeClass('e10-error');cntSuccess++;}if(!cntSuccess){e10.widgets.vs.camerasTimer=0;return;}e10.widgets.vs.camerasTimer=setTimeout(e10.widgets.vs.reloadLive,3000);}).error(function(){alert("error XobnovaKamer: content not loaded ("+urlPath+")");});}};e10client.prototype.widgets.vs.initArchive=function(){e10.widgets.vs.archiveDate=$('#e10-widget-vs-day').val();e10.widgets.vs.archiveHour=$('#e10-widget-vs-hour').val();e10.widgets.vs.setVideos();};e10client.prototype.widgets.vs.setVideos=function(){$('#'+e10.widgets.vs.widgetId).find('div.e10-camv').each(function(){e10.widgets.vs.setVideo($(this));});};e10client.prototype.widgets.vs.setMainPicture=function(e){var
cameraId=e.attr('data-camera');e10.widgets.vs.smartActiveCamera=cameraId;$('#e10-vs-smart-main-img').attr('src',e.attr('src'));};e10client.prototype.widgets.vs.zoomPicture=function(e){if(e.hasClass('zoomed')){e.removeClass('zoomed');e.parent().parent().removeClass('zoomed');}else{e.addClass('zoomed');e.parent().parent().addClass('zoomed');}};e10client.prototype.widgets.vs.zoomMainPicture=function(e){var
primaryBox=e.parent().find('div.e10-wvs-smart-primary-box');if(e.hasClass('zoomed')){e.removeClass('zoomed');primaryBox.removeClass('zoomed');}else{e.addClass('zoomed');primaryBox.addClass('zoomed');}};e10client.prototype.widgets.vs.setVideo=function(e){var
camUrl=e.attr('data-cam-url');var
cameraId=e.attr('data-camera');var
bfn=e.attr('data-bfn');var
videoFileName=cameraId+'-'+e10.widgets.vs.archiveDate+'-'+e10.widgets.vs.archiveHour+'.mp4';var
posterFileName=cameraId+'-'+e10.widgets.vs.archiveDate+'-'+e10.widgets.vs.archiveHour+'.jpg';var
dateSlashes=e10.widgets.vs.archiveDate.split('-').join('/');var
videoUrl=camUrl+'video/archive/'+e10.widgets.vs.archiveDate+'/'+bfn+'.mp4';var
posterUrl=camUrl+'video/archive/'+e10.widgets.vs.archiveDate+'/'+bfn+'.jpg';var
c='';c+="<video controls style='width: 100%;' preload='none' poster='"+posterUrl+"' src='"+videoUrl+"'>";c+="</video>";e.empty().html(c);};e10client.prototype.widgets.vs.setDay=function(e){e10.widgets.vs.archiveDate=e.val();e10.widgets.vs.setVideos();};e10client.prototype.widgets.vs.setHour=function(e){e10.widgets.vs.archiveHour=e.val();e10.widgets.vs.setVideos();};e10client.prototype.widgets.lans={widgetTimer:0,widgetId:''};e10client.prototype.widgets.lans.init=function(elementId){e10.widgets.lans.widgetId=elementId;e10.widgets.lans.reloadLive();};e10client.prototype.widgets.lans.reloadLive=function(){if(e10.widgets.lans.widgetTimer){clearTimeout(e10.widgets.lans.widgetTimer);}var
widgetElement=$('#'+e10.widgets.lans.widgetId);if(!widgetElement.length){e10.widgets.lans.widgetTimer=0;return;}var
urlPath="/api/objects/call/lan-info-download";e10.server.get(urlPath,function(data){var
cntSuccess=0;for(var
ii
in
data.lanInfo.devices){var
deviceStatus=data.lanInfo.devices[ii];if(e10.widgets.lans.setDeviceStatus(ii,deviceStatus))cntSuccess++;}e10.widgets.lans.widgetTimer=setTimeout(e10.widgets.lans.reloadLive,30000);});};e10client.prototype.widgets.lans.setDeviceStatus=function(deviceNdx,deviceStatus){var
cntSuccess=0;var
allUp=1;var
allDown=1;var
parentRow=null;var
widget=$('#'+e10.widgets.lans.widgetId);var
deviceIsUp=0;var
device=$('#'+e10.widgets.lans.widgetId+'-'+deviceNdx);for(var
a
in
deviceStatus.addr){var
addr=deviceStatus.addr[a];for(var
i=0;i<addr.rts.length;i++){var
rts=addr.rts[i];if(i===0&&rts.up)deviceIsUp=1;var
dataId='d'+deviceNdx+'-'+addr.ip+'-'+i;var
statusElement=widget.find('span[data-rt-id="'+dataId+'"]');if(!statusElement.length)continue;if(rts.up){if(i===0)deviceIsUp=1;allDown=0;statusElement.html("<i class='fa fa-check fa-fw'></i>").prop('title',rts.title);}else{allUp=0;statusElement.html("<i class='fa fa-times fa-fw'></i>").prop('title',rts.title);}parentRow=statusElement.parent().parent();if(i===0){parentRow.find('.e10-lans-rt-info').text(rts.title);}cntSuccess++;}if(parentRow){if(allUp){parentRow.find('td.ip').removeClass('e10-row-stop e10-row-pause').addClass('e10-row-play');}else
if(allDown){parentRow.find('td.ip').removeClass('e10-row-play e10-row-pause').addClass('e10-row-stop');}else
parentRow.find('td.ip').removeClass('e10-row-play e10-row-stop').addClass('e10-row-pause');}}if(device.length){if(deviceIsUp){device.removeClass('e10-ld-off').addClass('e10-ld-on');}else{device.removeClass('e10-ld-on').addClass('e10-ld-off');}}return cntSuccess;};e10client.prototype.widgets.macLan={widgetTimer:0,alertsTimer:0,badgesTimer:0,widgetId:'',devicesIPStates:[]};e10client.prototype.widgets.macLan.init=function(elementId){e10.widgets.macLan.widgetId=elementId;e10.widgets.macLan.reloadLive();e10.widgets.macLan.reloadAlerts();if(e10.widgets.macLan.badgesTimer){clearTimeout(e10.widgets.macLan.badgesTimer);}e10.widgets.macLan.badgesTimer=setTimeout(e10.widgets.macLan.reloadBadges,10000);};e10client.prototype.widgets.macLan.reloadLive=function(){if(e10.widgets.macLan.widgetTimer){clearTimeout(e10.widgets.macLan.widgetTimer);}var
widgetElement=$('#'+e10.widgets.macLan.widgetId);if(!widgetElement.length){e10.widgets.macLan.widgetTimer=0;return;}var
urlPath="/api/objects/call/mac-lan-info-download";e10.server.get(urlPath,function(data){var
cntSuccess=0;for(var
rr
in
data.lanInfo.ranges){var
range=data.lanInfo.ranges[rr];for(var
ii
in
range){var
deviceStatus=range[ii];var
deviceNdx=deviceStatus['d'];var
deviceIP=deviceStatus['ip'];var
up=deviceStatus['rts'][0]['up'];if(!e10.widgets.macLan.devicesIPStates.hasOwnProperty(deviceNdx))e10.widgets.macLan.devicesIPStates[deviceNdx]=[];e10.widgets.macLan.devicesIPStates[deviceNdx][deviceIP]=up;var
ipId=rr+'-'+ii.split('.').join('-');if(e10.widgets.macLan.setDeviceStatus(ipId,deviceStatus))cntSuccess++;}}e10.widgets.macLan.setOverviewDevices();e10.widgets.macLan.widgetTimer=setTimeout(e10.widgets.macLan.reloadLive,30000);});};e10client.prototype.widgets.macLan.setDeviceStatus=function(ipId,deviceStatus){var
cntSuccess=0;var
allUp=1;var
allDown=1;var
parentRow=null;var
widget=$('#'+e10.widgets.macLan.widgetId);var
deviceIsUp=0;var
ipElement=$('#'+e10.widgets.macLan.widgetId+'-ip-'+ipId);ipElement.addClass('e10-error');if(!ipElement.length)return 0;var
ifaceElement=ipElement.parent();for(var
i=0;i<deviceStatus.rts.length;i++){var
rts=deviceStatus.rts[i];if(i===0&&rts.up)deviceIsUp=1;var
dataId='r'+ipId+'-'+i;var
flagElement=ifaceElement.find('.e10-lans-rt-flags').find('span[data-rt-id="'+dataId+'"]');if(!flagElement.length){continue;}if(rts.up){if(i===0)deviceIsUp=1;allDown=0;flagElement.html("<i class='fa fa-check fa-fw'></i>").prop('title',rts.title);}else{allUp=0;flagElement.html("<i class='fa fa-times fa-fw'></i>").prop('title',rts.title);}parentRow=flagElement.parent().parent();if(i===0){parentRow.find('.e10-lans-rt-info').text(rts.title);}cntSuccess++;}if(parentRow){if(allUp){parentRow.find('td.ip').removeClass('e10-row-stop e10-row-pause').addClass('e10-row-play');}else
if(allDown){parentRow.find('td.ip').removeClass('e10-row-play e10-row-pause').addClass('e10-row-stop');}else
parentRow.find('td.ip').removeClass('e10-row-play e10-row-stop').addClass('e10-row-pause');}var
device=ipElement.parent().parent().parent();if(device.length&&device.hasClass('e10-lans-device')){if(deviceIsUp){device.removeClass('e10-ld-off').addClass('e10-ld-on');}else{device.removeClass('e10-ld-on').addClass('e10-ld-off');}}return cntSuccess;};e10client.prototype.widgets.macLan.setOverviewDevices=function(){for(var
deviceNdx
in
e10.widgets.macLan.devicesIPStates){var
deviceInfo=e10.widgets.macLan.devicesIPStates[deviceNdx];var
isUp=0;for(var
ipIdx
in
deviceInfo){var
ipIsUp=deviceInfo[ipIdx];isUp+=ipIsUp;}var
indicatorId='#e10-lan-do-'+deviceNdx;var
indicatorElement=$(indicatorId);if(!indicatorElement.length){continue;}if(isUp)indicatorElement.removeClass('e10-error').addClass('e10-success');else
indicatorElement.removeClass('e10-success').addClass('e10-error');indicatorElement.parent().parent().attr('data-device-state',isUp);}e10.widgets.macLan.setOverviewBadges('e10-lan-overview');e10.widgets.macLan.setOverviewBadges('e10-lan-overviewsrv');};e10client.prototype.widgets.macLan.setOverviewBadges=function(elementId){var
overviewElement=$('#'+elementId);if(!overviewElement.length)return;var
tabs=overviewElement.find('ul.e10-static-tabs');var
content=overviewElement.find('div.e10-static-tab-content');tabs.find('>li').each(function(){var
cntErrors=e10client.prototype.widgets.macLan.setOverviewBadgesGroup($(this).attr('data-content-id'));$(this).attr("data-cnt-errors",cntErrors);var
badge=$(this).find('>span.e10-ntf-badge');if(cntErrors){badge.text(cntErrors).show();}else{badge.hide();}});};e10client.prototype.widgets.macLan.setOverviewBadgesGroup=function(groupId){var
cntErrors=0;var
contentElement=$('#'+groupId);contentElement.find('>table>tbody>tr').each(function(){var
state=$(this).attr("data-device-state");if(state!==undefined){if(parseInt(state)===0)cntErrors++;}});return cntErrors;};e10client.prototype.widgets.macLan.reloadBadges=function(elementId){e10.widgets.macLan.reloadBadgesElement('e10-lan-overview');e10.widgets.macLan.reloadBadgesElement('e10-lan-overviewsrv');e10.widgets.macLan.badgesTimer=setTimeout(e10.widgets.macLan.reloadBadges,10000);};e10client.prototype.widgets.macLan.reloadBadgesElement=function(elementId){var
overviewElement=$('#'+elementId);if(!overviewElement.length)return;overviewElement.find('div>table>tbody>tr>td img.e10-auto-reload').each(function(){var
idd=new
Date().valueOf();var
url=$(this).attr('data-src')+'?xyz='+idd;$(this).attr('src',url);});var
alertsElement=$('#e10-lan-alerts');alertsElement.find('>div img.e10-auto-reload').each(function(){var
idd=new
Date().valueOf();var
url=$(this).attr('data-src')+'?xyz='+idd;$(this).attr('src',url);});};e10client.prototype.widgets.macLan.reloadAlerts=function(){if(e10.widgets.macLan.alertsTimer){clearTimeout(e10.widgets.macLan.alertsTimer);}var
urlPath="/api/objects/call/mac-lan-alerts-download";e10.server.get(urlPath,function(data){e10.widgets.macLan.setAlerts(data);});e10.widgets.macLan.alertsTimer=setTimeout(e10.widgets.macLan.reloadAlerts,65000);};e10client.prototype.widgets.macLan.setAlerts=function(data){var
alertsElement=$('#e10-lan-alerts');alertsElement.find('>div').each(function(){var
scopeId=$(this).attr('data-scope-id');var
scopeElement=$('#e10-lan-alerts-'+scopeId);var
scopeContentElement=scopeElement.find('details>div.content');var
scopeBadgesElement=scopeElement.find('details>summary');if(!data.hasOwnProperty('lanAlerts')||data['lanAlerts']['scopes']==null||data['lanAlerts']['scopes'][scopeId]===undefined){scopeBadgesElement.html('');scopeContentElement.html('');scopeBadgesElement.parent().hide();return;}var
scope=data.lanAlerts.scopes[scopeId];scopeBadgesElement.html(scope['badges']);scopeContentElement.html(scope['content']);scopeBadgesElement.parent().show();});};e10client.prototype.widgets.macVs={camerasTimer:0,widgetId:'',gridType:'',gridMode:'',smartActiveCamera:'',smartMainElement:null,archiveDate:'',archiveHour:'',localServers:null};e10client.prototype.widgets.macVs.init=function(elementId,localServers){e10.widgets.macVs.gridType=$('#e10-widget-vs-type').val();e10.widgets.macVs.widgetId=elementId;e10.widgets.macVs.localServers=localServers;$('img.e10-camp, #e10-vs-smart-main-img').error(function(){this.src=httpApiRootPath+'/www-root/sc/shipard/ph-image-1920-1080-error.svg';});$('img.e10-camp, #e10-vs-smart-main-img').load(function(){$(this).attr('data-load-in-progress','0');});e10.widgets.macVs.smartMainElement=$('#e10-vs-smart-main');e10.widgets.macVs.smartActiveCamera=e10.widgets.macVs.smartMainElement.attr('data-active-cam');if(e10.widgets.macVs.gridType==='videoArchive')e10.widgets.macVs.initArchive();else
e10.widgets.macVs.reloadLive();};e10client.prototype.widgets.macVs.reloadLive=function(){if(e10.widgets.macVs.camerasTimer){clearTimeout(e10.widgets.macVs.camerasTimer);}for(var
si
in
e10.widgets.macVs.localServers){var
ws=e10.widgets.macVs.localServers[si];var
camUrl=ws.camerasURL;var
urlPath=ws.camerasURL+"/cameras?callback=?";var
jqxhr=$.getJSON(urlPath,function(data){var
errorMsgElement=$('#e10-widget-vs-error');errorMsgElement.css({'display':'none'});var
cntSuccess=0;for(var
ii
in
data){if(!data[ii].image)continue;var
imgElement=$('#e10-camp-'+ii);if(imgElement.length===0)continue;var
picFolder=imgElement.attr('data-folder');var
picFileName=camUrl+'imgs/-w960/-q70/'+picFolder+"/"+data[ii].image;var
origPicFileName=camUrl+'/imgs/'+picFolder+"/"+data[ii].image;var
cameraId=imgElement.attr('data-camera');if(imgElement.attr('data-load-in-progress')==='1')continue;imgElement.attr('data-load-in-progress','1');imgElement.attr("src",picFileName).parent().attr("data-pict",origPicFileName);if(e10.widgets.macVs.smartMainElement!==null&&cameraId===e10.widgets.macVs.smartActiveCamera){if($('#e10-vs-smart-main-img').attr('data-load-in-progress')!=='1'){$('#e10-vs-smart-main-img').attr('data-load-in-progress','1');$('#e10-vs-smart-main-img').attr('src',origPicFileName);}}if(data[ii].error)imgElement.addClass('e10-error');else
imgElement.removeClass('e10-error');cntSuccess++;}if(!cntSuccess){e10.widgets.macVs.camerasTimer=0;return;}e10.widgets.macVs.camerasTimer=setTimeout(e10.widgets.macVs.reloadLive,3000);}).error(function(){var
errorMsgElement=$('#e10-widget-vs-error');errorMsgElement.css({'display':'flex'});e10.widgets.macVs.camerasTimer=setTimeout(e10.widgets.macVs.reloadLive,10000);});}};e10client.prototype.widgets.macVs.initArchive=function(){var
widget=$('#'+e10.widgets.macVs.widgetId);var
inputDate=widget.find('input[name="e10-widget-vs-day"]');var
inputHour=widget.find('input[name="e10-widget-vs-day"]');e10.widgets.macVs.archiveDate=inputDate.val();e10.widgets.macVs.archiveHour=inputHour.val();e10.widgets.macVs.setVideos();};e10client.prototype.widgets.macVs.setVideos=function(){$('#'+e10.widgets.macVs.widgetId).find('div.e10-camv').each(function(){e10.widgets.macVs.setVideo($(this));});};e10client.prototype.widgets.macVs.setMainPicture=function(e){var
cameraId=e.attr('data-camera');e10.widgets.macVs.smartActiveCamera=cameraId;$('#e10-vs-smart-main-img').attr('src',e.attr('src'));$('#e10-vs-smart-main-img').parent().find('.e10-cam-sensor-display').remove();if(e.attr('data-badges-code')!==undefined){var
badges=b64DecodeUnicode(e.attr('data-badges-code'));$('#e10-vs-smart-main-img').parent().append(badges);}};e10client.prototype.widgets.macVs.setVideo=function(e){var
camUrl=e.attr('data-cam-url');var
cameraId=e.attr('data-camera');var
bfn=e.attr('data-bfn');var
videoFileName=cameraId+'-'+e10.widgets.macVs.archiveDate+'-'+e10.widgets.macVs.archiveHour+'.mp4';var
posterFileName=cameraId+'-'+e10.widgets.macVs.archiveDate+'-'+e10.widgets.macVs.archiveHour+'.jpg';var
dateSlashes=e10.widgets.macVs.archiveDate.split('-').join('/');var
videoUrl=camUrl+'cameras/video-archive/'+e10.widgets.macVs.archiveDate+'/'+bfn+'.mp4';var
posterUrl=camUrl+'cameras/video-archive/'+e10.widgets.macVs.archiveDate+'/'+bfn+'.jpg';var
c='';c+="<video controls style='width: 100%;' preload='none' poster='"+posterUrl+"' src='"+videoUrl+"'>";c+="</video>";e.empty().html(c);};;(function(d){var
k=d.scrollTo=function(a,i,e){d(window).scrollTo(a,i,e)};k.defaults={axis:'xy',duration:parseFloat(d.fn.jquery)>=1.3?0:1};k.window=function(a){return d(window)._scrollable()};d.fn._scrollable=function(){return this.map(function(){var
a=this,i=!a.nodeName||d.inArray(a.nodeName.toLowerCase(),['iframe','#document','html','body'])!=-1;if(!i)return a;var
e=(a.contentWindow||a).document||a.ownerDocument||a;return d.browser.safari||e.compatMode=='BackCompat'?e.body:e.documentElement})};d.fn.scrollTo=function(n,j,b){if(typeof
j=='object'){b=j;j=0}if(typeof
b=='function')b={onAfter:b};if(n=='max')n=9e9;b=d.extend({},k.defaults,b);j=j||b.speed||b.duration;b.queue=b.queue&&b.axis.length>1;if(b.queue)j/=2;b.offset=p(b.offset);b.over=p(b.over);return this._scrollable().each(function(){var
q=this,r=d(q),f=n,s,g={},u=r.is('html,body');switch(typeof
f){case'number':case'string':if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(f)){f=p(f);break}f=d(f,this);case'object':if(f.is||f.style)s=(f=d(f)).offset()}d.each(b.axis.split(''),function(a,i){var
e=i=='x'?'Left':'Top',h=e.toLowerCase(),c='scroll'+e,l=q[c],m=k.max(q,i);if(s){g[c]=s[h]+(u?0:l-r.offset()[h]);if(b.margin){g[c]-=parseInt(f.css('margin'+e))||0;g[c]-=parseInt(f.css('border'+e+'Width'))||0}g[c]+=b.offset[h]||0;if(b.over[h])g[c]+=f[i=='x'?'width':'height']()*b.over[h]}else{var
o=f[h];g[c]=o.slice&&o.slice(-1)=='%'?parseFloat(o)/100*m:o}if(/^\d+$/.test(g[c]))g[c]=g[c]<=0?0:Math.min(g[c],m);if(!a&&b.queue){if(l!=g[c])t(b.onAfterFirst);delete
g[c]}});t(b.onAfter);function
t(a){r.animate(g,j,b.easing,a&&function(){a.call(this,n,b)})}}).end()};k.max=function(a,i){var
e=i=='x'?'Width':'Height',h='scroll'+e;if(!d(a).is('html,body'))return a[h]-d(a)[e.toLowerCase()]();var
c='client'+e,l=a.ownerDocument.documentElement,m=a.ownerDocument.body;return Math.max(l[h],m[h])-Math.min(l[c],m[c])};function
p(a){return typeof
a=='object'?a:{top:a,left:a}}})(jQuery);$.fn.focusNextInputField=function(){return this.each(function(){var
fields=$(this).parents('form:eq(0),body').find('button,input,textarea,select');var
index=fields.index(this);if(index>-1&&(index+1)<fields.length){fields.eq(index+1).focus();}return false;});};var
CLICK_EVENT='click';var
googleMapsApi=0;jQuery.fn.selText=function(){var
doc=document,text=this[0],range,selection;if(doc.body.createTextRange){range=doc.body.createTextRange();range.moveToElementText(text);range.select();}else
if(window.getSelection){selection=window.getSelection();range=doc.createRange();range.selectNodeContents(text);selection.removeAllRanges();selection.addRange(range);}return this;};Number.prototype.formatMoney=function(c,d,t){var
n=this,c=isNaN(c=Math.abs(c))?2:c,d=d==undefined?",":d,t=t==undefined?".":t,s=n<0?"-":"",i=parseInt(n=Math.abs(+n||0).toFixed(c))+"",j=(j=i.length)>3?j%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"");};function
e10nf(n,c){var
c=isNaN(c=Math.abs(c))?0:c,d=',',t=' ',s=n<0?"-":"",i=parseInt(n=Math.abs(+n||0).toFixed(c))+"",j=(j=i.length)>3?j%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"");}function
Round(num,precision){var
val=precision!=undefined?Math.pow(10,precision):1;return Math.round(num*val)/val;}function
Ceil(num,precision){var
val=precision!=undefined?Math.pow(10,precision):1;return Math.ceil(num*val)/val;}function
getFloatInputValue(i){var
stringValue=i.val();if(stringValue)stringValue=stringValue.replace(",",".");else
stringValue='0';var
floatValue=parseFloat(stringValue);return floatValue;}function
searchParentAttr(e,attr){var
p=e;while(p.length){var
attrValue=p.attr(attr);if(p.attr(attr))return p.attr(attr);p=p.parent();if(!p.length)break;}return null;}function
searchParentAttrElement(e,attr){var
p=e;while(p.length){var
attrValue=p.attr(attr);if(p.attr(attr))return p;p=p.parent();if(!p.length)break;}return null;}function
searchObjectId(e,objectType){var
p=e;while(p.length){var
ot=p.attr('data-object');if(ot===objectType)return p.attr('id');p=p.parent();if(!p.length)break;}return'';}function
elementAttributes(e,prefix){var
data={};var
iel=e.get(0);for(var
i=0,attrs=iel.attributes,l=attrs.length;i<l;i++){var
attrName=attrs.item(i).nodeName;if(attrName.substring(0,prefix.length)!==prefix)continue;var
val=attrs.item(i).nodeValue;data[attrName]=val;}if($.isEmptyObject(data))return null;return $.param(data);}function
elementAttributesArray(e,prefix){var
data={};var
iel=e.get(0);for(var
i=0,attrs=iel.attributes,l=attrs.length;i<l;i++){var
attrName=attrs.item(i).nodeName;if(attrName.substring(0,prefix.length)!==prefix)continue;var
val=attrs.item(i).nodeValue;data[attrName]=val;}if($.isEmptyObject(data))return null;return data;}function
dfMaximizeMainElement(aElementId){$("html,body").css({"overflow":"hidden"});contentElement=document.getElementById(aElementId);var
newHeight=$(window).height()-contentElement.offsetTop;contentElement.style.height=newHeight+'px';return newHeight;}function
testInputType(type){var
el=document.createElement('input'),notATypeValue='not-a-'+type;el.setAttribute('type',type);el.setAttribute('value',notATypeValue);return!(el.value===notATypeValue);}var
e10_uiHooks=Array();function
addUiHook(eventName,table,func){e10_uiHooks.push({"eventName":eventName,"table":table,"func":func});};function
callUiHook(eventName,table,e){for(var
i=0;i<e10_uiHooks.length;i++){var
hook=e10_uiHooks[i];if((hook["eventName"]==eventName)&&(hook["table"]==table)){if(!hook["func"].call(e))return false;return true;}}return false;}function
attLinkPreviewOpen(e){var
mainBrowser=$('#mainBrowser');var
xc=e.offset().left;var
leftPos='5vw';if(xc<mainBrowser.width()/2)leftPos='50vw';var
urlPreview=e.parent().attr('data-url-preview');var
previewHtml="<div id='e10-link-preview' class='' style='left: "+leftPos+";'>"+"<img src='"+urlPreview+"'/>"+"</div>";e.on("remove",function(){attLinkPreviewClose()});var
mainBrowserContent=$('#mainBrowserContent');$('body').append(previewHtml);}function
attLinkPreviewClose(e){$('#e10-link-preview').detach();}function
mainBrowserInit(id){$(document).keydown(function(e){var
element=e.target.nodeName.toLowerCase();if(element!='input'&&element!='textarea'){if(e.keyCode===8){return false;}}});var
mainBrowser=$("#"+id);mainBrowserRefreshLayout(id);$("#mainBrowser").delegate("#mainBrowserLeftMenu.e10-app-lb-icons li",CLICK_EVENT,function(event){menuItemClick($(this),event);});$("#mainBrowser").delegate("#smallPanelMenu li",CLICK_EVENT,function(event){menuItemClick($(this),event);});$("#mainBrowser").delegate("#mainBrowserLeftMenu.e10-app-lb-panel li>span.title",CLICK_EVENT,function(event){menuItemClickPanel($(this),event);});$("body").on(CLICK_EVENT,"div.e10-panelSubMenu li.mi",function(event){menuItemClickSubMenu($(this),event);});$("body").delegate("div.e10-att-input button",CLICK_EVENT,function(event){e10AttWidgetSelect($(this),event);});$('#e10-userSettingsBtn').on(CLICK_EVENT,function(event){e10userSettingsMenu();});$("body").on(CLICK_EVENT,"ul.e10-selectReport li",function(event){e10selectReport($(this),event);});$("body").on(CLICK_EVENT,"div.e10-param .dropdown-menu a",function(event){e10ReportChangeParam($(this));});$("body").on(CLICK_EVENT,"div.e10-param .e10-param-btn",function(event){e10ReportChangeParam($(this));});$("body").on(CLICK_EVENT,"div.e10-param-list li.selectable div.title",function(event){e10ListParamToggle($(this));});$("#mainBrowserContent").on('change',"#e10dashboardWidget input, #e10dashboardWidget select",function(event){e10WidgetParam(event,$(this));});$("#e10-tm-viewerbuttonbox").on('change',"input, select",function(event){e10refreshReport(0);});$("body").on('change',"#e10-report-panel",function(event){e10refreshReport(0);});$("body").on(CLICK_EVENT,".df2-reportaction-trigger",function(event){e10printReport($(this),event);});$('body').delegate("ul.df2-detail-menu.report >li",CLICK_EVENT,function(event){e10reportChangeTab($(this),event);});$('body').delegate("ul.df2-detail-menu.widget >li, ul.e10-panelMenu-small.widget >li",CLICK_EVENT,function(event){e10widgetChangeTab($(this),event);});$("body").delegate('div.e10-rows ul li input, div.e10-rows ul li select, div.e10-rows ul li button','focus',function(event){changeFocusedDocumentRow($(this),event);});$("body").on('mouseenter','span.e10-att-link >span.pre',function(){attLinkPreviewOpen($(this));});$("body").on('mouseleave','span.e10-att-link >span.pre',function(){attLinkPreviewClose($(this));});$("body").on(CLICK_EVENT,"span.e10-sum-table-exp-icon",function(event){e10SumTableExpandedCellClick($(this),event);});$("body").on(CLICK_EVENT,"tr.e10-sum-table-row-selectable",function(event){e10SumTableSelectRow($(this),event);});$("body").on(CLICK_EVENT,"li.e10-static-tab",function(event){e10StaticTab($(this),event);});$(window).resize(function(){mainBrowserRefreshLayout("mainBrowser")});var
mainListViewMenu=$('#mainListViewMenu');if(mainListViewMenu.parent().hasClass('e10-app-lb-panel')){var
firstItem=mainListViewMenu.find(">li:first");if(firstItem.hasClass('closed'))firstItem.removeClass('closed');var
firstMenuItem=firstItem.find('>ul:first>li:first');menuItemClickPanel(firstMenuItem.find('>span.title'));}else{var
firstItem=mainListViewMenu.find("li:first");if(firstItem.is('LI'))menuItemClick(firstItem);else
if(mainBrowser.hasClass('e10-appEmbed'))e10DocumentAction(null,mainBrowser);}g_NCTimer=setTimeout(function(){e10NCReload('init')},1000);}function
mainBrowserRefreshLayout(id,object){var
mbc=$('#mainBrowserContent');if(object)mbc.attr('data-disable-top-toolbar',(object.disableTopToolbar)?'1':'0');var
mainBrowser=$('#mainBrowser');var
nh=dfMaximizeMainElement(id);var
mainBrowserSizeX=mainBrowser.width();var
rightBarSizeX=0;var
rightBar=$('#mainBrowserRightBar');if(rightBar.is('DIV'))rightBarSizeX=rightBar.width();var
leftMenu=$('#mainBrowserLeftMenu');var
leftMenuSizeX=0;if(leftMenu.length)leftMenuSizeX=leftMenu.width();var
leftSubMenu=$('#mainBrowserLeftMenuSubItems');var
leftSubMenuSizeX=0;if(leftSubMenu.hasClass('open'))leftSubMenuSizeX=leftSubMenu.outerWidth(true);var
topMenu=$('#mainBrowserTopBar');var
topMenuSizeY=topMenu.height();topMenu.width(mainBrowserSizeX-leftMenuSizeX-rightBarSizeX);var
appMenuSizeY=0;var
appMenu=$('#mainBrowserAppMenu');if(appMenu.length)appMenuSizeY=appMenu.height();var
disableTopToolbar=parseInt(mbc.attr('data-disable-top-toolbar'));if(disableTopToolbar){topMenu.hide();topMenuSizeY=6;}else
topMenu.show();var
mainBrowserMMTopY=appMenuSizeY;var
mbcPosY=6;if($('body').hasClass('e10-appMainWidgetMode')){mbcPosY=0;topMenuSizeY=0;mainBrowserMMTopY=0;}mbc.css({top:topMenuSizeY+appMenuSizeY});mbc.css({left:leftMenuSizeX+leftSubMenuSizeX});mbc.height(nh-mbc.position().top-mbcPosY);mbc.width(mainBrowserSizeX-leftMenuSizeX-leftSubMenuSizeX-rightBarSizeX);var
leftMenuHeight=nh-appMenuSizeY;leftMenu.height(leftMenuHeight);if(rightBarSizeX){rightBar.css({top:appMenuSizeY});rightBar.height(leftMenuHeight);}if(leftMenu.hasClass('e10-app-lb-panel')){var
leftMenuPanelItemsHeight=leftMenuHeight-$('#mainBrowserLeftMenuHeader').innerHeight()-10;leftMenu.find('#mainListViewMenu').height(leftMenuPanelItemsHeight);}leftSubMenu.height(nh-mbc.position().top-mbcPosY);leftSubMenu.css({left:leftMenuSizeX,top:topMenuSizeY+appMenuSizeY});var
nc=$('#mainBrowserNC');var
nctlbr=$('#mainBrowserNC>div.e10-nc-toolbar');nc.css({top:appMenuSizeY});nc.height(mainBrowser.height()-appMenuSizeY);nc.find('>div.e10-nc-viewer').height(mainBrowser.height()-appMenuSizeY-nctlbr.height());var
mm=$('#mainBrowserMM');mm.css({top:mainBrowserMMTopY});mm.height(mainBrowser.height()-mainBrowserMMTopY);var
objEl=$('#mainBrowserContent div:first-child');if(objEl.attr('data-object')=='viewer'){viewerRefreshLayout(objEl.attr('id'),nh);return;}if(objEl.attr('id')==='e10reportWidget'){reportWidgetRefreshLayout();return;}dfMaximizeMainElement(id);}function
menuItemClick(e,event){var
objectType=e.attr('data-object');if(objectType==='report'){e10report(e,event);return;}e10CloseModals();$("#mainListViewMenu li").removeClass("activeMainItem");$("#smallPanelMenu li").removeClass("activeMainItem");e.addClass("activeMainItem");viewerMenuLoadViewer(e);var
activePanel=$('#mainBrowserAppMenu ul.appMenuLeft li.active');if(e.attr('title'))setPageTitle(e.attr('title'));else
setPageTitle(e.find('>div.t').text());}function
menuItemClickSubMenu(e,event){var
objectType=e.attr('data-object');if(objectType==='report'){e10report(e,event);return;}e10CloseModals();$("#mainBrowserLeftMenuSubItems>div.e10-panelSubMenu.active >ul >li").removeClass("active");e.addClass("active");viewerMenuLoadViewer(e);setPageTitle(e.find('>div.t').text());}function
menuItemClickPanel(titleElement,event){var
e=titleElement.parent();if(e.hasClass('e10-app-lb-panel-group')){if(e.hasClass('closed')){e.removeClass('closed');}else{e.addClass('closed');}return;}var
objectType=e.attr('data-object');if(objectType==='report'){e10report(e,event);return;}e10CloseModals();$("#mainBrowserLeftMenu li.activeMainItem").removeClass("activeMainItem");e.addClass("activeMainItem");viewerMenuLoadViewer(e);setPageTitle(titleElement.text());}function
setPageTitle(title){var
activePanelText='';var
activePanel=$('#mainBrowserAppMenu ul.appMenuLeft li.active');if(activePanel.length)activePanelText=activePanel.text();var
fullTitle=title;if(activePanelText&&activePanelText!==''&&activePanelText.charCodeAt(0)!=160)fullTitle+=' / '+activePanelText;fullTitle+=' | '+serverTitle;document.title=fullTitle;}function
e10doSizeHints(e,viewersRefreshLayout){e.find('.e10-wsh-h2b').each(function(){var
thisEl=$(this);var
sizer=searchObjectAttr(thisEl,'data-e10mxw');if(sizer){var
h=sizer.height()-thisEl.offset().top-12+sizer.offset().top;thisEl.height(h);}if(thisEl.attr('data-refreshLayout')){window[thisEl.attr('data-refreshLayout')](thisEl);}});e.find('.e10-wsh-h2p').each(function(){var
thisEl=$(this);thisEl.height(thisEl.parent().height());});e.find('.e10-wsh-h2b').each(function(){var
thisEl=$(this);var
sizer=searchObjectAttr(thisEl,'data-e10mxw');if(sizer){var
h=sizer.height()-thisEl.offset().top-12+sizer.offset().top;var
minHeight=parseInt(thisEl.attr('data-min-height'));if(h<minHeight)h=minHeight;thisEl.height(h);}if(thisEl.attr('data-refreshLayout')){window[thisEl.attr('data-refreshLayout')](thisEl);}if(thisEl.attr('data-init-viewers')!==undefined){thisEl.find('div.df2-viewer').each(function(){var
viewerId=$(this).attr("id");initViewer(viewerId);});}});e.find('.e10-wsh-h2p').each(function(){var
thisEl=$(this);thisEl.height(thisEl.parent().height());});e.find('.e10-wsh-h2t').each(function(){var
thisEl=$(this);var
sizer=searchObjectAttr(thisEl,'data-main-tabs');thisEl.height(sizer.height());});if(viewersRefreshLayout===1){e.find('div.df2-viewer').each(function(){var
viewerId=$(this).attr("id");initViewer(viewerId);});}}function
e10setProgress(e,progress){if(progress)e.css({'color':'rgba(0,0,0,.2)'});else
e.css({'color':'rgba(0,0,0,1)'});}function
e10setProgressIndicator(objectId,state){var
i=$('#'+objectId+'Progress');if(!i[0])return;if(state){if(i.attr('data-run')==='1')return;i.attr('data-run','1');i.data('oldState',i.html());var
spinnerUrl=httpApiRootPath+'/www-root/sc/shipard/spinner-bars.svg';i.html("<img style='width: 1em; height: 1em;' src='"+spinnerUrl+"'></img>");}else{i.attr('data-run','0');i.html(i.data('oldState'));}}function
e10userSettingsMenu(){var
userMenu=$('#e10-tm-user-m');userMenuBtn=userMenu.parent();if(userMenu.hasClass('active')){userMenu.removeClass('active');userMenuBtn.removeClass('active');}else{userMenuBtn.addClass('active');userMenu.addClass('active');userMenu.css({top:$('#e10-panel-topmenu').height()+2});}}var
g_htmlCodeTopMenuSearch;var
g_htmlCodeToolbarViewer;function
e10browserClearToolbar(){$('#e10-tm-searchbox').find('>*').remove();$('#e10-tm-viewerbuttonbox').find('>*').remove();$('#e10-tm-viewerbuttonbox').html('');$('#e10-tm-detailbuttonbox').find('>*').remove();$('#e10-tm-detailbuttonbox').html('');$('#e10-tm-toolsbuttonbox').find('>*').remove();$('#e10-tm-toolsbuttonbox').html('');}function
e10browserSetContent(data){e10browserClearToolbar();var
browserContent=$("#mainBrowserContent");browserContent.find("*:first").remove();$('#e10-tm-searchbox').html(data.htmlCodeTopMenuSearch);$('#e10-tm-viewerbuttonbox').html(data.htmlCodeToolbarViewer);$('#e10-tm-toolsbuttonbox').html(data.htmlCodeToolbarTools);browserContent.html(data.mainCode);if(data.htmlCodeDetails)$('#mainBrowserRightBarDetails').html(data.htmlCodeDetails);else
$('#mainBrowserRightBarDetails').find('>*').remove().html('');e10setProgress(browserContent,0);g_htmlCodeTopMenuSearch=data.htmlCodeTopMenuSearch;g_htmlCodeToolbarViewer=data.htmlCodeToolbarViewer;}function
e10browserCheckToolbar(){if($('#e10-tm-searchbox').html()==''){$('#e10-tm-searchbox').html(g_htmlCodeTopMenuSearch);$('#e10-tm-viewerbuttonbox').html(g_htmlCodeToolbarViewer);}}function
mainFormInit(id){}function
mainFormRefreshLayout(id){}function
e10Help(e){var
newFormHtml="<div id='HelpEnv' class='e10-help-env'></div>"+"<div id='Help' class='e10-help'>"+"<div id='HelpHeader' class='e10-help-header'></div>"+"<div id='HelpContent' class='e10-help-content'></div>"+"</div>";var
mainBrowser=$('#mainBrowser');var
mainBrowserContent=$('#mainBrowserContent');var
newEditForm=$('body').append(newFormHtml);var
helpEnv=$('#HelpEnv');var
help=$('#Help');var
helpHeader=$('#HelpHeader');var
helpContent=$('#HelpContent');var
leftOffset=0;helpEnv.css({left:0,top:0,width:mainBrowser.width(),height:mainBrowser.height()});help.css({left:mainBrowser.width()-help.width(),top:0,height:mainBrowser.height()});var
url=httpApiRootPath+'/api/help';var
jqxhr=$.getJSON(url,function(data){helpHeader.html(data.object.headerCode);helpContent.html(data.object.contentCode);helpContent.height(mainBrowser.height()-helpHeader.height());}).error(function(){alert("error 2: content not loaded ("+url+")");});}function
e10CloseHelp(e){$('#Help').detach();$('#HelpEnv').detach();}function
df2PanelAction(event,e){var
actionType=e.attr("data-action");if(actionType==='reloadPanel'){location.reload();return;}if(actionType==='go'){window.location=e.attr('data-href');return;}var
newFormHtml="<div id='PanelActionEnv' class='e10-panelAction-env'></div>"+"<div id='PanelAction' class='e10-panelAction'>"+"<div id='PanelActionMsg' class='e10-panelAction-waitMsg'><h3>čekejte, prosím</h3>akce je spuštěna a může trvat až minutu...</div>"+"</div>";var
mainBrowser=$('#mainBrowser');var
mainBrowserContent=$('#mainBrowserContent');var
newEditForm=$('body').append(newFormHtml);var
panelActionEnv=$('#PanelActionEnv');var
panelAction=$('#PanelAction');var
panelActionMsg=$('#PanelActionMsg');var
leftOffset=0;panelActionEnv.css({left:0,top:0,width:mainBrowser.width(),height:mainBrowser.height()});panelAction.css({left:(mainBrowser.width()-panelAction.width())/2,top:100,height:mainBrowser.height()-200});var
urlPath="/api/call/"+actionType+'?mismatch=1&callback=?';e10.server.get(urlPath,function(data){panelActionMsg.html("<h3>hotovo</h3>"+data.object.message+"<p/><button class='btn btn-large btn-success df2-panelaction-trigger' data-action='reloadPanel'>Pokračovat</button>");});}function
testHotkey(event){if(g_openModals.length){var
modalElementId=g_openModals[g_openModals.length-1];var
btnsElement=$('#'+modalElementId+' >div.e10-ef-buttons');if(btnsElement.length){var
saveInProgress=0;var
btnSave=btnsElement.find('button[data-save-style="default"]');if(btnSave.length&&btnSave.attr('data-insave')==='1')saveInProgress=1;if(saveInProgress)return;if(event.keyCode===27){var
btnClose=btnsElement.find('button[data-action="cancelform"]');if(btnClose.length&&btnSave.length&&btnSave.prop('disabled')){btnClose.click();return;}if(btnClose.length&&!btnSave.length){btnClose.click();return;}}if(event.keyCode===113){var
btnPrimarySave=btnsElement.find('button[data-save-style="primary"]');if(btnPrimarySave.length){btnPrimarySave.click();return;}}}}if(!g_openModals.length){var
mainViewer=$('#mainBrowserContent > div.e10-mainViewer');if(mainViewer.length){if(event.keyCode===13){var
openButton=$('#e10-tm-detailbuttonbox button[data-action="editform"]');if(openButton.length){openButton.click();return;}}if(event.keyCode===78&&event.ctrlKey){var
newButton=$('#e10-tm-viewerbuttonbox button[data-action="newform"]');if(newButton.length){newButton.click();return;}}}}}function
touchScroll(id){if(navigator.userAgent.indexOf('Android')!=-1&&navigator.userAgent.indexOf('2.')!=-1&&navigator.userAgent.indexOf('Opera')==-1){var
el=document.getElementById(id);var
scrollStartPos=0;document.getElementById(id).addEventListener("touchstart",function(event){scrollStartPos=this.scrollTop+event.touches[0].pageY;},false);document.getElementById(id).addEventListener("touchmove",function(event){this.scrollTop=scrollStartPos-event.touches[0].pageY;event.preventDefault();},false);}}var
g_formId=1;var
e10ViewerDelegatesDone=false;var
g_focusedInputId='';var
g_supportsPassiveEL=false;var
g_standaloneApp=0;function
e10jsinit(){try{var
opts=Object.defineProperty({},'passive',{get:function(){g_supportsPassiveEL=true;}});window.addEventListener("test",null,opts);}catch(e){}if(("standalone"in
window.navigator)&&window.navigator.standalone)g_standaloneApp=1;else
if(window.matchMedia('(display-mode: standalone)').matches)g_standaloneApp=2;if(g_standaloneApp===1)$('body').addClass('e10-ios-standalone-app');if(g_standaloneApp){$('#e10-logout-full-button').hide();$('#e10-logout-close-button').show();}if(g_e10_appMode)window.onbeforeunload=function(){if(g_openModals.length)return"POZOR: máte otevřeno editační okno.";};$("body").delegate("ul.e10-form-tabs>li, ul.nav-pills>li",CLICK_EVENT,function(event){e10FormsTabClick($(this));});$("body").delegate("ul.e10-form-maintabs>li",CLICK_EVENT,function(event){e10FormsTabClick($(this));});$('body').on(CLICK_EVENT,".df2-action-trigger",function(event){event.stopPropagation();event.preventDefault();if($(this).parent().parent().hasClass('dropdown-menu'))$('body').trigger('click');df2ViewerAction(event,$(this));});$('body').on(CLICK_EVENT,".df2-action-trigger-no-shift",function(event){if(!event.shiftKey){event.stopPropagation();event.preventDefault();df2ViewerAction(event,$(this));}});$('body').on(CLICK_EVENT,"button.df2-panelaction-trigger, span.df2-panelaction-trigger",function(event){df2PanelAction(event,$(this));});$('body').on('focus',"div.e10-ef-form input, div.e10-ef-form textarea",function(event){e10FormsFocusRefInput(event,$(this));});$('body').on('focus',"div.e10-ef-form select",function(event){e10FormsRefInputComboClose($(this));});$('body').on('blur',"input.e10-inputRefId",function(event){e10FormsBlurRefInput(event,$(this));});$('body').on('blur',"input.e10-inputDateS",function(event){e10FormsBlurDateInput(event,$(this));});$('body').on('blur',"input.e10-inputColor",function(event){e10FormsBlurColorInput(event,$(this));});$('body').on('focus',"div.e10-inputDocLink",function(event){e10FormsFocusRefInput(event,$(this));});$('body').on('click',"i.e10-inputReference-clearItem",function(event){e10FormsRefInputClear($(this));});$('body').on('click',"i.e10-inputReference-editItem",function(event){e10FormsRefInputEdit($(this));});$('body').on('click',"span.e10-inputDocLink-closeItem",function(event){e10FormsInputDocLinkCloseItem(event,$(this));});$('body').on(CLICK_EVENT,".e10-widget-trigger, .df2-widget-trigger",function(event){event.stopPropagation();event.preventDefault();if($(this).parent().parent().hasClass('dropdown-menu'))$('body').trigger('click');e10WidgetAction(event,$(this));});$('body').on(CLICK_EVENT,".e10-document-trigger",function(event){event.stopPropagation();event.preventDefault();if($(this).parent().parent().hasClass('dropdown-menu'))$('body').trigger('click');e10DocumentAction(event,$(this));});$('body').on(CLICK_EVENT,"button.e10-row-action",function(event){e10FormRowAction(event,$(this));});$('body').on(CLICK_EVENT,"#wss-bc-kbd",function(event){e10SwitchBarcodeKbd(event,$(this));});$('body').on('focus',"input,select,textarea",function(event){g_focusedInputId=$(this).attr('id');});$('body').on(CLICK_EVENT,"li.e10-sensor",function(event){e10SensorToggle(event,$(this));});$('body').on('click',"div.e10-reportPanel-toggle",function(event){e10ReportPanelToggle($(this));});$('body').on(CLICK_EVENT,"#e10-nc-button,#e10-nc-close",function(event){e10NCToggle($(this));});$('body').on(CLICK_EVENT,"#e10-mm-button,#e10-mm-close",function(event){e10MMToggle($(this));});$("body").on('change',"input.e10-ino-saveOnChange",function(event){e10FormNeedSave($(this),-1);});$("body").on('change',"select.e10-ino-saveOnChange",function(event){e10FormNeedSave($(this),-1);});$("body").on('change',"textarea.e10-ino-saveOnChange",function(event){e10FormNeedSave($(this),-1);});$("body").on('change',"input,select",function(event){e10FormNeedSave($(this),0);});$("body").on('change',"input.e10-input-scanner",function(event){e10FormCheckScannerInput($(this),event);});$("body").on('input propertychange',"input,textarea",function(event){e10FormNeedSave($(this),0);});initEventer();initMQTT();if(g_useMonaco){let
monacoLoader=$('#monaco-loader');if(!monacoLoader.length){$('head').append("<script id='monaco-loader'>var require = { paths: { 'vs': '"+httpApiRootPath+"/www-root/sc/libs/monaco-editor-0.47/min/vs' } };</script>");setTimeout(function(){$('head').append("<script type='text/javascript' src='"+httpApiRootPath+"/www-root/sc/libs/monaco-editor-0.47/min/vs/loader.js'></script>");$('head').append("<script type='text/javascript' src='"+httpApiRootPath+"/www-root/sc/libs/monaco-editor-0.47/min/vs/editor/editor.main.nls.js'></script>");$('head').append("<script type='text/javascript' src='"+httpApiRootPath+"/www-root/sc/libs/monaco-editor-0.47/min/vs/editor/editor.main.js'></script>");},500);}}}function
initEventer(){var
eventMethod=window.addEventListener?"addEventListener":"attachEvent";var
eventer=window[eventMethod];var
messageEvent=eventMethod==="attachEvent"?"onmessage":"message";eventer(messageEvent,function(e){if(e.data==="close-iframe-embedd-element"){if($('#embeddAppBlocker').hasClass('iframe-app')){$('#embeddApp').remove();$('#embeddAppBlocker').remove();}else
location.reload(true);}});}function
initSubObjects(data){if(!data.subObjects)return;for(var
i=0;i<data.subObjects.length;i++){var
so=data.subObjects[i];if(so.type==='viewer'){initViewer(so.id,so);}}}function
initViewer(id,data){if(!e10ViewerDelegatesDone){$("body").on('keyup',"input.e10-viewer-search",function(event){viewerIncSearch($(this),event);});$("body").on('change',"input.e10-viewer-param",function(event){viewerIncSearch($(this),event);});$("body").on('keydown',"input.e10-viewer-search",function(event){viewerKeyboard($(this),event);});$("body").on('keyup',"",function(event){testHotkey(event);});$('body').delegate('ul.e10-viewer-list >li','dblclick',function(event){event.stopPropagation();event.preventDefault();viewerItemDblClick($(this));});$("body").delegate("ul.e10-viewer-list>li, table.dataGrid tr.e",'click',function(event){viewerItemClick($(this));});$("body").delegate("div.e10-viewer-list>div.r",'click',function(event){viewerItemClick($(this));});$("body").delegate("div.e10-rows ul li.e10-rows-append button",CLICK_EVENT,function(event){e10AppendFormRow($(this));});$("body").delegate("button.e10-row-append",CLICK_EVENT,function(event){e10AppendFormProperty($(this));});$('body').delegate("div.viewerQuerySelect span.q",CLICK_EVENT,function(event){e10viewerChangeMainQuery($(this),event);});$('body').delegate("div.viewerBottomTabs span.q",CLICK_EVENT,function(event){e10viewerChangeBottomTab($(this),event);});$('body').delegate("div.viewerTopTabs span.q",CLICK_EVENT,function(event){e10viewerChangeTopTab($(this),event);});$('body').delegate("div.viewerPanelsTabs span.q",CLICK_EVENT,function(event){e10viewerChangePanelsTab($(this),event);});$("body").on('change',"div.queryWidget input",function(event){viewerIncSearch($(this,event,1));});$('body').delegate("ul.df2-detail-menu.viewer>li, div.e10-mv-ld-tabs>ul>li",CLICK_EVENT,function(event){e10viewerChangeDetail($(this),event);});$("body").on(CLICK_EVENT,"ul.e10-viewer-combo >li",function(event){e10viewerDoComboClick($(this),event);});$("body").on(CLICK_EVENT,".e10-sidebar-setval",function(event){e10FormsDoSidebarSetVal($(this),event);});$("body").on('dragenter',"ul.e10-viewer-list>li.r, .e10-att-target",function(event){e10viewerAttDragEnter($(this),event);});$("body").on('dragover',"ul.e10-viewer-list>li.r, .e10-att-target",function(event){e10viewerAttDragOver($(this),event);});$("body").on('dragleave',"ul.e10-viewer-list>li.r, .e10-att-target",function(event){e10viewerAttDragLeave($(this),event);});$("body").on('drop',"ul.e10-viewer-list>li.r, .e10-att-target",function(event){e10viewerAttDragDrop($(this),event);});e10ViewerDelegatesDone=true;}var
viewer=$('#'+id);if(data){viewerRefreshLayout(id);viewerAppendContent(viewer,data);}var
viewerLines=$('#'+id+'Items');if(viewerLines.hasClass('dataGrid')){viewerLines.find('>table.dataGrid.main').floatThead({scrollContainer:function(table){return table.closest('.df2-viewer-list');},useAbsolutePositioning:false,zIndex:101});}if(!data){viewerRefreshLayout(id);if(viewer.hasClass('e10-viewer-pane'))viewerRefresh(viewer);}if(viewerLines.hasClass('dataGrid'))viewerLines.find('>table.dataGrid.main').floatThead('reflow');if(viewerLines.length)viewerLines[0].addEventListener('scroll',e10viewerLoadNextData,g_supportsPassiveEL?{passive:true}:false);}function
viewerAppendContent(viewer,data){var
viewerMode=viewer.attr('data-mode');if(viewerMode!=='panes')return;var
cntColumns=data.viewer.panesColumns;var
columns=[];var
c=0;var
viewerList=$('#'+data.id+'Items');var
endMark=null;var
dynamicContent=viewerList.find('>div.e10-vp-dc');if(!dynamicContent.length){if(data.staticContent){var
scel=$('<div class="e10-vp-sc"></div>');var
sc=viewerList.append(scel);scel.html(data.staticContent);}dynamicContent=$('<div class="e10-vp-dc"></div>');viewerList.append(dynamicContent);endMark=$('<div class="e10-vp-endMark">'+data.endMark+'</div>');viewerList.append(endMark);}else{endMark=$(viewerList.find('>div.e10-vp-endMark'));endMark.html(data.endMark);}var
vgIdCurrent='___x___';for(var
i=0;i<data.htmlItems.length;i++){var
item=data.htmlItems[i];if(item['code']==='')continue;var
vgId=(item.vgId)?item.vgId:'NONE';if(vgId!==vgIdCurrent){var
existedColumns=dynamicContent.find('>div.e10-vp-col.vgId-'+vgId);if(!existedColumns.length){if(vgId!=='NONE'){var
gd=data.viewerGroups[vgId];if(gd['code']!==undefined&&gd['code']!==''){var
groupHeader=$('<div class="e10-vp-vg">'+gd['code']+'</div>');dynamicContent.append(groupHeader);}else{var
groupHeader=$('<div class="e10-vp-vg blank"></div>');dynamicContent.append(groupHeader);}if(gd['columnsHeaderCode']!==undefined&&gd['columnsHeaderCode']!==''){var
columnsHeader=dynamicContent.parent().parent().find('div.e10-sv-search-toolbar>div.e10-vp-dc-col-header');if(columnsHeader.length===0)dynamicContent.parent().parent().find('div.e10-sv-search-toolbar').append($('<div class="e10-vp-dc-col-header" style="width: 100%; display: inline-block;">'+gd['columnsHeaderCode']+'</div>'));}if(gd['cntColumns'])cntColumns=gd['cntColumns'];else
cntColumns=data.viewer.panesColumns;}if(cntColumns==0){var
oneEmWidth=parseFloat($("html").css("font-size"));var
minColEmWidth=data.viewer.panesColumnWidth;var
minColPxWidth=minColEmWidth*oneEmWidth;var
hh=viewerList.width();cntColumns=(hh/minColPxWidth)|0;if(!cntColumns)cntColumns=1;else
if(cntColumns>10)cntColumns=10;}var
className='e10-vp-col e10-vp-col-'+cntColumns+' vgId-'+vgId;var
columnsHeadersCode='';var
columnsHeadersClassName='e10-bold e10-vp-col-'+cntColumns;for(c=0;c<cntColumns;c++){if(data.viewer.columnsInfo&&data.viewer.columnsInfo[c]){columnsHeadersCode+='<div style="float: left;padding-left: 1ex; " class="'+columnsHeadersClassName+'">';columnsHeadersCode+=data.viewer.columnsInfo[c]['titleCode'];columnsHeadersCode+='</div>';}}if(columnsHeadersCode!==''){var
columnsHeader=dynamicContent.parent().parent().find('div.e10-sv-search-toolbar>div.e10-vp-dc-col-header');if(columnsHeader.length===0)dynamicContent.parent().parent().find('div.e10-sv-search-toolbar').append($('<div class="e10-vp-dc-col-header" style="width: 100%; display: inline-block;">'+columnsHeadersCode+'</div>'));}columns=[];for(c=0;c<cntColumns;c++){columns[c]=$('<div class="'+className+'"></div>');dynamicContent.append(columns[c]);}}else{columns=[];cntColumns=existedColumns.length;for(c=0;c<existedColumns.length;c++)columns[c]=$(existedColumns[c]);}c=0;vgIdCurrent=vgId;}if(item['columnNumber']!==undefined){columns[item['columnNumber']].append(item['code']);}else{columns[c].append(item['code']);c++;}if(c===cntColumns)c=0;}}function
e10viewerChangeMainQuery(e,event){var
sel=e.parent();if(sel.is('SPAN'))sel=sel.parent();sel.find('span.active').removeClass('active');sel.find('input').val(e.attr('data-mqid'));e.addClass('active');viewerRefresh(e);}function
e10viewerChangeBottomTab(e,event){var
sel=e.parent();if(sel.is('SPAN'))sel=sel.parent();sel.find('span.active').removeClass('active');sel.find('input').val(e.attr('data-mqid'));e.addClass('active');viewerRefresh(e);}function
e10viewerChangeTopTab(e,event){var
sel=e.parent();if(sel.is('SPAN'))sel=sel.parent();sel.find('span.active').removeClass('active');sel.find('input').val(e.attr('data-mqid'));e.addClass('active');viewerRefresh(e);}function
e10viewerChangePanelsTab(e,event){var
sel=e.parent();if(sel.is('SPAN'))sel=sel.parent();sel.find('span.active').removeClass('active');var
panelId=e.attr('data-id');sel.find('input').val(panelId);e.addClass('active');var
viewerId=searchObjectId(e,'viewer');var
viewer=$('#'+viewerId);e10setProgressIndicator(viewerId,1);var
tableName=viewer.attr("data-table");var
viewerName=viewer.attr("data-viewer-view-id");var
url="/api/viewerpanel/"+tableName+"/"+viewerName+'/'+panelId+"/"+'?mismatch=1&ownerViewerId='+viewerId;var
codeTarget=$('#'+viewerId+'Report >div.e10-mv-lr-content');e10.server.get(url,function(data){codeTarget.html(data.object.htmlContent);codeTarget.find('div.df2-viewer').each(function(){var
viewerId=$(this).attr("id");initSubObjects(data);});e10setProgressIndicator(viewerId,0);});}function
e10viewerChangeDetail(e,event){e.parent().find('li.active').removeClass('active');e.addClass('active');var
viewerId=e.parent().attr('data-viewer');var
listItem=$('#'+viewerId+'Items >.active');$('#mainBrowserRightBarButtonsAdd').find('>*').remove();$('#mainBrowserRightBarButtonsEdit').find('>*').remove();e10viewerSetDetail(viewerId,listItem);}function
e10viewerDoComboClick(e,event){var
viewerId=searchObjectId(e,'viewer');var
viewer=$('#'+viewerId);var
pk=e.attr('data-pk');if(viewer.attr('data-combo-column-target')){var
targetId=viewer.attr('data-combo-column-target');var
target=$('#'+targetId);if(target.attr('readonly')!==undefined)return;if(target.attr('data-listid')){var
table=searchParentAttr(e,'data-table');var
infotext=e.find('.df2-list-item-t1').text();var
listItems=target.find('ul').first();var
newItem="<li class='data' data-pk='"+pk+"' data-table='"+table+"'"+'>'+infotext+"<span class='e10-inputDocLink-closeItem'>&times;</span></li>";target.find("span.placeholder").hide();$(newItem).insertBefore($('#'+targetId+'>ul>li.input'));listItems.find('li.input>input').val('').focus();e10FormSetAsModified(target);var
formId=searchObjectId(target,'form');var
form=$('#'+formId);e10doSizeHints(form);if(target.hasClass('e10-ino-saveOnChange'))e10FormNeedSave(target,-1);}else{var
valueInput=target.find('input.e10-inputNdx');if(valueInput.is('INPUT')){valueInput.val(pk);target.find('span.btns').show();var
infotext=e.find('div.df2-list-item-t1').text();target.find('span.e10-refinp-infotext').text(infotext);}else{valueInput=target.find('input.e10-inputRefId, textarea.e10-inputRefId');var
inputPrefix=searchParentAttr(valueInput,'data-inputprefix');var
iel=e.get(0);for(var
i=0,attrs=iel.attributes,l=attrs.length;i<l;i++){var
attrName=attrs.item(i).nodeName;if(attrName.substring(0,7)!=='data-cc')continue;var
valParts=attrs.item(i).nodeValue.split(':');var
inputId='#'+inputPrefix+valParts[0];var
inputElement=$(inputId);if(inputElement.hasClass('e10-inputLogical')){var
checkIt=(b64DecodeUnicode(valParts[1])==='1');inputElement[0].checked=checkIt;}else
inputElement.val(b64DecodeUnicode(valParts[1]));}valueInput.addClass('e10-ino-saveOnChange');}if(event!==0&&event.shiftKey)valueInput.attr('data-softchange','1');e10FormSetAsModified(valueInput);if(valueInput.hasClass('e10-ino-saveOnChange'))valueInput.change();target.find('input.e10-inputRefId').focus();}return;}if(viewer.attr('data-combo-rows-target')){var
formId=viewer.attr('data-combo-formid-target');var
form=$('#'+formId);if(form.attr('data-readonly')!==undefined)return;var
options={"appendRowList":"rows","appendRowItemPK":pk};if(!e10SaveOnChange(form,options))setTimeout(function(){e10viewerDoComboClick(e,0)},50);}}var
dadCounter=0;var
lastDadElement=null;function
e10viewerAttDragEnter(e,event){event.stopPropagation();event.preventDefault();if(lastDadElement!=null)lastDadElement.removeClass('dropzone');dadCounter++;lastDadElement=e;if(!e.hasClass('dropzone')){e.addClass('dropzone');}}function
e10viewerAttDragLeave(e,event){dadCounter--;if(dadCounter===0){event.stopPropagation();event.preventDefault();e.removeClass('dropzone');lastDadElement=null;}}function
e10viewerAttDragOver(e,event){event.stopPropagation();event.preventDefault();}function
e10viewerAttDragDrop(e,event){event.stopPropagation();event.preventDefault();if(lastDadElement!=null)lastDadElement.removeClass('dropzone');lastDadElement=null;var
files=event.originalEvent.dataTransfer.files;var
viewerId='';if(e.is('li')&&e.hasClass('r'))viewerId=searchObjectId(e,'viewer');var
tableId=searchParentAttr(e,'data-table');var
pk=e.attr('data-pk');if(pk===undefined)pk=searchParentAttr(e,'data-pk');g_formId++;var
newElementId="mainEditF"+g_formId;var
url="/api/window/"+'lib.ui.AttachmentsWindow'+"/0?callback=?&newFormId="+newElementId+'&tableid='+tableId+'&recid='+pk;var
postData={};e10.server.post(url,postData,function(data){e10ViewerCreateEditForm(data,newElementId,'viewer',viewerId);var
attInput=$('#'+newElementId+' input.e10-att-input-file').get(0);attInput.files=files;e10AttWidgetFileSelected(attInput);});}function
reportWidgetRefreshLayout(){var
widget=$('#e10reportWidget');var
totalSizeY=widget.parent().height();var
totalSizeX=widget.parent().width();widget.width(totalSizeX);widget.height(totalSizeY);var
leftPanel=$("#e10reportWidget >div.e10-wr-left");var
reportsList=leftPanel.find("ul.e10-wr-listreps");var
content=$("#e10reportWidget >div.e10-wr-content");leftPanel.height(totalSizeY);reportsList.height(totalSizeY);var
reportsListSizeX=leftPanel.width();var
contentSizeX=totalSizeX-reportsListSizeX;content.height(totalSizeY);content.width(contentSizeX-4-8);var
contentData=$("#e10reportWidget >div.e10-wr-content >div.e10-wr-data");var
contentPanel=$("#e10reportWidget >div.e10-wr-content >div.e10-wr-params");contentData.width(contentSizeX-4-8-contentPanel.width()-3);contentData.height(totalSizeY-2);contentPanel.height(totalSizeY);}function
boardWidgetRefreshLayout(id){var
contentElement=$('#e10dashboardWidget>div>div.e10-widget-content');if(!contentElement.length){$('#e10dashboardWidget').find('div.e10-gs-row.sameHeight').each(function(){var
h=$(this).innerHeight()-20;$(this).find('>div>div').height(h);});var
maxh=$('#e10dashboardWidget').innerHeight();$('#e10dashboardWidget').find('div.df2-viewer').each(function(){var
oo=$(this).parent();oo.height(maxh-oo.position().top-15);});$('#e10dashboardWidget').find('div.e10-widget-reportViewer >div.e10-widget-content').each(function(){var
oo=$(this);oo.height(maxh-oo.position().top-20);});return;}var
height=contentElement.parent().parent().innerHeight();height-=contentElement.position().top;contentElement.height(height);var
widget=$('#'+id);var
widgetContent=$("#"+id+">div.e10-widget-content");var
totalSizeY=widgetContent.height();var
contentSizeX=widget.width();var
contentData=$("#"+id+">div.e10-widget-content >div.e10-wr-data");var
contentPanel=$("#"+id+" >div.e10-widget-content >div.e10-wr-params");contentData.width(contentSizeX-contentPanel.width());contentData.height(totalSizeY);contentPanel.height(totalSizeY);}function
viewerRefreshLayout(id,h){var
viewer=$('#'+id);var
viewerId=viewer.attr('data-viewer');var
viewerType=viewer.attr('data-viewertype');var
linesWidth=parseInt(viewer.attr('data-lineswidth'));var
totalSizeY=viewer.parent().height()|0;var
totalSizeX=viewer.parent().width()|0;viewer.width(totalSizeX);viewer.height(totalSizeY);var
viewerLinesContainer=$("#"+id+" >div.e10-sv-body");var
viewerLinesFWToolbar=$("#"+id+" >div.e10-sv-fw-toolbar");var
viewerLinesBottomTabs=viewerLinesContainer.find("div.viewerBottomTabs");var
viewerLinesSearch=$("#"+id+"Search");var
viewerLinesList=$("#"+id+"Items");var
viewerDetailList=$("#"+id+"Details");var
viewerDetailReport=$("#"+id+"Report");var
panelLeft=$("#"+id+"PanelLeft");var
panelRight=$("#"+id+"PanelRight");var
panelLeftSizeX=0;if(panelLeft.length)panelLeftSizeX=panelLeft.width();var
panelRightSizeX=0;if(panelRight.length)panelRightSizeX=panelRight.width();var
linesSizeX=totalSizeX;if(viewerType=='mainViewer')linesSizeX=((totalSizeX-panelLeftSizeX-panelRightSizeX)/100*linesWidth)|0;else{linesSizeX-=panelLeftSizeX;linesSizeX-=panelRightSizeX;}var
detailSizeX=totalSizeX-linesSizeX;detailSizeX-=panelLeftSizeX+panelRightSizeX;viewerLinesContainer.width(linesSizeX);viewer.show();var
topRowSizeY=0;if(viewerLinesSearch.is(':visible'))topRowSizeY+=viewerLinesSearch.height();var
toolbarSizeY=0;var
contentY=totalSizeY-topRowSizeY-toolbarSizeY-0;var
detailTop=viewer.position().top|0;var
containerTop=0;if(viewerLinesFWToolbar.length){containerTop+=viewerLinesFWToolbar.height();detailTop+=viewerLinesFWToolbar.height();totalSizeY-=viewerLinesFWToolbar.height();viewerLinesFWToolbar.width(linesSizeX+detailSizeX+panelRightSizeX);}viewerLinesContainer.height(totalSizeY);viewerLinesContainer.css({top:containerTop});var
bottomTabsHeight=0;if(viewerLinesBottomTabs.is('div'))bottomTabsHeight=viewerLinesBottomTabs.height();viewerLinesList.height(contentY-3-bottomTabsHeight);if(viewerLinesList.hasClass('dataGrid')){viewerLinesList.find('>table.dataGrid.main').floatThead('reflow');}if(viewerType=='mainViewer'){viewerDetailList.width(detailSizeX-10);viewerDetailList.height(totalSizeY);viewerDetailReport.width(detailSizeX-10);viewerDetailReport.height(totalSizeY);viewerDetailReport.show();var
panelsTabsSizeY=0;var
viewerDetailPanelTabs=viewerDetailReport.find('div.viewerPanelsTabs');if(viewerDetailPanelTabs.is('DIV'))panelsTabsSizeY=viewerDetailPanelTabs.height()+10;var
viewerDetailPanelContent=viewerDetailReport.find('div.e10-mv-lr-content');viewerDetailPanelContent.height(totalSizeY-panelsTabsSizeY-5);viewerDetailList.css({position:'absolute',left:(linesSizeX+viewerLinesContainer.position().left+10)|0,top:detailTop});viewerDetailReport.css({position:'absolute',left:(linesSizeX+viewerLinesContainer.position().left+10)|0,top:detailTop});viewerRefreshLayoutListDetail(viewer);}viewerLinesList.find('>li').each(function(){var
t1=$(this).find('div.df2-list-item-t1');var
i1=$(this).find('span.df2-list-item-i1');t1.width(t1.parent().width()-i1.width()-5);});}function
viewerRefreshLayoutListDetail(e){var
viewerId=searchObjectId(e,'viewer');var
viewerDetailList=$("#"+viewerId+"Details");var
sizeY=viewerDetailList.height();var
viewerDetailListHeader=viewerDetailList.find('div.e10-mv-ld-header');var
viewerDetailListContent=viewerDetailList.find('div.e10-mv-ld-content');var
viewerDetailListTabs=viewerDetailList.find('div.e10-mv-ld-tabs');var
contentSizeY=sizeY-viewerDetailListHeader.height()-2;if(viewerDetailListTabs.is('DIV')){contentSizeY-=viewerDetailListTabs.height();}viewerDetailListContent.height(contentSizeY);e10doSizeHints(viewerDetailListContent);viewerDetailListContent.find('table.default.main').floatThead({scrollContainer:function(table){return table.parent().parent();},useAbsolutePositioning:false,zIndex:10100});}function
initViewers(id){var
element=$('#'+id);element.find('div.df2-viewer').each(function(){var
viewerId=$(this).attr("id");initViewer(viewerId);});}function
e10viewerLineDetail(id,visibility){var
viewer=$("#"+id);var
detailElementId=viewer.attr('data-inline-source-element-detail-element');if(detailElementId!==undefined){var
detailElement=null;detailElement=$('#'+detailElementId);if(!visibility){detailElement.html('');return;}}var
viewerDetailList=$("#"+id+"Details");if(visibility&&viewerDetailList.is(':visible')){viewerRefreshLayoutListDetail(viewerDetailList);return;}else
if(!visibility&&!viewerDetailList.is(':visible'))return;var
viewer=$('#'+id);var
viewerLinesContainer=$("#"+id+" >div.e10-sv-body");var
totalSizeX=viewer.parent().width();var
linesSizeX=(((totalSizeX/5)*2)|0)-0;if(visibility){$('#mainViewerDetailMenu').show();viewerDetailList.show();viewerRefreshLayoutListDetail(viewerDetailList);}else{var
detailSizeX=totalSizeX-linesSizeX;$('#mainViewerDetailMenu').hide();$('#mainBrowserRightBarButtonsEdit *').detach();$('#mainBrowserRightBarButtonsAdd *').detach();viewerDetailList.hide();var
detailToolbar=$('#e10-tm-detailbuttonbox');detailToolbar.find('>*').remove();}}function
e10viewerLoadNextData(ev){var
e=$(ev.target);var
viewer=e.parent().parent();var
loadOnProgress=parseInt(viewer.attr('data-loadonprogress'));if(loadOnProgress)return;var
heightToEnd=e[0].scrollHeight-(e.scrollTop()+e.height());if(heightToEnd<=500){viewer.attr('data-loadonprogress',1);window.requestAnimationFrame(function(){viewerRefreshLoadNext(viewer.attr('id'));});}}function
e10viewerCloseDetail(e){var
viewerId=searchObjectId(e,'viewer');var
viewer=$('#'+viewerId);if(viewer.attr('data-toolbar')==='e10-tm-detailbuttonbox')e10browserCheckToolbar();var
activeItem=$("#"+viewerId+"Items li.active");if(activeItem.is('LI')){viewerItemClick(activeItem);if(activeItem.hasClass('active'))viewerItemClick(activeItem);}else
e10viewerLineDetail(viewerId,false);}function
e10viewerPrintDetail(e){var
viewerId=searchObjectId(e,'viewer');var
reportHeader=$('#'+viewerId).find('div.e10-mv-ld-header');var
reportContent=$('#'+viewerId).find('div.e10-reportContent');var
printCode="<div id='e10-print-page' class='e10-reportContentZTR' style='font-size: 70% !important;'>"+reportHeader.html()+reportContent.html()+"</div>";$('body').append(printCode);window.print();$('#e10-print-page').detach();mainBrowserRefreshLayout('mainBrowser');reportWidgetRefreshLayout();}function
e10viewerNavPath(viewer,tableName,docPK,listItem){var
viewerId=viewer.attr('data-viewer-view-id');var
detailId='default';var
activeDetail=viewer.find('div.e10-mv-ld-tabs >ul >li.active');if(activeDetail.is('LI')){detailId=activeDetail.attr('data-detail');}else{activeDetail=$('#mainViewerDetailMenu li.active');if(activeDetail.is('LI'))detailId=activeDetail.attr('data-detail');}var
apiPath="/api/detail/"+tableName+"/"+viewerId+'/'+detailId+"/"+docPK+'?mismatch=1';return apiPath;}function
viewerMenuLoadViewer(e){var
objectType=e.attr('data-object');if(objectType===undefined)return;var
subMenu=$('#mainBrowserLeftMenuSubItems');if(subMenu.hasClass('open')&&objectType!=='subMenu'&&(e.parent().attr('id')==='mainListViewMenu'||e.parent().attr('id')==='smallPanelMenu')){subMenu.removeClass('open').addClass('closed');}$('#mainBrowserRightBarButtonsAdd *').detach();$('#mainBrowserRightBarButtonsEdit *').detach();if(objectType=='viewer'){var
tableName=e.attr("data-table");var
funcName=e.attr("data-func");g_formId++;var
newElementId="mainListV"+g_formId;var
urlPath="/api/viewer/"+tableName+"/"+funcName+"/html?fullCode=1&newElementId="+newElementId;if(e.attr('data-object-params'))urlPath+='&data-object-params='+e.attr('data-object-params');var
browserContent=$("#mainBrowserContent");e10setProgress(browserContent,1);e10.server.get(urlPath,function(data){mainBrowserRefreshLayout('mainBrowser',data.object);e10browserSetContent(data.object);initViewer(newElementId,data.object);var
viewerLines=$('#'+newElementId+'Items');viewerLines.find('>li').each(function(){var
t1=$(this).find('div.df2-list-item-t1');var
i1=$(this).find('span.df2-list-item-i1');t1.width(t1.parent().width()-i1.width()-5);});$('#e10-panel-topmenu').attr('data-viewer',newElementId);if(!g_e10_touchMode)$('#'+newElementId+'Search input').first().focus();});setNotificationBadges();return;}if(objectType=='widget'){var
className=e.attr("data-class");if(className==='Shipard.Report.WidgetReports'||className==='e10.widgetReports'){var
urlPath="/api/widget/"+className+"/html?fullCode=1";if(e.attr("data-subclass"))urlPath+='&subclass='+e.attr("data-subclass");if(e.attr("data-subtype"))urlPath+='&subtype='+e.attr("data-subtype");var
browserContent=$("#mainBrowserContent");e10setProgress(browserContent,1);e10.server.get(urlPath,function(data){mainBrowserRefreshLayout('mainBrowser',data.object);e10browserSetContent(data.object);reportWidgetRefreshLayout();});}else
e10widgetRefresh(1);return;}if(objectType=='wizard'){e10DocumentWizard(e);return;}if(objectType=='subMenu'){if(subMenu.hasClass('closed')){subMenu.removeClass('closed').addClass('open');mainBrowserRefreshLayout('mainBrowser');$('#mainBrowserContent *').detach();$('#mainBrowserRightBarDetails').find('>*').remove().html('');}var
subMenuId=e.attr('data-mi-uid');subMenu.find('>div').each(function(){$(this).hide().removeClass('active');});var
subMenuPanel=$('#'+subMenuId);subMenuPanel.addClass('active').show();var
activeMenuItem=subMenuPanel.find('>ul>li.active');if(!activeMenuItem.is('LI')){activeMenuItem=subMenuPanel.find('>ul>li:first');activeMenuItem.addClass('active');}activeMenuItem.trigger('click');return;}alert("viewerMenuLoadView: "+objectType);}function
viewerItemClick(e){if(!e.attr('data-pk'))return;var
viewerId=searchObjectId(e,'viewer');var
viewer=$('#'+viewerId);if(viewer.attr('data-toolbar')==='e10-tm-detailbuttonbox')e10browserCheckToolbar();var
viewId=viewer.attr('data-viewer');var
viewerType=viewer.attr('data-viewertype');var
viewerMainType=viewer.attr('data-type');var
viewerList=$('#'+viewerId+'Items');var
rowElement=viewerList.attr('data-rowelement');var
toolbarId=viewer.attr('data-toolbar');var
detailToolbar=$('#'+toolbarId);if(e.hasClass('active')){$('#'+toolbarId+' *').remove();e.removeClass('active');e10viewerLineDetail(viewerId,false);return;}$('#'+viewerId+'Items '+rowElement).removeClass("active");e.addClass("active");if(viewerType=='detailViewer'){e10viewerSetDetailInline(viewerId,e);return;}if(viewerType==='miniViewer'&&e.hasClass('e')){e10viewerSetDetail(viewerId,e,1);return;}if(viewerMainType==='inline'){e10viewerSetDetail(viewerId,e);return;}if(viewerType!='mainViewer')return;$('#mainBrowserRightBarButtonsEdit *').detach();e10viewerSetDetail(viewerId,e);}function
e10viewerSetDetail(viewerId,listItem,toolbarOnly){e10setProgressIndicator(viewerId,1);var
viewer=$("#"+viewerId);var
tableName=searchParentAttr(listItem,'data-table');var
detail=$('#'+viewerId+'Details');var
detailHeader=detail.find('div.e10-mv-ld-header');var
detailContent=detail.find('div.e10-mv-ld-content');var
detailToolbar=null;var
detailToolbarId=viewer.attr('data-toolbar');if(detailToolbarId!=='NONE')detailToolbar=$('#'+detailToolbarId);var
docPK=listItem.attr("data-pk");var
urlPath=e10viewerNavPath(viewer,tableName,docPK,listItem);urlPath+='&fullCode=1';var
paramsElement=$('#e10-tm-viewerbuttonbox');var
params=df2collectFormData(paramsElement);if(params!=='')urlPath+='&'+params;e10.server.setRemote(viewer);e10.server.get(urlPath,function(data){detail.attr('data-table',tableName);detail.attr('data-pk',docPK);detail.attr('data-addparams','');if(toolbarOnly){detailHeader.html(data.object.htmlHeader);if(detailToolbar!==null)detailToolbar.html(data.object.htmlButtons);}else{if(data.object.disabledDetails){var
tabs=$('#mainBrowserRightBarDetails>ul.df2-detail-menu.viewer');tabs.find('>li').each(function(){var
detailId=$(this).attr("data-detail");if(data.object.disabledDetails.disabled.indexOf(detailId)===-1)$(this).show();else
$(this).hide();});if(data.object.disabledDetails.activate){tabs.find('>li.active').removeClass('active');tabs.find('>li[data-detail="'+data.object.disabledDetails.activate+'"]').addClass('active');}}detailHeader.html(data.object.htmlHeader);detailContent.html(data.object.htmlContent);if(detailToolbar!==null)detailToolbar.html(data.object.htmlButtons);$('#mainBrowserRightBar').attr('data-viewer',data.object.detailViewerId);if(data.object.htmlCodeToolbarViewer)$('#mainBrowserRightBarButtonsAdd').html(data.object.htmlCodeToolbarViewer);e10viewerLineDetail(viewerId,true);e10DecorateFormWidgets(detailContent);initSubObjects(data);}e10setProgressIndicator(viewerId,0);});}function
e10viewerSetDetailInline(viewerId,listItem){var
viewer=$("#"+viewerId);var
tableName=searchParentAttr(listItem,'data-table');var
toolbarId=viewer.attr('data-toolbar');var
detailToolbar=$('#'+toolbarId);var
detailId='E10.TableViewDetail';if(viewer.attr('data-inline-source-element-detail-id'))detailId=viewer.attr('data-inline-source-element-detail-id');var
detailElementId=viewer.attr('data-inline-source-element-detail-element');var
detailElement=null;if(detailElementId!==undefined)detailElement=$('#'+detailElementId);var
docPK=listItem.attr("data-pk");var
urlPath="/api/detail/"+tableName+"/"+viewer.attr('data-viewer-view-id')+'/'+detailId+"/"+docPK+'?mismatch=1&fullCode=1&embeddedViewer=1';e10.server.setRemote(viewer);e10.server.get(urlPath,function(data){if(detailElement)detailElement.html(data.object.htmlContent);detailToolbar.html(data.object.htmlButtons);});}function
viewerItemDblClick(e,disableEdit){var
viewerId=searchObjectId(e,'viewer');var
viewer=$('#'+viewerId);var
tableName=viewer.attr("data-table");var
docPK=e.attr("data-pk");if(viewer.attr('data-viewertype')!=='mainViewer')return false;var
dblClkBtn=$('#e10-tm-viewerbuttonbox').find('button.dblclk');if(dblClkBtn.is('button')){if(dblClkBtn.attr('data-addparams')){var
newAddParams=dblClkBtn.attr('data-addparams').replace("{pk}",docPK,"g");dblClkBtn.attr('data-addparams',newAddParams);}dblClkBtn.click();return true;}if(disableEdit===1)return false;return false;}function
viewerRefresh(e,focusPK,appendLines){var
viewerId=searchObjectId(e,'viewer');var
viewer=$('#'+viewerId);var
viewerType=viewer.attr('data-viewertype');var
viewerLines=$('#'+viewerId+'Items');if(!appendLines){e10viewerCloseDetail(e);}var
tableName=viewer.attr("data-table");if(!tableName)return;var
viewerOptions=viewer.attr("data-viewer-view-id");var
urlPath='';var
rowsPageNumber=0;var
refreshRowsPageNumber=0;if(appendLines)rowsPageNumber=parseInt(viewerLines.attr('data-rowspagenumber'))+1;else{refreshRowsPageNumber=parseInt(viewerLines.attr('data-rowspagenumber'));viewerLines.attr('data-rowspagenumber',0);}urlPath='/api/viewer/'+tableName+'/'+viewerOptions+'/html'+"?callback=?";if(refreshRowsPageNumber)urlPath+="&refreshRowsPageNumber="+refreshRowsPageNumber
else
urlPath+="&rowsPageNumber="+rowsPageNumber;var
queryParams=viewer.attr("data-queryparams");if(queryParams)urlPath+='&'+queryParams;df2FillViewerLines(viewerId,urlPath,focusPK,appendLines);}function
viewerRefreshLoadNext(viewerId){var
viewer=$('#'+viewerId);var
viewerLines=$('#'+viewerId+'Items');var
tableName=viewer.attr("data-table");if(!tableName)return;var
viewerOptions=viewer.attr("data-viewer-view-id");var
urlPath='';var
rowsPageNumber=parseInt(viewerLines.attr('data-rowspagenumber'))+1;urlPath='/api/viewer/'+tableName+'/'+viewerOptions+'/html'+"?callback=?&rowsPageNumber="+rowsPageNumber;var
queryParams=viewer.attr("data-queryparams");if(queryParams)urlPath+='&'+queryParams;df2FillViewerLines(viewerId,urlPath,undefined,1);}function
df2viewerFocusPK(viewerId,pk){var
viewerLines=$('#'+viewerId+'Items');var
rowElement=viewerLines.attr('data-rowelement');var
oneRow=null;if(rowElement==='tr'){oneRow=viewerLines.find('tr[data-pk="'+pk+'"]').first();if(oneRow.length){viewerLines.scrollTo(oneRow);viewerItemClick(oneRow);}return;}oneRow=$('#'+viewerId+'Items >[data-pk="'+pk+'"]').first();if(oneRow.length){oneRow.parent().scrollTo(oneRow);viewerItemClick(oneRow);}}var
g_incSearchTimer=0;function
viewerKeyboard(e,event){var
viewerId='';if(e.hasClass('e10-inputRefId')||e.hasClass('e10-inputListSearch'))viewerId=searchObjectId($('#'+e.attr('data-sid')+' >div.df2-viewer'),'viewer');else
viewerId=searchObjectId(e,'viewer');var
viewer=$('#'+viewerId);if(event&&event.type=='keydown'){if(event.keyCode==38){event.stopPropagation();event.preventDefault();viewerFocusLine(viewer,-1);}else
if(event.keyCode==40){event.stopPropagation();event.preventDefault();viewerFocusLine(viewer,1);}else
if(event.keyCode==13){event.stopPropagation();event.preventDefault();viewerEnter(viewer,e,event);}}}function
viewerFocusLine(viewer,dir){var
rows=viewer.find('ul.e10-viewer-list');var
focusedRow=rows.find('li.active');var
checkFocus=0;if(dir===1){if(focusedRow.is('LI')){var
nextRow=focusedRow.next();if(nextRow.is('LI')){focusedRow.removeClass('active');nextRow.addClass('active');checkFocus=1;}}else{var
firstRow=rows.find('li').first();if(firstRow.is('LI')){firstRow.addClass('active');checkFocus=1;}}}else
if(dir===-1){if(focusedRow.is('LI')){var
prevRow=focusedRow.prev();if(prevRow.is('LI')){focusedRow.removeClass('active');prevRow.addClass('active');checkFocus=1;}else
return;}}if(checkFocus){focusedRow=rows.find('li.active');var
frHeight=focusedRow.height();var
ofsY=focusedRow.offset().top-rows.offset().top;var
szeY=rows.height();var
heightToEnd=rows[0].scrollHeight-(rows.scrollTop()+rows.height());if((ofsY+frHeight)>rows.height())rows.scrollTop(rows.scrollTop()+frHeight*2);else
if((ofsY-frHeight)<0)rows.scrollTop(rows.scrollTop()-frHeight*2);}}function
viewerEnter(viewer,srcElement,event){var
rows=viewer.find('ul.e10-viewer-list');var
focusedRow=rows.find('li.active');if(viewer.attr('data-combo-formid-target')){}else
if(viewer.attr('data-combo-column-target')){e10viewerDoComboClick(focusedRow,event);if(srcElement.hasClass('e10-inputRefId'))srcElement.focusNextInputField();}else{viewerItemDblClick(focusedRow);}}function
viewerIncSearch(e,event,force){var
srcElement=null;if(e.hasClass('e10-inputRefId')||e.hasClass('e10-inputListSearch'))srcElement=$('#'+e.attr('data-sid')+' >div.df2-viewer');else
srcElement=e;var
viewerId=searchObjectId(srcElement,'viewer');var
viewer=$('#'+viewerId);var
thisVal=e.val();if(e.attr('data-lastvalue')&&e.attr('data-lastvalue')==thisVal&&force!==undefined)return;var
escape=0;if(event&&event.type=='keyup'){if(e.attr('data-onenter')){if(event.keyCode!==13)escape=1;}else
if(event.keyCode==13)escape=1;if(!e.attr('data-lastvalue')&&thisVal=='')return;if(event.keyCode==38||event.keyCode==40||escape)return;}if(viewer.attr('data-loadonprogress')&&viewer.attr('data-loadonprogress')!=0){g_incSearchTimer=setTimeout(function(){viewerIncSearch(e)},100);return;}if(g_incSearchTimer){clearTimeout(g_incSearchTimer);g_incSearchTimer=0;}if(escape)return;e.attr('data-lastvalue',thisVal);viewer.attr('data-loadonprogress',1);viewerRefresh(srcElement);}function
df2CreateDialog(urlPath){}function
df2ViewerAction(event,e){var
actionType=e.attr("data-action");if(actionType=="fulltextsearch")return;if(actionType=="fulltextsearchclear"){var
inp=e.parent().parent().find("input").first();inp.val("").focus();viewerIncSearch(inp);return;}var
table=searchParentAttr(e,"data-table");if(callUiHook(actionType,table,$(e)))return;if(actionType=="newform"){var
copyDoc=0;var
doIt=1;if(event.shiftKey||event.altKey||e.attr('data-copyfrom')){copyDoc=1;if(!event.shiftKey&&!event.altKey)doIt=confirm("Opravdu udělat kopii dokumentu?");else
if(event.altKey){doIt=confirm("Opravdu udělat kopii dokumentu včetně příloh?");if(doIt)copyDoc=2;}}if(doIt)e10ViewerAddRow(e,copyDoc);return;}if(actionType=="editform"){e10ViewerEditRow(e);return;}if(actionType=="saveform"){if(event.shiftKey&&e.attr('data-noclose')=='1')e.removeAttr('data-noclose');if(!df2saveForm(e))setTimeout(function(){df2ViewerAction(event,e)},50);return;}if(actionType=="cancelform"){e10ViewerCancelForm(e);return;}if(actionType=="deleteform"){e10ViewerDeleteRow(e,'delete');return;}if(actionType=="undeleteform"){e10ViewerDeleteRow(e,'undelete');return;}if(actionType=="close-lv-detail"){e10viewerCloseDetail(e);return;}if(actionType=="print-lv-detail"){e10viewerPrintDetail(e);return;}if(actionType=="print"){e10ViewerPrintDetail(e);return;}if(actionType=="printdirect"){e10ViewerPrintDetailDirect(e);return;}if(actionType=="printviewer"){e10ViewerPrint(e);return;}if(actionType=="help"){e10Help(e);return;}if(actionType=="close-help"){e10CloseHelp(e);return;}if(actionType=="addwizard"){e10ViewerAddWizard(e);return;}if(actionType==="window"){e10ViewerWindow(e);return;}if(actionType=="wizardnext"){e10WizardNext(e);return;}if(actionType==="open-link"){var
url=e.attr('data-url-download');var
usePopup=0;var
shift=0;if((event&&event.altKey))shift=1;var
withShift='popup';if(e.attr('data-with-shift')==='tab')usePopup=!shift;else
if(e.attr('data-with-shift')==='popup'||e.attr('data-with-shift')===undefined)usePopup=shift;var
popUpId='default';if(e.attr('data-popup-id'))popUpId=e.attr('data-popup-id');if(popUpId==='NEW-TAB'){window.open(url,'_blank');return;}if(popUpId==='THIS-TAB'){document.location.href=url;return;}if(usePopup){var
height=((screen.availHeight*window.devicePixelRatio)*0.8)|0;var
width=(height*.7+50)|0;var
nw=window.open(url,"e10pw"+popUpId,"location=no,status=no,width="+width+",height="+height);nw.focus();return;}window.open(url,"e10nt"+popUpId);return;}if(actionType==="open-popup"){var
popUpId='e10pw-default';if(e.attr('data-popup-id'))popUpId=e.attr('data-popup-id');var
popUpUrl=e.attr('data-popup-url');if(!popUpUrl){return;}var
width=(screen.width*0.85)|0;var
height=(screen.height*0.75)|0;if(e.attr('data-popup-width')!==undefined)width=((screen.availWidth*window.devicePixelRatio)*parseFloat(e.attr('data-popup-width')))|0;if(!width)width=(screen.width*0.85)|0;if(e.attr('data-popup-height')!==undefined)height=((screen.availHeight*window.devicePixelRatio)*parseFloat(e.attr('data-popup-height')))|0;if(!height)height=(screen.height*0.75)|0;window.open(popUpUrl,"e10pw"+popUpId,"location=no,status=no,width="+width+",height="+height);return;}if(actionType==='open-iframe-app'){var
url=e.attr('data-popup-url');if(!url){return;}var
embeddAppHtml="<div id='embeddAppBlocker' class='iframe-app' style='position: fixed; z-index: 31000; background-color: #000; opacity: .5;'></div>"+"<iframe id='embeddApp' frameborder='0' src='"+url+"' style='padding: 0; background-color: white; position: absolute;z-index: 32000; box-shadow: 0 5px 5px rgba(0, 0, 0, 0.5); border: 1px solid navy; overflow: hidden;'></iframe>";$('body').append(embeddAppHtml);var
embedAppBlocker=$('#embeddAppBlocker');var
embedApp=$('#embeddApp');var
leftOffset=5;var
rightOffset=5;var
topOffset=5;var
bottomOffset=5;embedAppBlocker.css({left:0,top:0,width:window.innerWidth,height:$(window).height()});embedApp.css({left:leftOffset,top:topOffset,width:window.innerWidth-leftOffset-rightOffset-5,height:$(window).height()-topOffset-bottomOffset});}if(actionType==="sidebar-tab"){var
activeTab=e.parent().find('>li.active');var
activeTabId=activeTab.attr('data-tab-id');activeTab.removeClass('active');e.addClass('active');$('#'+activeTabId).removeClass('active');var
activeTabContent=$('#'+e.attr('data-tab-id'));activeTabContent.addClass('active');activeTabContent.find('div.df2-viewer').each(function(){var
viewerId=$(this).attr("id");viewerRefreshLayout(viewerId);});return;}if(actionType==='moveUp'||actionType==='moveDown'){e10ViewerSwapRows(e,actionType);return;}if(actionType==='viewer-inline-action'){e10ViewerInlineAction(e);return;}if(actionType==='inline-action'){e10InlineAction(e);return;}e10ViewerRowAction(e);}function
viewerAddParams(viewer,button){var
ap=viewer.attr('data-addparams');var
bottomTab=viewer.find('div.viewerBottomTabs >span.active');if(bottomTab.is('span')){var
btap=bottomTab.attr('data-addparams');if(btap!==undefined){if(ap!='')ap+='&';ap+=btap;}}var
leftPanelList=viewer.find('div.e10-sv-left div.title.active');if(leftPanelList.length&&leftPanelList.attr('data-addparams')){var
btap=leftPanelList.attr('data-addparams');if(btap!==undefined){if(ap!='')ap+='&';ap+=btap;}}if(button){var
btap=button.attr('data-addparams');if(btap!==undefined){if(ap!='')ap+='&';ap+=btap;}}return ap;}function
e10ViewerAddWizard(e){var
viewerId=searchParentAttr(e,'data-viewer');var
viewer=$('#'+viewerId);var
table=searchParentAttr(viewer,"data-table");var
addParams=viewerAddParams(viewer,e);var
wizardClass=e.attr('data-class');var
srcObjectType='viewer';var
srcObjectId=viewerId;if(e.attr('data-srcobjecttype')!==undefined)srcObjectType=e.attr('data-srcobjecttype');if(e.attr('data-srcobjectid')!==undefined)srcObjectId=e.attr('data-srcobjectid');var
fullTextSearch=viewer.find("div.e10-sv-search input").first().val();var
focusedPK='';var
focusedRow=viewer.find('ul.e10-viewer-list > li.active');if(focusedRow.is('li'))focusedPK=focusedRow.attr('data-pk');else
if(e.attr('data-pk'))focusedPK=e.attr('data-pk');g_formId++;var
newElementId="mainEditF"+g_formId;var
url="/api/wizard/"+wizardClass+"/0?callback=?&fullTextSearch="+fullTextSearch+"&newFormId="+newElementId;if(addParams)url+='&'+addParams;if(focusedPK!='')url+='&focusedPK='+focusedPK;var
params=elementAttributes(e,'data-param');if(params)url+='&'+params;var
postData={};var
dataFormElementId='mainBrowserTopBar';if(e.attr('data-form-element-id')!=undefined)dataFormElementId=e.attr('data-form-element-id');var
dataForm=$('#'+dataFormElementId);e10collectFormData(dataForm,postData);e10.server.post(url,postData,function(data){e10ViewerCreateEditForm(data,newElementId,srcObjectType,srcObjectId);});}function
e10ViewerWindow(e){var
viewerId=searchParentAttr(e,'data-viewer');var
viewer=$('#'+viewerId);var
table=searchParentAttr(viewer,"data-table");var
addParams=viewerAddParams(viewer,e);var
wizardClass=e.attr('data-class');var
fullTextSearch=viewer.find("div.e10-sv-search input").first().val();var
focusedPK='';var
focusedRow=viewer.find('ul.e10-viewer-list > li.active');if(focusedRow.is('li'))focusedPK=focusedRow.attr('data-pk');else
if(e.attr('data-pk'))focusedPK=e.attr('data-pk');g_formId++;var
newElementId="mainEditF"+g_formId;var
url="/api/window/"+wizardClass+"/0?callback=?&fullTextSearch="+fullTextSearch+"&newFormId="+newElementId;if(addParams)url+='&'+addParams;if(focusedPK!='')url+='&focusedPK='+focusedPK;var
postData={};var
dataForm=$('#mainBrowserTopBar');e10collectFormData(dataForm,postData);e10.server.post(url,postData,function(data){e10ViewerCreateEditForm(data,newElementId,'viewer',viewerId);});}function
e10AppendFormRow(button){var
table=searchParentAttr(button,"data-table");var
list=button.attr('data-list');var
pk=searchParentAttr(button,"data-pk");var
rowNumber=button.attr('data-row');var
rows=button.parent().parent();var
url=httpApiRootPath+"/api/list/"+table+'/'+list+'/append/'+pk+"?callback=?&rowNumber="+rowNumber;var
options={"appendRowList":list,"appendBlankRow":1};e10SaveOnChange(button,options);}function
e10AppendFormProperty(button){var
table=searchParentAttr(button,"data-table");var
list=button.attr('data-list');var
pk=searchParentAttr(button,"data-pk");var
row=button.parent().parent();var
rows=row.parent();var
formElementId=searchObjectId(button,'form');var
rowNumber=rows.find('tr.e10-property').length+100;var
propertyId=button.attr('data-propid');var
groupId=button.attr('data-groupid');var
url=httpApiRootPath+"/api/list/"+table+'/'+list+'/append/'+pk+"?callback=?&rowNumber="+rowNumber+'&propId='+propertyId+'&groupId='+groupId+'&formElementId='+formElementId;var
jqxhr=$.getJSON(url,function(data){row.after(data.object.htmlContent);e10DecorateFormWidgets(rows);row.next().find('input.e10-ef-w50').focus();}).error(function(){alert("error 12: content not loaded ("+url+")");});}function
e10ViewerAddRow(e,copyDoc){var
viewerId=searchParentAttr(e,'data-viewer');var
viewer=$('#'+viewerId);var
table=searchParentAttr(viewer,"data-table");var
addParams=viewerAddParams(viewer,e);var
fullTextSearch=viewer.find("div.e10-sv-search input").first().val();g_formId++;var
newElementId="mainEditF"+g_formId;var
focusedPK='';var
viewerLines=$('#'+viewerId+'Items');var
rowElement=viewerLines.attr('data-rowelement');if(rowElement==='tr'){var
focusedRow=viewerLines.find('>table >tbody >tr.active');if(focusedRow.is('tr'))focusedPK=focusedRow.attr('data-pk');}else
if(rowElement==='li'){var
focusedRow=viewerLines.find('>li.active');if(focusedRow.is('li'))focusedPK=focusedRow.attr('data-pk');}var
url="/api/form/"+table+"/new/?callback=?&fullTextSearch="+fullTextSearch+"&newFormId="+newElementId;if(addParams)url+='&'+addParams;if(focusedPK!='')url+='&focusedPK='+focusedPK+'&copyDoc='+copyDoc;if(e.attr('data-create-params')!==undefined)url+='&'+e.attr('data-create-params')+'&createDoc=1';url+="&viewPortWidth="+document.documentElement.clientWidth;var
inlineSourceElementType=viewer.attr('data-inline-source-element-type');var
inlineSourceElementId=viewer.attr('data-inline-source-element-id');var
inlineSourceElement=null;if(inlineSourceElementType)inlineSourceElement={'type':inlineSourceElementType,'id':inlineSourceElementId};e10.server.post(url,{},function(data){e10ViewerCreateEditForm(data,newElementId,'viewer',viewerId,inlineSourceElement);});}function
e10ViewerEditRow(e){var
viewerId=searchParentAttr(e,'data-viewer');var
viewer=$('#'+viewerId);var
table=searchParentAttr(e,"data-table");var
pk=searchParentAttr(e,"data-pk");g_formId++;var
newElementId="mainEditF"+g_formId;var
url="/api/form/"+table+"/edit/"+pk+"?callback=?&newFormId="+newElementId;url+="&viewPortWidth="+document.documentElement.clientWidth;var
inlineSourceElementType=viewer.attr('data-inline-source-element-type');var
inlineSourceElementId=viewer.attr('data-inline-source-element-id');var
inlineSourceElement=null;if(inlineSourceElementType)inlineSourceElement={'type':inlineSourceElementType,'id':inlineSourceElementId};e10.server.setRemote(e);e10.server.post(url,{},function(data){e10ViewerCreateEditForm(data,newElementId,'viewer',viewerId,inlineSourceElement);});}function
e10ViewerDeleteRow(e,action){var
viewerId=searchParentAttr(e,'data-viewer');var
viewer=$('#'+viewerId);var
table=searchParentAttr(e,"data-table");var
pk=searchParentAttr(e,"data-pk");var
url="/api/form/"+table+"/"+action+"/"+pk+"?callback=?";e10.server.post(url,{},function(data){viewerRefresh($('#'+viewerId));});}function
e10ViewerSwapRows(e,action){var
viewer=null;var
viewerId='';viewer=searchParentAttrElement(e,'data-viewer');viewerId=viewer.attr('id');var
viewerLines=$('#'+viewerId+'Items');var
viewerMode=viewer.attr('data-mode');var
rowElement=viewerLines.attr('data-rowelement');var
activeRow=viewerLines.find(rowElement+'.r.active:first');if(!activeRow.length){return;}var
firstPK=activeRow.attr('data-pk');var
secondPK=0;if(action==='moveDown'){var
nextRow=activeRow.next();if(nextRow.length){secondPK=nextRow.attr('data-pk');nextRow.after(activeRow);}}else
if(action==='moveUp'){var
prevRow=activeRow.prev();if(prevRow.length){secondPK=prevRow.attr('data-pk');prevRow.before(activeRow);}}if(!firstPK||!secondPK){return;}var
table=searchParentAttr(e,'data-table');var
requestParams={};requestParams['object-class-id']='lib.core.ui.SwapViewerRows';requestParams['table']=table;requestParams['firstPK']=firstPK;requestParams['secondPK']=secondPK;e10.server.api(requestParams,function(data){});}function
e10ViewerPrintDetail(e){var
table=searchParentAttr(e,"data-table");var
reportClass=e.attr('data-report');var
pk=searchParentAttr(e,"data-pk");var
printer=searchParentAttr(e,"data-printer");if(printer===undefined)printer=0;var
url=httpApiRootPath+'/api/formreport/'+table+'/'+reportClass+'/'+pk+'?vvv='+Date.now();var
params=elementAttributes(e,'data-param');if(params)url+='&'+params;url+='&printer='+printer;if(e.attr('data-saveas')!==undefined){if(params)url+='&';else
url+='&';url+='saveas='+e.attr('data-saveas');window.location=url;}else{if(e10embedded){window.location=url;}else{var
width=(screen.width*0.85)|0;var
height=(screen.height*0.85)|0;window.open(url,"test","location=no,status=no,resizable,width="+width+",height="+height);}}}function
e10ViewerPrintDetailDirect(e){var
viewerId=searchParentAttr(e,'data-viewer');var
table=searchParentAttr(e,"data-table");var
reportClass=e.attr('data-report');var
pk=searchParentAttr(e,"data-pk");var
printer=e.attr('data-printer');var
url=httpApiRootPath+'/api/formreport/'+table+'/'+reportClass+'/'+pk+"?printer="+printer;if(e.attr('data-print')!==undefined)url+='&print='+e.attr('data-print');$.get(url);}function
e10ViewerPrint(e){var
viewerId=searchObjectId(e,'viewer');var
viewer=$('#'+viewerId);var
tableName=viewer.attr("data-table");if(!tableName)return;e10setProgressIndicator(viewerId,1);var
viewerOptions=viewer.attr("data-viewer-view-id");var
rowsPageNumber=-1;var
format=e.attr('data-format');var
urlPath='/api/viewer/'+tableName+'/'+viewerOptions+'/'+"?callback=?&rowsPageNumber="+rowsPageNumber+'&saveas='+format;var
queryParams=viewer.attr("data-queryparams");if(queryParams)urlPath+='&'+queryParams;var
form=$('#'+viewerId+'Search');var
formPostData=df2collectFormData(form);var
panelRight=$('#'+viewerId+'PanelRight');if(panelRight.length)formPostData+=df2collectFormData(panelRight,1);var
bottomTab=viewer.find("div.viewerBottomTabs input");if(bottomTab.is('INPUT'))formPostData+="&bottomTab="+encodeURI(bottomTab.val());var
qryForm=$('#'+viewerId+'Report');formPostData+=df2collectFormData(qryForm,1);e10.server.postForm(urlPath,formPostData,function(data){e10setProgressIndicator(viewerId,0);if(format==='pdf'){var
width=(screen.width*0.85)|0;var
height=(screen.height*0.85)|0;window.open(httpApiRootPath+data.object.fileUrl,"test","location=no,status=no,resizable,width="+width+",height="+height);}else
window.location=httpApiRootPath+data.object.fileUrl;});}function
e10ViewerRowAction(e){var
viewerId=searchParentAttr(e,'data-viewer');var
table=searchParentAttr(e,"data-table");var
pk=searchParentAttr(e,"data-pk");var
action=e.attr('data-action');var
url='/api/form/'+table+'/'+action+'/'+pk+'?callback=?';e10.server.get(url,function(data){viewerRefresh($('#'+viewerId));});}function
e10ViewerInlineAction(e){if(e.attr('data-object-class-id')===undefined)return;var
viewerId=searchParentAttr(e,'data-viewer');var
requestParams={};requestParams['object-class-id']=e.attr('data-object-class-id');requestParams['action-type']=e.attr('data-action-type');elementPrefixedAttributes(e,'data-action-param-',requestParams);if(e.attr('data-pk')!==undefined)requestParams['pk']=e.attr('data-pk');e10.server.api(requestParams,function(data){if(data.reloadNotifications===1)e10NCReset();viewerRefresh($('#'+viewerId));});}function
e10InlineAction(e){if(e.attr('data-object-class-id')===undefined)return;var
requestParams={};requestParams['object-class-id']=e.attr('data-object-class-id');requestParams['action-type']=e.attr('data-action-type');elementPrefixedAttributes(e,'data-action-param-',requestParams);if(e.attr('data-pk')!==undefined)requestParams['pk']=e.attr('data-pk');e10.server.api(requestParams,function(data){if(data.reloadNotifications===1)e10NCReset();if(e.parent().hasClass('btn-group')){e.parent().find('>button.active').removeClass('active');e.addClass('active');}});}function
e10FormNeedSave(element,saveType){e10FormSetAsModified(element);if(saveType===-1){e10SaveOnChange(element);}if(element.is('input')&&element.attr('type')==='radio'){element.parent().parent().find('>div.active').removeClass('active');if(element[0].checked)element.parent().addClass('active');}}function
e10FormRowAction(event,button){var
action=button.attr('data-action');if(action==="delete"){e10FormRowActionDelete(button);return;}if(action==="insert"){e10FormRowActionInsert(button);return;}if(action==="up"){e10FormRowActionUp(button);return;}if(action==="down"){e10FormRowActionDown(button);return;}alert("e10FormRowAction: "+action);}function
e10FormRowActionDelete(button){var
row=null;var
rows=null;if(button.parent().hasClass('e10-row-menu-btns'))row=button.parent().parent().parent().parent();else
row=button.parent().parent();rows=row.parent().parent();row.detach();e10FormNeedSave(rows,-1);}function
e10FormRowActionInsert(button){var
row=button.parent().parent().parent().parent();var
rows=row.parent().parent();var
table=searchParentAttr(button,"data-table");var
list=rows.attr('data-list');var
pk=searchParentAttr(button,"data-pk");var
rowNumber=button.attr('data-row');var
options={"appendRowList":list,"appendBlankRow":1,"rowOrder":button.attr('data-row-order'),"rowNumber":rowNumber};e10SaveOnChange(button,options);}function
e10FormRowActionUp(button){var
rowCurrent=button.parent().parent().parent().parent();var
rowPrev=rowCurrent.prev();var
rows=rowCurrent.parent().parent();var
list=rows.attr('data-list');var
rowOrderColumnId='rowOrder';var
rowOrderCurrentInputName='lists.'+list+'.'+rowCurrent.attr('data-rowid')+'.'+rowOrderColumnId;var
rowOrderCurrentInput=rowCurrent.find('input[name="'+rowOrderCurrentInputName+'"]');var
rowOrderCurrent=rowOrderCurrentInput.val();var
rowOrderPrevInputName='lists.'+list+'.'+rowPrev.attr('data-rowid')+'.'+rowOrderColumnId;var
rowOrderPrevInput=rowPrev.find('input[name="'+rowOrderPrevInputName+'"]');var
rowOrderPrev=rowOrderPrevInput.val();rowOrderCurrentInput.val(rowOrderPrev);rowOrderPrevInput.val(rowOrderCurrent);e10FormNeedSave(rows,-1);}function
e10FormRowActionDown(button){var
rowCurrent=button.parent().parent().parent().parent();var
rowNext=rowCurrent.next();var
rows=rowCurrent.parent().parent();var
list=rows.attr('data-list');var
rowOrderColumnId='rowOrder';var
rowOrderCurrentInputName='lists.'+list+'.'+rowCurrent.attr('data-rowid')+'.'+rowOrderColumnId;var
rowOrderCurrentInput=rowCurrent.find('input[name="'+rowOrderCurrentInputName+'"]');var
rowOrderCurrent=rowOrderCurrentInput.val();var
rowOrderNextInputName='lists.'+list+'.'+rowNext.attr('data-rowid')+'.'+rowOrderColumnId;var
rowOrderNextInput=rowNext.find('input[name="'+rowOrderNextInputName+'"]');var
rowOrderNext=rowOrderNextInput.val();rowOrderCurrentInput.val(rowOrderNext);rowOrderNextInput.val(rowOrderCurrent);e10FormNeedSave(rows,-1);}function
e10FormSaveBegin(element,formId){if(element.attr('data-fid')||formId){var
fid=(formId)?formId:element.attr('data-fid');if(fid==='AUTO')fid=searchParentAttr(element,"data-formid");var
saveBtn=$('#'+fid+'Save');if(saveBtn.attr('data-insave')==='1')return false;saveBtn.attr('data-insave','1');saveBtn.html("<i class='fa fa-upload'></i> Ukládá se").prop('disabled',true);return true;}return false;}function
e10FormSetAsModified(button){if(button.attr('data-miid'))button=$('#'+button.attr('data-miid'));if(button.attr('data-fid')){var
fid=button.attr('data-fid');var
saveBtn=$('#'+fid+'Save');saveBtn.html("<i class='fa fa-download'></i> Uložit").prop('disabled',false);}}function
e10FormSetAsSaved(fid){var
saveBtn=$('#'+fid+'Save');saveBtn.html("<i class='fa fa-check'></i> Uloženo").prop('disabled',true);saveBtn.attr('data-insave','0');}function
e10SaveOnChange(input,saveOptions){var
id=searchObjectId(input,'form');if(!e10FormSaveBegin(input,id))return false;var
e=$("#"+id);var
codeTarget=e.parent().parent();var
formData=df2collectEditFormData(e,$.myFormsData[id]);if(saveOptions)formData.saveOptions=saveOptions;if(input.attr('name'))formData.changedInput=input.attr('name');if(input.attr('data-softchange')==='1')formData.softChangeInput=1;var
focusedId=input.attr('id');var
table=e.attr("data-table");var
url="/api/form/"+table+"/save?callback=?&newFormId="+id;url+="&viewPortWidth="+document.documentElement.clientWidth;e10.server.post(url,formData,function(data){codeTarget.html(data.mainCode);var
sidebar=$("#"+id+'Sidebar');var
header=$("#"+id+'Header');header.html(data.htmlHeader);if(data.flags.resetButtons!==undefined){var
buttons=$("#"+id+'Buttons');buttons.html(data.buttonsCode);}df2FormsSetData(id,data);var
form=$("#"+id);e10DecorateFormWidgets(form);e10doSizeHints(form);if(data.saveResult!==undefined&&data.saveResult.modifiedRow!==undefined){var
rwsel=codeTarget.find("div.e10-rows.e10-rows-"+data.saveResult.modifiedList+" ul");var
mr=$(rwsel.find(">li")[data.saveResult.modifiedRow]);mr.addClass('lastModifiedRow');rwsel.parent().animate({scrollTop:rwsel.find(">li.lastModifiedRow").offset().top-rwsel.offset().top},10);mr.find('input:visible').first().focus().select();}else
if(saveOptions){var
rwsel=codeTarget.find("div.e10-rows.e10-rows-"+saveOptions.appendRowList+" ul");rwsel.find(">li.e10-row").last().find("input:visible").first().focus().select();}else{$('#'+g_focusedInputId).focus().select();}e10FormSetAsSaved(id);});return true;}function
e10DecorateFormWidgets(e){e.find("ul.e10-form-maintabs").each(function(){initMainTabs($(this).attr("id"))});e.find("ul.e10-form-tabs").each(function(){initTabs($(this).attr("id"))});e.find("input.e10-inputDate").datepicker({duration:50,beforeShow:function(i){if($(i).attr('readonly')){return false;}}});e.find("select.e10-inputEnumMultiple").each(function(){$(this).chosen();});}var
g_openModals=Array();function
e10ViewerCreateEditForm(data,formId,srcObjectType,srcObjectId,inlineSourceElement){var
sidebarPos=data.flags.sidebarPos;var
infoPanelPos=(data.flags.infoPanelPos===undefined)?0:data.flags.infoPanelPos;var
infoPanelWidth=(data.flags.infoPanelWidth===undefined)?null:data.flags.infoPanelWidth;var
flags="";for(var
colName
in
data.flags)flags+=" data-flag-"+colName+"='"+data.flags[colName]+"'";var
sidebarElementId=formId+'Sidebar';var
formClass='e10-ef-form';var
newFormHtml="<div id='"+formId+"FormEnv' class='e10-ef-env'";if(inlineSourceElement){newFormHtml+=" data-inline-source-element-type='"+inlineSourceElement.type+"'";newFormHtml+=" data-inline-source-element-id='"+inlineSourceElement.id+"'";formClass+=' e10-ef-form-'+inlineSourceElement.type;}else
formClass+=' e10-ef-form-core';newFormHtml+="></div>";newFormHtml+="<div id='"+formId+"Form' class='"+formClass+"' data-object='modal' data-formId='"+formId+"' data-srcObjectType='"+srcObjectType+"' data-srcObjectId='"+srcObjectId+"' data-sidebar-element-id='"+sidebarElementId+"' "+flags+">"+"<div id='"+formId+"Header' class='e10-ef-header'></div>"+"<div id='"+formId+"Content' class='e10-ef-content' data-e10mxw='1'></div>"+"<div id='"+formId+"Buttons' class='e10-ef-buttons'></div>";if(sidebarPos!==3)newFormHtml+="<div id='"+formId+"Sidebar' class='e10-ef-sidebar e10-ef-sidebar-"+sidebarPos+"'></div>";if(infoPanelPos!=0){newFormHtml+="<div style='overflow-y: auto; width: "+infoPanelWidth+";' id='"+formId+"InfoPanel' class='e10-ef-infoPanel e10-ef-infoPanel-"+infoPanelPos+"'></div>";}newFormHtml+="</div>";if(sidebarPos===3)newFormHtml+="<div id='"+formId+"Sidebar' class='e10-ef-sidebar e10-ef-sidebar-"+sidebarPos+"'></div>";var
mainBrowser=$('#mainBrowser');var
mainBrowserContent=$('#mainBrowserContent');var
newEditForm=$('body').append(newFormHtml);g_openModals.push(formId+'Form');var
formEnv=$('#'+formId+'FormEnv');var
formForm=$('#'+formId+'Form');var
formHeader=$('#'+formId+'Header');formHeader.html(data.htmlHeader);var
formContent=$('#'+formId+'Content');formContent.html(data.mainCode);var
formButtons=$('#'+formId+'Buttons');formButtons.html(data.buttonsCode);if(sidebarPos!=0){var
formSidebar=$('#'+formId+'Sidebar');formSidebar.html(data.sidebarCode);}if(infoPanelPos!=0){var
formInfoPanel=$('#'+formId+'InfoPanel');formInfoPanel.html(data.infoPanelCode);}e10DecorateFormWidgets($("#"+formId));e10ModalFormRefreshLayout(formId);df2FormsSetData(formId,data);e10doSizeHints(formContent);setTimeout(function(){initSubObjects(data);},10);if(data.flags.autofocus===undefined)$("#"+formId+" input[type='text']:visible,textarea:visible,div.e10-inputDocLink:visible").first().focus();else
$("#"+formId+" input.autofocus").first().focus();}function
e10ModalFormRefreshLayout(formId){var
body=$('body');var
mainBrowser=$('#mainBrowser');var
mainBrowserContent=$('#mainBrowserContent');var
form=$('#'+formId+'Form');var
formEnv=$('#'+formId+'FormEnv');var
formForm=$('#'+formId+'Form');var
formHeader=$('#'+formId+'Header');var
formContent=$('#'+formId+'Content');var
formButtons=$('#'+formId+'Buttons');var
formSidebar=$('#'+formId+'Sidebar');var
formInfoPanel=$('#'+formId+'InfoPanel');var
infoPanelWidth=0;if(formInfoPanel.length){infoPanelWidth=formInfoPanel.width();}var
infoPanelPos=parseInt(form.attr('data-flag-infopanelpos'));var
maximizeX=0;var
maximizeY=0;if(parseInt(form.attr('data-flag-maximize'))===1){maximizeX=1;maximizeY=1;}var
inlineSourceElementType=formEnv.attr('data-inline-source-element-type');var
leftEnvPos=0;var
leftOffset=0;var
envSizeX=0;var
envHeight=0;var
zindexEnv=9000+g_openModals.length*2;var
formPosTop=0;var
setFormSizeY=0;var
formSizeX=0;var
appMenu=$('#mainBrowserAppMenu');var
appMenuSizeY=0;if(appMenu.length)appMenuSizeY=appMenu.height();if(inlineSourceElementType===undefined){envHeight=mainBrowser.height()-appMenuSizeY;envSizeX=mainBrowserContent.width()+$('#mainBrowserRightBar').width();if(body.hasClass('e10-appEmbedAppIframe')){leftOffset=$('#mainBrowserLeftMenu').width();leftEnvPos=leftOffset;envSizeX+=leftOffset;}else
if((!body.hasClass('e10-appNormal')&&(!body.hasClass('e10-appEmbed')))||g_openModals.length>1)leftOffset=20;leftOffset*=g_openModals.length;var
activeMenuItem=$("#mainListViewMenu li.terminal.activeMainItem");if(activeMenuItem.is('LI'))leftEnvPos=mainBrowserContent.position().left;else
envSizeX+=mainBrowserContent.position().left;if(formForm.attr('data-flag-terminal')==="1"&&leftEnvPos===0)leftEnvPos=mainBrowserContent.position().left;formEnv.css({left:leftEnvPos,top:appMenuSizeY,width:envSizeX,height:envHeight,'z-index':zindexEnv});formPosTop=appMenuSizeY;setFormSizeY=envHeight;formSizeX=envSizeX-leftOffset-mainBrowserContent.position().left;}else
if(inlineSourceElementType==='form'){var
inlineSourceElementId=formEnv.attr('data-inline-source-element-id');var
parentForm=$('#'+inlineSourceElementId+'Form');var
parentFormContent=$('#'+inlineSourceElementId+'Content');leftEnvPos=parentForm.position().left;envSizeX=parentFormContent.width();var
topEnvPos=parentForm.position().top;envHeight=parentForm.height();formEnv.css({left:leftEnvPos,top:topEnvPos,width:envSizeX+2,height:envHeight,'z-index':zindexEnv});formPosTop=parentFormContent.position().top+appMenuSizeY+10;setFormSizeY=parentFormContent.innerHeight();formSizeX=envSizeX-leftOffset;}formSizeX-=infoPanelWidth;var
contentLeft=0;var
sidebarPos=parseInt(form.attr('data-flag-sidebarpos'));var
sidebarWidthPerc=0.25;if(form.attr('data-flag-sidebarwidth')!==undefined)sidebarWidthPerc=parseFloat(form.attr('data-flag-sidebarwidth'));var
sidebarWidth=((formSizeX*sidebarWidthPerc)|0);if(sidebarPos===0||sidebarPos===3)sidebarWidth=0;var
contentSizeX=formSizeX-sidebarWidth;if(!maximizeX)contentSizeX=formContent.width()+30;if(sidebarPos===2){}else
if(sidebarPos===1){contentLeft=sidebarWidth;}var
setFormLeft=mainBrowserContent.position().left+leftOffset;var
setFormSizeX=formSizeX;if(maximizeX===0)setFormSizeX=contentSizeX+sidebarWidth;var
zindexForm=9000+g_openModals.length*2+1;formForm.css({left:setFormLeft,top:formPosTop,width:setFormSizeX,height:setFormSizeY,'z-index':zindexForm});formHeader.css({left:contentLeft,width:contentSizeX});formContent.width(contentSizeX);formButtons.css({left:contentLeft,width:contentSizeX});var
contentSizeY=envHeight-formButtons.height()-formHeader.height()-4;formContent.css({left:contentLeft,top:0,width:contentSizeX,height:contentSizeY});if(sidebarPos===2){if(infoPanelPos===2)formSidebar.css({left:contentSizeX+infoPanelWidth,top:0,width:sidebarWidth+1,height:setFormSizeY-2});else
formSidebar.css({left:contentSizeX,top:0,width:sidebarWidth+1,height:setFormSizeY-2});}else
if(sidebarPos===1){formSidebar.css({left:0,top:0,width:sidebarWidth,height:setFormSizeY});}else
if(sidebarPos===3){var
parentFormSidebar=$('#'+inlineSourceElementId+'Sidebar');formSidebar.css({left:parentFormSidebar.position().left+parentForm.offset().left+5,top:parentFormSidebar.position().top+
+parentForm.offset().top,width:parentFormSidebar.width(),height:parentFormSidebar.height()+1,'z-index':zindexForm});}else
if(sidebarPos===0){formSidebar.css({width:0,height:0});}if(!infoPanelWidth){var
center=setFormLeft+((envSizeX-setFormSizeX)/2)|0;if((center+setFormSizeX)>envSizeX)center=mainBrowserContent.position().right-setFormSizeX-90;formForm.css({left:center});}else{if(infoPanelPos===2){formInfoPanel.css({left:contentSizeX,top:0,height:setFormSizeY});}else{if(sidebarPos===1)formInfoPanel.css({left:setFormSizeX+contentLeft+1-sidebarWidth,top:0,height:setFormSizeY});else
formInfoPanel.css({left:setFormSizeX+contentLeft+1,top:0,height:setFormSizeY});}}}function
e10CloseModals(){while(g_openModals.length){var
modalElementId=g_openModals.pop();var
modalElement=$('#'+modalElementId);modalElement.remove();$('#'+modalElementId+'Env').remove();}}function
e10CloseModal(){if(g_openModals.length){var
modalElementId=g_openModals.pop();var
modalElement=$('#'+modalElementId);modalElement.remove();$('#'+modalElementId+'Env').remove();}}function
e10ViewerCancelForm(e){var
viewerId=searchObjectId(e,'viewer');var
viewer=$('#'+viewerId);var
modalElementId=searchObjectId(e,'modal');var
modalElement=$('#'+modalElementId);var
sidebarId=modalElement.attr('data-sidebar-element-id');if(sidebarId!==undefined)$('#'+sidebarId).remove();modalElement.remove();$('#'+modalElementId+'Env').remove();g_openModals.pop();if(g_openModals.length===0){var
activeMenuItem=$("#mainListViewMenu li.terminal.activeMainItem:first");if(activeMenuItem.is("LI"))menuItemClick(activeMenuItem);else
if($('#mainBrowser').hasClass('e10-appEmbedPopup'))window.close();else
if($('#mainBrowser').hasClass('e10-appEmbed')){window.parent.postMessage("close-iframe-embedd-element","*");}}}function
showDocLink(e){}function
df2ViewerDoClick(event,e){var
action=e.attr("data-action");if(action=='edit'){if(event.which==1){event.stopPropagation();event.preventDefault();showDocLink(e);return true;}return false;}if(action=='new'){event.stopPropagation();event.preventDefault();showDocLink(e);return true;}if(action=='save'){event.stopPropagation();event.preventDefault();df2saveForm(e);return true;}var
apiPath=e.attr("data-apipath");alert("do-click: "+e.text()+", action="+action+", apipath="+apiPath);}function
df2saveForm(srcEl,successFunction){if(!e10FormSaveBegin(srcEl))return false;var
noClose=0;if(srcEl.attr('data-noclose'))noClose=1;var
id=srcEl.attr("data-form");if(id==='AUTO'){var
fe=searchParentAttrElement(srcEl.parent(),"data-formid");id=fe.attr('id');}var
e=$("#"+id);var
docState=0;if(srcEl.attr('data-docstate'))docState=parseInt(srcEl.attr('data-docstate'));var
formData=df2collectEditFormData(e,$.myFormsData[id]);formData['setDocState']=docState;saveParams=elementAttributesArray(srcEl,'data-save-');if(saveParams)formData['saveParams']=saveParams;formData.postData=e10DocumentData();var
table=e.attr("data-table");var
url="/api/form/"+table+"/save?callback=?&newFormId="+id;url+="&viewPortWidth="+document.documentElement.clientWidth;e10.server.post(url,formData,function(data){if(successFunction)successFunction(e,data.recData['ndx']);else{if(data.saveResult!==undefined&&data.saveResult.disableClose!==undefined)noClose=1;if(noClose){e.parent().parent().parent().find('div.e10-ef-header').html(data.htmlHeader);var
buttons=$("#"+id+'Buttons');buttons.html(data.buttonsCode);if(data.saveResult!==undefined&&data.saveResult.disableSetData!==undefined)e10FormSetAsSaved(id);else{e.parent().parent().html(data.mainCode);df2FormsSetData(id,data);}var
form=$("#"+id);e10DecorateFormWidgets(form);e10doSizeHints(form);initSubObjects(data);var
infoPanelPos=parseInt(form.attr('data-flag-infopanelpos'));if(infoPanelPos!=0){var
formInfoPanel=$('#'+id+'InfoPanel');formInfoPanel.html(data.infoPanelCode);}if(data.saveResult!==undefined&&data.saveResult.disableClose!==undefined)form.find('td.e10-column-error input.e10-inputRefId').focus();else
$('#'+g_focusedInputId).focus();form.find('.e10-column-error').tooltip('toggle');if(data.saveResult!==undefined&&data.saveResult.notifications!==undefined){for(var
i=0;i<data.saveResult.notifications.length;i++){var
n=data.saveResult.notifications[i];var
opts={text:n.msg};opts.type='error';if(n.title!==undefined)opts.title=n.title;if(n.mode==='top'){opts.stack=g_NotifyStackTopBar;opts.addclass="stack-bar-top";opts.cornerclass='';opts.animation='slide';opts.animate_speed=150;opts.width="100%";}else{opts.stack=g_NotifyStackTopRight;}new
PNotify(opts);}}}else{var
modalElementId=searchObjectId(e,'modal');var
modalElement=$('#'+modalElementId);var
srcObjectType=modalElement.attr('data-srcObjectType');var
srcObjectId=modalElement.attr('data-srcObjectId');var
sidebarId=modalElement.attr('data-sidebar-element-id');if(sidebarId!==undefined)$('#'+sidebarId).remove();modalElement.remove();$('#'+modalElementId+'Env').remove();g_openModals.pop();if(data.flags.reloadNotifications===1)e10NCReload();if(srcObjectType=='viewer'){viewerRefresh($('#'+srcObjectId),data.recData['ndx']);}else
if(srcObjectType=='widget'){e10WidgetAction(null,null,srcObjectId);}else
if(srcObjectType=='form-to-save'){e10SaveOnChange($('#'+srcObjectId));}else
if(srcObjectType=='iframe'){$('#'+srcObjectId)[0].contentWindow.location.reload(true);}else
if(srcObjectType=='none'){if(g_openModals.length===0){var
activeMenuItem=$("#mainListViewMenu li.terminal.activeMainItem:first");if(activeMenuItem.is("LI"))menuItemClick(activeMenuItem);else
if($('#mainBrowser').hasClass('e10-appEmbedPopup'))window.close();else
if($('#mainBrowser').hasClass('e10-appEmbed')){window.parent.postMessage("close-iframe-embedd-element","*");}else{var
oneRow=$('#mainBrowserContent div.e10-mainViewer div.e10-sv-body .e10-viewer-list>.r.active').first();if(oneRow.length!==0){var
viewerId=$('#mainBrowserContent div.e10-mainViewer').attr('id');e10viewerSetDetail(viewerId,oneRow);}}}}}}});return true;}function
df2collectEditFormData(form,data){var
newData={};var
usedInputs=new
Array();var
thisInputValue=null;var
mainFid=form.attr('id');var
formElements=form.find(':input, div.e10-inputDocLink, div.e10-monaco-editor');for(var
i=0;i<formElements.length;i++){var
thisInput=$(formElements[i]);if(!thisInput.attr("name")&&!thisInput.attr("data-name"))continue;if(thisInput.attr("data-fid")!==mainFid)continue;var
thisInputName=thisInput.attr('name');if(thisInput.attr("data-name"))thisInputName=thisInput.attr('data-name');var
dataMainPart='recData';var
dataSubPart=null;var
dataRowPart=null;var
dataColumnPart=null;var
dataLastPart=null;var
nameParts=thisInputName.split('.');if(nameParts.length==1)dataColumnPart=thisInputName;else
if(nameParts.length==2){dataMainPart=nameParts[0];dataColumnPart=nameParts[1];}else
if(nameParts.length==3){dataMainPart=nameParts[0];dataColumnPart=nameParts[1];dataRowPart=nameParts[2];}else
if(nameParts.length==4){dataMainPart=nameParts[0];dataSubPart=nameParts[1];dataRowPart=nameParts[2];dataColumnPart=nameParts[3];}else
if(nameParts.length==5){dataMainPart=nameParts[0];dataSubPart=nameParts[1];dataRowPart=nameParts[2];dataColumnPart=nameParts[3];dataLastPart=nameParts[4];}thisInputValue=null;if(thisInput.hasClass("e10-inputLogical")){if(thisInput.attr('value')=='Y'){if(thisInput.is(':checked'))thisInputValue='Y';else
thisInputValue='N';}else
if(thisInput.attr('value')!='1'){if(thisInput.is(':checked'))thisInputValue=thisInput.attr('value');else
thisInputValue='0';}else{if(thisInput.is(':checked'))thisInputValue=1;else
thisInputValue=0;}}else
if(thisInput.hasClass("e10-inputRadio")){if(thisInput.is(':checked'))thisInputValue=thisInput.attr('value');else
continue;}else
if(thisInput.hasClass("e10-inputDate")||thisInput.hasClass("e10-inputDateS")){if(thisInput.val()!=''){var
dp=thisInput.val().split(".");thisInputValue=dp[2]+"-"+dp[1]+"-"+dp[0];if(thisInput.hasClass("e10-inputDateTime")){var
timeInput=$('#'+thisInput.attr('id')+'_Time');thisInputValue+=' '+timeInput.val();}}else
thisInputValue='0000-00-00';}else
if(thisInput.hasClass("e10-inputDateN")){if(thisInput.val()!=''){var
dp=thisInput.val().split("-");thisInputValue=dp[0]+"-"+dp[1]+"-"+dp[2];if(thisInput.hasClass("e10-inputDateTime")){var
timeInput=$('#'+thisInput.attr('id')+'_Time');thisInputValue+=' '+timeInput.val();}}else
thisInputValue='0000-00-00';}else
if(thisInput.hasClass("e10-inputMoney")||thisInput.hasClass("e10-inputDouble")){if(thisInput.val()!=''){var
sv=thisInput.val();sv=sv.replace(",",".").replace(/\s/g,'');thisInputValue=parseFloat(sv);}else
thisInputValue=0.0;}else
if(thisInput.hasClass("e10-inputEnum")){if(thisInput.hasClass("e10-inputEnumMultiple")){if(thisInput.val())thisInputValue=thisInput.val().join('.');else
thisInputValue='';}else
thisInputValue=thisInput.val();}else
if(thisInput.hasClass("e10-inputTimeLen")){if(thisInput.val()!=''){var
tlp=thisInput.val().split(":");var
seconds=(parseInt(tlp[1])+parseInt(tlp[0])*60)*60;thisInputValue=seconds.toString();}else
thisInputValue='0';}else
if(thisInput.hasClass("e10-inputRefId")&&!thisInput.hasClass("e10-inputRefIdDirty")){}else
if(thisInput.hasClass("e10-inputDocLink")){thisInputValue={};var
listItems=thisInput.find('ul li');for(var
ii=0;ii<listItems.length;ii++){var
li=$(listItems[ii]);if(!li.attr('data-pk'))continue;if(!thisInputValue[li.attr('data-table')])thisInputValue[li.attr('data-table')]=[li.attr('data-pk')];else
thisInputValue[li.attr('data-table')].push(li.attr('data-pk'));}}else
if(thisInput.hasClass("e10-inputCode")){if(g_useMonaco)thisInputValue=thisInput[0]._me.getValue();else
thisInputValue=thisInput.data('cm').getValue();}else
thisInputValue=thisInput.val();if(thisInputValue===null)continue;if(!newData[dataMainPart])newData[dataMainPart]={};if(dataMainPart=='recData'){newData[dataMainPart][dataColumnPart]=thisInputValue;usedInputs.push(dataColumnPart);}else{if(nameParts.length==2){if(!newData[dataMainPart])newData[dataMainPart]={};newData[dataMainPart][dataColumnPart]=thisInputValue;}else
if(nameParts.length==3){if(!newData[dataMainPart][dataColumnPart])newData[dataMainPart][dataColumnPart]={};newData[dataMainPart][dataColumnPart][dataRowPart]=thisInputValue;}else
if(nameParts.length==4){if(!newData[dataMainPart][dataSubPart])newData[dataMainPart][dataSubPart]={};if(!newData[dataMainPart][dataSubPart][dataRowPart])newData[dataMainPart][dataSubPart][dataRowPart]={};newData[dataMainPart][dataSubPart][dataRowPart][dataColumnPart]=thisInputValue;}else
if(nameParts.length==5){if(!newData[dataMainPart][dataSubPart])newData[dataMainPart][dataSubPart]={};if(!newData[dataMainPart][dataSubPart][dataRowPart])newData[dataMainPart][dataSubPart][dataRowPart]={};if(!newData[dataMainPart][dataSubPart][dataRowPart][dataColumnPart])newData[dataMainPart][dataSubPart][dataRowPart][dataColumnPart]={};newData[dataMainPart][dataSubPart][dataRowPart][dataColumnPart][dataLastPart]=thisInputValue;}}}if(data===null||data===undefined)return newData;if(!newData.recData)return newData;for(var
colName
in
data.recData){if(usedInputs.indexOf(colName)==-1){if((data.recData[colName]!=null)&&(data.recData[colName].date))newData.recData[colName]=data.recData[colName].date;else
newData.recData[colName]=data.recData[colName];}}if(data.lists){if(!newData.lists)newData.lists={};for(var
listName
in
data.lists){if(!newData.lists[listName])newData.lists[listName]=new
Array();}}newData["documentPhase"]=data.documentPhase;var
formId=form.attr('id');newData['ui']={'formId':formId};var
mainTabs=$('#'+formId+'-mt');if(mainTabs.is('UL')){var
activeTabId=mainTabs.find('li.active').attr('id');newData.ui['activeMainTab']=activeTabId;}return newData;}function
initTabs(id){$("#"+id+" >li").each(function(){var
tabId=$(this).attr("id");var
tabContentId=tabId+'-tc';if($(this).hasClass('active'))$('#'+tabContentId).show();else
$('#'+tabContentId).hide();});}function
initMainTabs(id){var
tabs=$('#'+id);var
sizeX=tabs.parent().width();$("#"+id+" >li").each(function(){var
tabId=$(this).attr("id");var
tabContentId=tabId+'-tc';var
tab=$('#'+tabContentId);if($(this).hasClass('active'))$('#'+tabContentId).show();else
$('#'+tabContentId).hide();});}function
e10DocumentData(){var
data={};for(var
si
in
webSocketServers){var
ws=webSocketServers[si];for(var
camId
in
ws.cameras){var
camPic=$('#e10-cam-'+camId+'-right').parent();if(camPic.is('button')){if(data.cameras===undefined)data.cameras={};data.cameras[camId]=camPic.attr("data-pict");}}}return data;}function
e10DocumentAction(event,e){var
actionType=e.attr("data-action");if(actionType=="new"){var
doIt=1;if((event&&event.shiftKey)||e.attr('data-copyfrom')){if(!event||!event.shiftKey)doIt=confirm("Opravdu udělat kopii dokumentu?");}if(doIt)e10DocumentAdd(e);return;}if(actionType=="edit"){e10DocumentEdit(e);return;}if(actionType==="show"){e10DocumentEdit(e,null,'show');return;}if(actionType==="wizard"){e10DocumentWizard(e);return;}if(actionType=="setInputValue"){e10FormNeedSave($('#'+e.attr('data-inputid')).val(e.text()),0);return;}if(actionType=="incInputValue"){e10DocumentModifyColValue($('#'+e.attr('data-inputid')),+1);return;}if(actionType=="decInputValue"){e10DocumentModifyColValue($('#'+e.attr('data-inputid')),-1);return;}if(actionType=="mark"){e10DocumentMark(e);event.stopPropagation();event.preventDefault();return;}alert("action: "+actionType);}function
e10DocumentAdd(e,params){var
table='';var
addParams=null;var
openAs=null;var
openUrlPrefix=null;var
srcObjectType='none';var
srcObjectId='';if(e!==0){table=e.attr("data-table");addParams=e.attr('data-addparams');if(e.attr('data-open-as'))openAs=e.attr('data-open-as');if(e.attr('data-open-url-prefix'))openUrlPrefix=e.attr('data-open-url-prefix');if(e.attr('data-srcobjecttype')!==undefined)srcObjectType=e.attr('data-srcobjecttype');if(e.attr('data-srcobjectid')!==undefined)srcObjectId=e.attr('data-srcobjectid');}else{table=params.table;addParams=params.addparams;if(params.srcobjecttype!==undefined)srcObjectType=params.srcobjecttype;if(params.srcobjectid!==undefined)srcObjectId=params.srcobjectid;}g_formId++;var
newElementId="mainEditF"+g_formId;var
url=table+"/new/?callback=?"+"&newFormId="+newElementId;if(addParams)url+='&'+addParams;if(e!==0&&e.attr('data-pict'))url+='&addPicture='+e.attr('data-pict');if(e!==0&&e.attr('data-copyfrom'))url+='&focusedPK='+e.attr('data-copyfrom')+'&copyDoc=1';url+="&viewPortWidth="+document.documentElement.clientWidth;var
postData=e10DocumentData();if(e!==0){var
dataForm=searchObjectAttr(e,'data-pk');if(dataForm!==null)e10collectFormData(dataForm,postData);}if(openAs){var
openUrl='/';if(openUrlPrefix)openUrl=openUrlPrefix;openUrl+='app/!/e10-document-trigger/';openUrl+=url;openUrl+='&e10window=popup';var
width=(screen.width*0.75)|0;var
height=(screen.height*0.75)|0;window.open(openUrl,"test123","location=no,status=no,width="+width+",height="+height);return;}e10.server.post("/api/form/"+url,postData,function(data){e10ViewerCreateEditForm(data,newElementId,srcObjectType,srcObjectId);});}function
e10DocumentEdit(e,params,actionType){var
table='';var
addParams=null;var
pk=0;var
srcObjectType='none';var
srcObjectId='';if(e!==0){table=e.attr("data-table");addParams=e.attr('data-addparams');pk=e.attr('data-pk');if(e.attr('data-srcobjecttype')!==undefined)srcObjectType=e.attr('data-srcobjecttype');if(e.attr('data-srcobjectid')!==undefined)srcObjectId=e.attr('data-srcobjectid');}else{table=params.table;pk=params.pk;addParams=params.addparams;if(params.srcobjecttype!==undefined)srcObjectType=params.srcobjecttype;if(params.srcobjectid!==undefined)srcObjectId=params.srcobjectid;}g_formId++;var
newElementId="mainEditF"+g_formId;var
action=(actionType!=undefined)?actionType:'edit';var
url="/api/form/"+table+"/"+action+"/"+pk+"?callback=?&newFormId="+newElementId;if(addParams)url+='&'+addParams;url+="&viewPortWidth="+document.documentElement.clientWidth;var
postData=e10DocumentData();e10.server.post(url,postData,function(data){e10ViewerCreateEditForm(data,newElementId,srcObjectType,srcObjectId);});}function
e10DocumentWizard(e){var
table=e.attr("data-table");var
addParams=e.attr('data-addparams');g_formId++;var
newElementId="mainEditF"+g_formId;var
wizardClass=e.attr("data-class");var
url="/api/wizard/"+wizardClass+"/0?callback=?&newFormId="+newElementId;if(addParams)url+='&'+addParams;if(e.attr('data-pict'))url+='&addPicture='+e.attr('data-pict');if(e.attr('data-pk'))url+='&pk='+e.attr('data-pk');if(e.attr('data-table'))url+='&table='+e.attr('data-table');var
postData=e10DocumentData();var
dataForm=searchObjectAttr(e,'data-pk');if(dataForm!==null)e10collectFormData(dataForm,postData);var
srcObjectType='none';var
srcObjectId='';if(e!==0&&e.attr('data-srcobjecttype')!==undefined)srcObjectType=e.attr('data-srcobjecttype');if(e!==0&&e.attr('data-srcobjectid')!==undefined)srcObjectId=e.attr('data-srcobjectid');e10.server.post(url,postData,function(data){e10ViewerCreateEditForm(data,newElementId,srcObjectType,srcObjectId);});}function
e10DocumentModifyColValue(input,sign){input.focus();var
oldPrice=getFloatInputValue(input);var
how=1.0;if(oldPrice<10)how=0.1;else
if(oldPrice<50)how=1.0;how=how*sign;var
newPrice=oldPrice;newPrice+=how;newPrice=Round(newPrice,1);input.val(newPrice);e10FormNeedSave(input,0);}function
e10DocumentMark(e){var
markContainer=searchObjectAttr(e,'data-mark');var
markButton=searchObjectAttr(e,'data-mark-button-value');var
markContainerId=markContainer.attr('id');var
requestParams={};requestParams['object-class-id']='lib.core.ui.DocMark';requestParams['mark']=markContainer.attr('data-mark');if(markContainer.attr('data-mark-st')!==undefined)requestParams['mark-st']=markContainer.attr('data-mark-st');requestParams['table']=markContainer.attr('data-table');requestParams['pk']=markContainer.attr('data-pk');requestParams['button-value']=markContainer.attr('data-mark-button-value');e10.server.api(requestParams,function(data){var
markContainer=$('#'+markContainerId);markContainer.html(data['rowsHtmlCode']);markContainer.attr('title',data['markTitle']);});}$.myFormsData={};function
df2FormsSetData(id,data){e10FormSetAsSaved(id);var
form=$("#"+id);$.myFormsData[id]=data;var
formElements=form.find(':input, div.e10-inputDocLink, div.e10-monaco-editor');var
readOnly=(form.attr('data-readonly')!==undefined);for(var
i=0;i<formElements.length;i++){var
thisInput=$(formElements[i]);if(!thisInput.attr("name")&&!thisInput.attr("data-name"))continue;var
thisInputName=thisInput.attr('name');if(thisInput.attr("data-name"))thisInputName=thisInput.attr('data-name');var
thisInputReadOnly=(thisInput.attr('readonly')!==undefined);var
dataMainPart='recData';var
dataSubPart=null;var
dataRowPart=null;var
dataColumnPart=null;var
dataLastPart=null;var
nameParts=thisInputName.split('.');if(nameParts.length==1)dataColumnPart=thisInputName;else
if(nameParts.length==2){dataMainPart=nameParts[0];dataColumnPart=nameParts[1];}else
if(nameParts.length==3){dataMainPart=nameParts[0];dataSubPart=nameParts[1];dataColumnPart=nameParts[2];}else
if(nameParts.length==4){dataMainPart=nameParts[0];dataSubPart=nameParts[1];dataRowPart=nameParts[2];dataColumnPart=nameParts[3];}else
if(nameParts.length==5){dataMainPart=nameParts[0];dataSubPart=nameParts[1];dataRowPart=nameParts[2];dataColumnPart=nameParts[3];dataLastPart=nameParts[4];}if(dataMainPart==='extra')continue;var
thisInputValue=null;if(dataMainPart=='recData')thisInputValue=data[dataMainPart][dataColumnPart];else
if(nameParts.length==2)thisInputValue=data[dataMainPart][dataColumnPart];else
if(nameParts.length==3&&data[dataMainPart]!==undefined)thisInputValue=data[dataMainPart][dataSubPart][dataColumnPart];else
if(nameParts.length==4){if((data[dataMainPart]!=undefined)&&(data[dataMainPart][dataSubPart]!=undefined)&&(data[dataMainPart][dataSubPart][dataRowPart]!=undefined)&&(data[dataMainPart][dataSubPart][dataRowPart][dataColumnPart]!=undefined))thisInputValue=data[dataMainPart][dataSubPart][dataRowPart][dataColumnPart];}else
if(nameParts.length==5){if((data[dataMainPart]!=undefined)&&(data[dataMainPart][dataSubPart]!=undefined)&&(data[dataMainPart][dataSubPart][dataRowPart]!=undefined)&&(data[dataMainPart][dataSubPart][dataRowPart][dataColumnPart]!=undefined)&&(data[dataMainPart][dataSubPart][dataRowPart][dataColumnPart][dataLastPart]!=undefined))thisInputValue=data[dataMainPart][dataSubPart][dataRowPart][dataColumnPart][dataLastPart];}if(thisInput.hasClass("e10-fromSensor")){var
btnInputId=thisInput.attr('id')+'_sensor';var
sensorId='';if(thisInputValue===undefined||thisInputValue==''||thisInputValue==0){if(g_useMqtt){sensorId='#mqtt-sensor-'+thisInput.attr('data-srcsensor')+'>span.value';thisInputValue=$(sensorId).text();console.log("VALUE: "+thisInputValue);e10FormNeedSave(thisInput,0);}else{sensorId='#e10-sensordisplay-'+thisInput.attr('data-srcsensor');thisInputValue=$(sensorId).text();e10FormNeedSave(thisInput,0);}}var
dstelm=form.parent().parent().parent();var
sensList=dstelm.attr('data_receivesensors');if(sensList===undefined)sensList=btnInputId;else
sensList=sensList+' '+btnInputId;dstelm.attr('data_receivesensors',sensList);$('#'+btnInputId).text($(sensorId).text());}if(thisInput.hasClass("e10-inputLogical")){var
checkIt=false;if(thisInput.val()=='Y'){if(thisInputValue=='Y')checkIt=true;}else
if(thisInputValue)checkIt=true;if(checkIt)thisInput.attr('checked',true);else
thisInput.attr('checked',false);}else
if(thisInput.hasClass("e10-inputRadio")){if(thisInput.attr('value')==thisInputValue)thisInput.attr('checked',true);}else
if(thisInput.hasClass("e10-inputDate")||thisInput.hasClass("e10-inputDateN")||thisInput.hasClass("e10-inputDateS")){var
dateVal="";var
timeVal="";var
timeInput=null;if(thisInputValue&&(thisInputValue.date!==undefined||typeof
thisInputValue==='string')){var
ds=null;if(thisInputValue.date!==undefined)ds=thisInputValue.date.substring(0,10);else
ds=thisInputValue.substring(0,10);if(ds==='0000-00-00')dateVal='';else{dp=ds.split("-");if(thisInput.hasClass("e10-inputDateN"))dateVal=dp[0]+"-"+dp[1]+"-"+dp[2];else
dateVal=dp[2]+"."+dp[1]+"."+dp[0];}if(thisInput.hasClass("e10-inputDateTime")){timeInput=$('#'+thisInput.attr('id')+'_Time');if(thisInputValue.date!==undefined)timeVal=thisInputValue.date.substring(11,16);else
ds=thisInputValue.substring(11,16);}}thisInput.val(dateVal);if(timeInput)timeInput.val(timeVal);}else
if(thisInput.hasClass("e10-inputDateTime_Time")){}else
if(thisInput.hasClass("e10-inputEnum")){if(thisInput.hasClass("e10-inputEnumMultiple")){if(thisInputValue)thisInput.val(thisInputValue.split('.'));thisInput.trigger("liszt:updated");}else
thisInput.val(thisInputValue);}else
if(thisInput.hasClass("e10-inputTimeLen")){var
timeLenVal="0:00";if(thisInputValue){var
seconds=parseInt(thisInputValue);var
allMinutes=(seconds/60)|0;var
hours=(allMinutes/60)|0;var
minutes=allMinutes-hours*60;timeLenVal=hours.toString()+':';if(minutes<10)timeLenVal+='0';timeLenVal+=minutes.toString();}thisInput.val(timeLenVal);}else
if(thisInput.hasClass("e10-inputRefId")&&!thisInput.hasClass("e10-inputRefIdDirty")){}else
if(thisInput.hasClass("e10-inputNdx")){thisInput.val(thisInputValue);if(thisInputValue!=0&&thisInputValue!==undefined){thisInput.parent().find('span.btns').show();}}else
if(thisInput.hasClass("e10-inputDocLink")){var
searchInput=thisInput.find('ul>li.input').html();var
inpItems='';for(var
ii=0;ii<thisInputValue.length;ii++){var
li=thisInputValue[ii];inpItems+="<li class='data' data-pk='"+li['dstRecId']+"' data-table='"+li['dstTableId']+"'"+'>'+li['title']+((readOnly||thisInputReadOnly)?"&nbsp;":"<span class='e10-inputDocLink-closeItem'>&times;</span>")+"</li>";}inpItems+='<li class="input">'+searchInput+'</li>';thisInput.find('ul').html(inpItems);if(inpItems!='')thisInput.find("span.placeholder").hide();else
thisInput.find("span.placeholder").show();if(readOnly||thisInputReadOnly)thisInput.find('ul>li.input').hide();}else
if(thisInput.hasClass("e10-inputMoney")||thisInput.hasClass("e10-inputDouble")){if(thisInputValue!=0)thisInput.val(thisInputValue);else
thisInput.val('');}else
if(thisInput.hasClass("e10-inputCode")){if(g_useMonaco){if(thisInput[0]._me===undefined){var
opts={scrollBeyondLastLine:false,minimap:{enabled:false},automaticLayout:true};const
clang=thisInput.attr('data-clng');if(clang)opts.language=clang;const
readonly=thisInput.attr('readonly');if(readonly==='readonly')opts.readOnly=true;var
me=monaco.editor.create(thisInput[0],opts);me.getModel().onDidChangeContent(function(event){e10FormNeedSave(thisInput,0);});thisInput[0]._me=me;}if(thisInputValue!==undefined&&thisInputValue!==null)thisInput[0]._me.setValue(thisInputValue);}else{var
cm=thisInput.data('cm');if(cm===undefined){cm=CodeMirror.fromTextArea(thisInput[0],{tabSize:2,lineNumbers:true,styleActiveLine:true});var
cmWidth=form.width()-1;cmWidth-=form.find('div.e10-form-maintabs-menu').width();cm.setSize(cmWidth,form.parent().parent().height()-$('#'+id+'Buttons').height()-4);cm.on("change",function(cmEditor,cmChangeObject){e10FormNeedSave(thisInput,0);});thisInput.data('cm',cm);}if(thisInputValue!==undefined&&thisInputValue!==null)cm.setValue(thisInputValue);}}else{thisInput.val(thisInputValue);}if(thisInput.hasClass('e10-inputColor'))e10FormsBlurColorInput(0,thisInput);}}function
df2runFormClose(id){$("#"+id).parent().remove();$("#modalDlg").remove();}function
e10FormsTabClick(e){var
pageid=e.attr("id");if(pageid){var
activeTab=e.parent().find("li.active").first();activeTab.removeClass("active");$("#"+activeTab.attr('id')+'-tc').hide();e.addClass("active");$("#"+pageid+'-tc').show();var
viewersRefreshLayout=parseInt(e.attr('data-first-click'));e10doSizeHints($("#"+pageid+'-tc'),viewersRefreshLayout);if(viewersRefreshLayout)e.attr('data-first-click','0');if(e.attr('data-inputelement')){$('#'+e.attr('data-inputelement')+' input[name='+e.attr('data-inputname')+']').val(e.attr('data-inputvalue'));}return true;}return false;}function
e10FormsInputDocLinkCloseItem(event,e){var
formId=searchObjectId(e,'form');e10FormSetAsModified(e.parent().parent().parent());var
listItems=e.parent().parent();e.parent().detach();listItems.find('li.input>input').focus();var
form=$('#'+formId);e10doSizeHints(form);}function
e10FormsFocusRefInput(event,e){e10FormsRefInputComboOpen(e);}function
e10FormsRefInputComboOpen(input){var
e=input;if(e.attr('data-sidebar-local')){e10FormsLocalSidebar(e);return;}if(e.is('textarea')&&e.parent().parent().hasClass('CodeMirror')){e=e.parent().parent().parent().find('textarea:first');}else
if(e.hasClass('e10-inputListSearch'))e=e.parent().parent().parent();var
table=searchParentAttr(e,"data-table");var
pk=searchParentAttr(e,"data-pk");var
formId=searchObjectId(e,'form');if(!formId)formId=searchObjectId(e,'wizard');var
formId2=searchParentAttr(e,"data-formid");var
refInputId=e.parent().attr('id');var
columnId='';var
listId='';var
listGroup='';var
sideBarType='column';if(e.attr('data-column'))columnId=e.attr('data-column');else
if(e.attr('data-listid')){sideBarType='list';listId=e.attr('data-listid');listGroup=e.attr('data-listgroup');refInputId=e.attr('id');}else
if(e.attr('data-sidebar-remote')){var
sidebar=$("#"+formId+'Sidebar');if(sidebar.length){if(sidebar.attr('data-sidebar-local-column-target')===e.attr('id'))return;}sideBarType='remote';columnId=e.attr('data-column');refInputId=e.attr('id');}else{var
form=$("#"+formId+'Form');sideBarType='main';var
sidebarViewer=$("#"+formId+'Sidebar').find("div.df2-viewer");var
sidebarRefresh=form.attr('data-flag-sidebarrefresh');if(sidebarViewer.is('DIV')&&sidebarViewer.attr('data-combo-rows-target')==='rows'&&sidebarRefresh!=='always')return;}var
columnName=e.attr('name');var
srcTableId=e.attr('data-srctable');var
url='';if(table)url="/api/form/"+table+"/sidebar/"+pk+'/'+sideBarType+'/'+srcTableId+'/';else{var
wizardPage=searchParentAttr(e,"data-wizardpage");url="/api/wizard/"+formId2+"/"+wizardPage+"/sidebar/"+sideBarType+'/'+srcTableId+'/';}if(sideBarType==='column')url+=columnId;else
if(sideBarType==='list')url+=listId+'/'+listGroup;else
if(sideBarType==='remote')url+=columnName+'/'+e.attr('data-sidebar-remote');url+="?callback=?&columnName="+columnName;if(formId2)url+='&formId='+formId2;var
form=$("#"+formId+'');var
formData=df2collectEditFormData(form,$.myFormsData[formId]);e10.server.post(url,formData,function(data){var
sidebar=$("#"+formId+'Sidebar');sidebar.find('*').detach();sidebar.html(data.sidebarCode);if(refInputId!==undefined)sidebar.attr('data-sidebar-local-column-target',refInputId);else
sidebar.removeAttr('data-sidebar-local-column-target');sidebar.find('div.df2-viewer').each(function(){var
viewerId=$(this).attr("id");initViewer(viewerId);});sidebar.find('div.df2-viewer').each(function(){if(sideBarType=='main')$(this).attr('data-combo-formid-target',formId).attr('data-combo-rows-target','rows');else
$(this).attr('data-combo-column-target',refInputId);});});}function
e10FormsBlurRefInput(event,e){}function
e10FormsRefInputComboClose(e){var
table=searchParentAttr(e,"data-table");var
pk=searchParentAttr(e,"data-pk");var
formId=searchObjectId(e,'form');var
sidebar=$("#"+formId+'Sidebar');sidebar.find('*').detach();sidebar.html('');}function
e10FormsRefInputClear(e){var
i=e.parent().parent();var
v=i.find('input.e10-inputNdx');v.val('0');i.find('span.e10-refinp-infotext').html('');e10FormSetAsModified(v);i.find('input.e10-inputRefId').val('').focus();i.find('span.btns').hide();if(v.hasClass('e10-ino-saveOnChange'))v.change();}function
e10FormsRefInputEdit(e){var
i=e.parent().parent();var
v=i.find('input.e10-inputNdx');e.attr('data-pk',v.val());e10DocumentEdit(e);}function
df2collectFormData(form,isNextBlock){var
data={};var
formElements=form.find('input');for(var
i=0;i<formElements.length;i++){var
element=formElements[i];var
type=element.type;if(type=="checkbox"||type=="radio"){if(element.checked)data[element.name]=element.value;continue;}data[element.name]=element.value;}formElements=form.find('select');for(var
i=0;i<formElements.length;i++){var
element=formElements[i];data[element.name]=element.value;}formElements=form.find('textarea');for(i=0;i<formElements.length;i++){var
element=formElements[i];data[element.name]=element.value;}if(Object.keys(data).length===0)return'';var
frmData='';if(isNextBlock===undefined)frmData="frmId=myForm&";else{frmData='&';}frmData+=$.param(data);return frmData;}function
e10collectFormData(form,data){var
formElements=form.find('input');for(var
i=0;i<formElements.length;i++){var
element=formElements[i];var
type=element.type;if(type=="checkbox"||type=="radio"){if(element.checked)data[element.name]=element.value;continue;}data[element.name]=element.value;}formElements=form.find('select');for(var
i=0;i<formElements.length;i++){var
element=formElements[i];data[element.name]=element.value;}formElements=form.find('textarea');for(i=0;i<formElements.length;i++){var
element=formElements[i];data[element.name]=element.value;}}function
df2FillViewerLines(viewerId,url,focusPK,appendLines){var
viewer=$('#'+viewerId);var
form=$('#'+viewerId+'Search');if(form){viewer.attr('data-loadonprogress',1);e10setProgressIndicator(viewerId,1);var
formPostData=df2collectFormData(form);var
bottomTab=viewer.find("div.viewerBottomTabs input");if(bottomTab.is('INPUT'))formPostData+="&bottomTab="+encodeURI(bottomTab.val());var
qryForm=$('#'+viewerId+'Report');formPostData+=df2collectFormData(qryForm,1);var
panelLeft=$('#'+viewerId+'PanelLeft');if(panelLeft.length)formPostData+=df2collectFormData(panelLeft,1);var
panelRight=$('#'+viewerId+'PanelRight');if(panelRight.length)formPostData+=df2collectFormData(panelRight,1);if(viewer.attr('data-combo-column-target')){var
comboSearchValue={};var
inp=$('#'+viewer.attr('data-combo-column-target')+' >input.e10-inputRefId');if(!inp.is('input'))inp=$('#'+viewer.attr('data-combo-column-target')+' >ul>li.input>input');if(inp.is('input'))comboSearchValue['fullTextSearch']=inp.val();formPostData+='&'+$.param(comboSearchValue);}url+='&newElementId='+viewerId;if(viewer.attr('data-flow-params')!==undefined)url+='&viewerFlowParams='+encodeURI(viewer.attr('data-flow-params'));e10.server.setRemote(viewer);e10.server.postForm(url,formPostData,function(data){var
viewerLines=$('#'+viewerId+'Items');if(data.object.flowParams!==undefined)viewer.attr('data-flow-params',data.object.flowParams);else
viewer.attr('data-flow-params','');var
viewerMode=viewer.attr('data-mode');var
rowElement=viewerLines.attr('data-rowelement');if(appendLines){if(viewerMode==='panes'){viewerAppendContent(viewer,data.object);}else
if(rowElement==='tr'){viewerLines.find(">table tbody tr:last-child").detach();viewerLines.find('>table tbody').append(data.object.htmlItems);viewerLines.find('>table.dataGrid.main').floatThead('reflow');}else{viewerLines.find(">"+rowElement+":last-child").detach();var
currCnt=viewerLines.find('>'+rowElement).length;viewerLines.append(data.object.htmlItems);var
vw=0;window.requestAnimationFrame(function(){var
newLines=viewerLines.find('>li');for(i=currCnt;i<newLines.length;i++){var
t=$(newLines[i]);var
t1=t.find('div.df2-list-item-t1');if(t1.attr('style'))continue;var
i1=t.find('span.df2-list-item-i1');if(!vw)vw=t1.parent().width();t1.width(vw-i1.width()-5);}});}}else{if(data.object.htmlPanelRight){var
panelRight=$('#'+viewerId+'PanelRight');if(panelRight.hasClass('floating')){var
panelRightContent=panelRight.find('>div.params');panelRightContent.html(data.object.htmlPanelRight);}else
panelRight.html(data.object.htmlPanelRight);}if(data.object.htmlCodeFullWidthToolbarAddButtons!==undefined){var
addButtonsElement=$('#'+viewerId+'FWTAddButtons');addButtonsElement.html(data.object.htmlCodeFullWidthToolbarAddButtons);}if(viewerMode==='panes'){viewerLines.html('');viewerAppendContent(viewer,data.object);}else
if(rowElement==='tr'){viewerLines.find('>table tbody').html(data.object.htmlItems);viewerLines.find('>table.dataGrid.main').floatThead('reflow');}else{viewerLines.html(data.object.htmlItems);viewerLines.find('>li').each(function(){var
t1=$(this).find('div.df2-list-item-t1');var
i1=$(this).find('span.df2-list-item-i1');t1.width(t1.parent().width()-i1.width()-5);});}viewerLines.scrollTop(0);}viewerLines.attr('data-rowspagenumber',data.object.rowsPageNumber);if((focusPK)&&(focusPK!=="")){df2viewerFocusPK(viewerId,focusPK);}viewer.attr('data-loadonprogress',0);e10setProgressIndicator(viewerId,0);});}else{var
jqxhr=$.getJSON(url,function(data){var
viewerLines=$('#'+viewerId+'Items');e10setProgress(viewerLines,0);viewerLines.html(data.object.htmlItems);if((focusPK)&&(focusPK!==""))df2viewerFocusPK(viewerId,focusPK);alert('123');}).error(function(){alert("error 24: content not loaded ("+url+")");});}return true;}function
e10AttWidgetFileSelected(input){var
infoPanel=$(input).parent().find('div.e10-att-input-files');var
info='<table>';for(var
i=0;i<input.files.length;i++){var
file=input.files[i];var
fileSize=0;if(file.size>1024*1024)fileSize=(Math.round(file.size*100/(1024*1024))/100).toString()+'MB';else
fileSize=(Math.round(file.size*100/1024)/100).toString()+'KB';info+='<tr>'+'<td>'+file.name+"</td><td class='number'>"+fileSize+'</td><td>-</td></tr>';}info+='</table>';infoPanel.html(info);}function
e10AttWidgetUploadFile(button){var
table=searchParentAttr(button,'data-table');if(table===null)table='_tmp';var
pk=searchParentAttr(button,'data-pk');var
infoPanel=button.parent().parent().find('div.e10-att-input-files');var
input=button.parent().parent().find('input:first').get(0);infoPanel.attr('data-fip',input.files.length);for(var
i=0;i<input.files.length;i++){var
file=input.files[i];var
url=httpApiRootPath+"/upload/e10.base.attachments/"+table+'/'+pk+'/'+file.name;e10AttWidgetUploadOneFile(url,file,infoPanel,i);}}function
e10AttWidgetUploadOneFile(url,file,infoPanel,idx){var
xhr=new
XMLHttpRequest();xhr.upload.addEventListener("progress",function(e){e10AttWidgetUploadProgress(e,infoPanel,idx);},false);xhr.onload=function(e){e10AttWidgetUploadDone(e,infoPanel,idx);};xhr.open("POST",url);xhr.setRequestHeader("Cache-Control","no-cache");xhr.setRequestHeader("Content-Type","application/octet-stream");xhr.send(file);}function
e10AttWidgetUploadDone(e,infoPanel,idx){var
cell=infoPanel.find('table tr:eq('+idx+') td:eq(2)');cell.css({"background-color":"green"}).attr('data-ufn',e.target.responseText);var
fip=parseInt(infoPanel.attr('data-fip'))-1;infoPanel.attr('data-fip',fip);if(fip==0){if(infoPanel.parent().attr('data-table')){viewerRefresh(infoPanel);}if(infoPanel.parent().attr('data-closewindow')){e10CloseModal();$('body .dropzone').removeClass('dropzone');}}}function
e10AttWidgetUploadProgress(e,infoPanel,idx){if(e.lengthComputable){var
percentage=Math.round((e.loaded*100)/e.total);var
cell=infoPanel.find('table tr:eq('+idx+') td:eq(2)');cell.text(percentage+' % ');}}function
e10RowsEditRefreshLayout(el){var
totalSizeY=el.height();var
sizeY=totalSizeY-2;var
grid=el.find('>ul');}function
changeFocusedDocumentRow(e,event){if(e.is("tr")){if(!e.hasClass("active")){e.parent().find("tr.active").removeClass("active");e.addClass("active");}return;}var
row=searchObjectAttr(e,'data-rowid');if(e.parent().hasClass('e10-rows-append'))row=e.parent();if(!row.hasClass('active')){row.parent().find("li.active").removeClass("active");row.addClass("active");}}function
e10StaticTab(e,event){e.parent().find('li.active').removeClass('active');e.addClass('active');e.parent().parent().find('div.e10-static-tab-content>div.active').removeClass('active');$('#'+e.data('content-id')).addClass('active');}function
e10widgetChangeTab(e,event){e.parent().parent().find('li.active').removeClass('active');e.addClass('active');e10widgetRefresh(0);}function
e10widgetRefresh(setTabs){var
e=$('#mainListViewMenu li.activeMainItem');if(!e.length)e=$('#smallPanelMenu>li.activeMainItem');if(e.attr('data-object')==='subMenu')e=$('#mainBrowserLeftMenuSubItems >div.active>ul>li.active');var
className=e.attr("data-class");var
urlPath="/api/widget/"+className+"/html?fullCode=1";if(e.attr("data-subclass"))urlPath+='&subclass='+e.attr("data-subclass");if(e.attr("data-subtype"))urlPath+='&subtype='+e.attr("data-subtype");var
activePanel=$('#mainWidgetTabs li.active');if(!activePanel.is('LI'))activePanel=$('#smallWidgetTabs li.active');if(activePanel.is('LI')){if(setTabs===0){urlPath+="&widgetPanelId="+activePanel.attr('data-subreport');e10.server.setRemote(activePanel);}}var
paramsElement=$('#e10-tm-viewerbuttonbox');var
params=df2collectFormData(paramsElement);urlPath+='&'+params;var
browserContent=$("#mainBrowserContent");if(setTabs===0){browserContent.find("div:first div").remove();browserContent.find("div:first").html("<div class='e10-reportContent'><i class='fa fa-spinner fa-spin fa-2x'></i></div>");}else
e10setProgress(browserContent,1);e10.server.get(urlPath,function(data){if(setTabs===1){mainBrowserRefreshLayout('mainBrowser',data.object);e10browserSetContent(data.object);e10setProgress(browserContent,0);}else{$('#e10-tm-viewerbuttonbox').html(data.object.htmlCodeToolbarViewer);browserContent.find("*:first").remove();browserContent.html(data.object.mainCode);}initSubObjects(data);setNotificationBadges();});}function
e10WidgetParam(event,e){if(e.attr('data-call-function')){e10.executeFunctionByName(e.attr('data-call-function'),e);return;}var
parentObject=searchObjectAttr(e,'data-object');var
parentObjectType=(parentObject)?parentObject.attr('data-object'):'';if(parentObjectType!=='widget')return;e10WidgetAction(event,e);}function
e10WidgetAction(event,e,widgetId){if(e&&e.attr('data-call-function')!==undefined){e10.executeFunctionByName(e.attr('data-call-function'),e);return;}var
widget=null;if(widgetId===undefined)widget=searchObjectAttr(e,'data-widget-class');else
widget=$('#'+widgetId);var
actionType='reload';if(e!==null)actionType=e.attr("data-action");if(actionType==='edit-iframe-doc'){try{var
iframe=widget.find('iframe');var
framePrimaryElement=iframe.contents().find('#e10-primary-page-content');if(!framePrimaryElement.length||!framePrimaryElement.attr('data-table'))framePrimaryElement=iframe.contents().find('body');var
failed=0;var
editParams={addparams:null};if(framePrimaryElement.attr('data-table'))editParams.table=framePrimaryElement.attr('data-table');else
failed=1;if(framePrimaryElement.attr('data-pk'))editParams.pk=framePrimaryElement.attr('data-pk');else
failed=1;editParams.srcobjecttype='iframe';editParams.srcobjectid=iframe.attr('id');}catch(err){failed=1;}if(failed){alert("Tuto stránku nelze editovat.");}else
e10DocumentEdit(0,editParams);return;}else
if(actionType==='new-iframe-doc'){try{var
iframe=widget.find('iframe');var
framePrimaryElement=iframe.contents().find('#e10-primary-page-content');if(!framePrimaryElement.length||!framePrimaryElement.attr('data-table'))framePrimaryElement=iframe.contents().find('body');var
failed=0;var
editParams={addparams:null};if(framePrimaryElement.attr('data-table'))editParams.table=framePrimaryElement.attr('data-table');else
failed=1;if(framePrimaryElement.attr('data-addparams'))editParams.addparams=framePrimaryElement.attr('data-addparams');else
failed=1;editParams.srcobjecttype='iframe';editParams.srcobjectid=iframe.attr('id');}catch(err){failed=1;}if(failed){alert("Stránku nelze přidat.");}else
e10DocumentAdd(0,editParams);return;}else
if(actionType==='open-iframe-tab'){try{var
iframe=widget.find('iframe');var
targetUrl=iframe[0].contentWindow.location.href;window.open(targetUrl,'_blank');}catch(err){}return;}var
postData={};if(widget.attr('data-collect')!==undefined){var
fn=window[widget.attr('data-collect')];if(typeof
fn==="function")postData=fn(widget);}else{e10collectFormData(widget,postData);}var
fullCode=0;if((e&&e.parent().hasClass('e10-wf-tabs'))||(widget.hasClass('e10-widget-viewer')))fullCode=1;else
if(!event&&!e)fullCode=1;if(e&&e.parent().hasClass('e10-wf-tabs')){var
tabList=e.parent();var
inputId=tabList.attr('data-value-id');if(inputId===undefined)inputId=(tabList.hasClass('right'))?'e10-widget-topTab-value-right':'e10-widget-topTab-value';$('#'+inputId).val(e.attr('data-tabid'));try{var
iframeElement=widget.find('iframe');if(iframeElement.length)postData['iframeActiveUrl']=iframeElement[0].contentWindow.location.href;}catch(err){}}var
className=widget.attr("data-widget-class");var
widgetParams=widget.attr("data-widget-params");var
oldWidgetId=widget.attr('id');var
urlPath="/api/widget/"+className+"/html?fullCode="+fullCode+"&widgetAction="+actionType+'&widgetId='+oldWidgetId;if(widgetParams!='')urlPath+="&"+widgetParams;if(e!==null&&e.attr('data-action-params'))urlPath+="&"+e.attr('data-action-params');var
params=df2collectFormData(widget);if(params!='')urlPath+='&'+params;e10.server.setRemote(widget);e10.server.postForm(urlPath,postData,function(data){if(widget.attr('data-set-content-function')!==undefined&&actionType!=='reload'){var
fn=window[widget.attr('data-set-content-function')];if(typeof
fn==="function")fn(widget,data);}else
if(widget.hasClass('e10-widget-board')&&!data.object.fullCode){var
content=widget.find('>div.e10-widget-content>div.e10-wr-data');content.find("*:first").remove();content.html(data.object.mainCode);}else
if(widget.hasClass('e10-widget-board')&&data.object.fullCode){var
browserContent=$("#e10dashboardWidget");browserContent.find("*:first").remove();browserContent.html(data.object.mainCode);var
content=widget.find('>div.e10-widget-content>div.e10-wr-data');setTimeout(function(){initSubObjects(data);},10);}else{widget.find("*:first").remove();widget.html(data.object.mainCode);if(className==='e10.base.NotificationCentre')e10NCSetButton(data.object);setTimeout(function(){initSubObjects(data);},10);}setNotificationBadges();});}function
e10WidgetInit(id){var
w=$('#'+id);if(!w.length)return;w.find('div.e10-widget-iframe').each(function(){$(this).parent().parent().height($(this).parent().parent().parent().height()-2);$(this).height($(this).parent().parent().parent().height()-2);});w.find('div.e10-max-height').each(function(){$(this).parent().parent().height($(this).parent().parent().parent().height()-2);$(this).height($(this).parent().parent().parent().height()-2);});var
w=$('#'+id);w.find('div.e10-remote-widget').each(function(){var
id=$(this).attr('id');e10LoadRemoteWidget(id);});boardWidgetRefreshLayout(id);}function
e10LoadRemoteWidget(id){var
w=$('#'+id);var
widgetClassId=w.attr('data-widget-class');var
url="/api/widget/"+widgetClassId;if(w.attr('data-widget-params'))url+='?'+w.attr('data-widget-params');e10.server.get(url,function(data){w.html(data.object.mainCode);});}function
e10MMToggle(button){var
panel=$('#mainBrowserMM');if(panel.hasClass('open')){panel.removeClass('open');panel.addClass('close');}else{if(button.parent().hasClass('e10-wf-tabs')){var
mainBrowserMMTopY=button.parent().height();var
mainBrowser=$('#mainBrowser');var
mm=$('#mainBrowserMM');mm.css({top:mainBrowserMMTopY});mm.height(mainBrowser.height()-mainBrowserMMTopY);}panel.removeClass('close');panel.addClass('open');}}function
e10NCToggle(){var
panel=$('#mainBrowserNC');if(panel.hasClass('open')){panel.removeClass('open');panel.addClass('close');}else{panel.removeClass('close');panel.addClass('open');}}var
g_NCTimer=0;function
e10NCReload(actionType){var
widget=$('#mainBrowserNC>div.e10-widget-pane');if(!widget.length)return;var
className=widget.attr("data-widget-class");var
urlPath="/api/widget/"+className+"/html?fullCode=0"+"&widgetAction="+actionType;e10.server.get(urlPath,function(data){widget.find("*:first").remove();widget.html(data.object.mainCode);e10NCSetButton(data.object);e10NCShowBubbles(data.object.notifications);initSubObjects(data);},function(){e10NCSetButton({cntNotificationsText:'!',cntNotifications:0});});g_NCTimer=setTimeout(function(){e10NCReload('init')},60000);}var
g_activeNtfBadges=[];function
e10NCReset(){clearTimeout(g_NCTimer);g_NCTimer=setTimeout(function(){e10NCReload('init')},1000);}function
e10NCSetButton(data){var
ncButton=$('#e10-nc-button-cn');ncButton.text(data.cntNotificationsText);var
ncIcon=$('#e10-nc-button>i');var
appBrowserIconElement=$('#e10-browser-app-icon');var
ncRunningActivities=$('#e10-nc-button-ra');if(data.runningActivities)ncRunningActivities.show();else
ncRunningActivities.hide();if(data.cntNotifications>0){ncIcon.attr("class","fa fa-bell-o");var
iconFileName=e10dsIconServerUrl+'imgs/-i256/-b./-v5/'+e10dsIconFileName;if(data.cntNotifications<10)iconFileName=e10dsIconServerUrl+'imgs/-i256/-b'+data.cntNotifications+'/-v5/'+e10dsIconFileName;appBrowserIconElement.attr('href',iconFileName);}else{ncIcon.attr("class","fa fa-bell-o e10-off");appBrowserIconElement.attr('href',e10dsIcon);}g_activeNtfBadges=[];for(var
badgeId
in
data.ntfBadges){if(data.ntfBadges[badgeId])g_activeNtfBadges[badgeId]=data.ntfBadges[badgeId];setNotificationBadge(badgeId);}}function
setNotificationBadges(){for(var
badgeId
in
g_activeNtfBadges){setNotificationBadge(badgeId);}}function
setNotificationBadge(badgeId){var
ntfElement=$('#'+badgeId);if(ntfElement.length){if(g_activeNtfBadges[badgeId])ntfElement.text(g_activeNtfBadges[badgeId]).show();else
ntfElement.text('').hide();}ntfElement=$('#'+badgeId+'-sec');if(ntfElement.length){if(g_activeNtfBadges[badgeId])ntfElement.text(g_activeNtfBadges[badgeId]).show();else
ntfElement.text('').hide();}}function
e10NCShowBubbles(notifications){if(notifications===undefined)return;for(var
i=0;i<notifications.length;i++){var
n=notifications[i];var
opts={text:n.msg};opts.type='error';if(n.title!==undefined)opts.title=n.title;if(n.icon!==undefined)opts.icon=n.icon;if(n.mode==='top'){opts.stack=g_NotifyStackTopBar;opts.addclass="stack-bar-top";opts.cornerclass='';opts.animation='slide';opts.animate_speed=150;opts.width="100%";}else{opts.stack=g_NotifyStackTopRight;if(n.desktop!==undefined){var
dn={icon:e10dsIcon,title:'New notification 2'};opts.desktop={desktop:true,icon:e10dsIcon};if(n.title!==undefined){opts.title=n.title;dn.body=n.msg;dn.title=n.title;}if(n.msg!==undefined){dn.body=n.msg;}if(window.Notification&&Notification.permission!=='denied'){if(Notification.permission==='granted'){const
notification=new
Notification(dn.title,dn);return;}Notification.requestPermission().then(function(p){if(p==='granted'){const
notification=new
Notification(dn.title,dn);}else{console.log('User blocked notifications.');}}).catch(function(err){console.error(err);});}PNotify.desktop.permission();}}new
PNotify(opts);}}var
g_ScanToDocumentTimer=0;function
e10ScanToDocumentReload(widgetId,actionType){var
widget=$('#'+widgetId);if(widget.length==0)return;var
table=widget.attr('data-table');var
pk=widget.attr('data-pk');var
className=widget.attr("data-widget-class");var
urlPath=httpApiRootPath+"/api/widget/"+className+"/html?fullCode=0"+"&widgetAction="+actionType+'&table='+table+'&pk='+pk;var
jqxhr=$.getJSON(urlPath,function(data){widget.find("*:first").remove();widget.html(data.object.mainCode);}).error(function(){alert('nejede to!');});g_ScanToDocumentTimer=setTimeout(function(){e10ScanToDocumentReload(widgetId,'init')},10000);}function
e10ListParamToggle(e){var
param=searchParentAttrElement(e,'data-paramid');param.find('div.title.active').removeClass('active');e.addClass('active');param.find('input').val(e.attr('data-value')).trigger('change');}function
e10ReportChangeParam(e){var
param=searchObjectAttr(e,'data-paramid');if(e.attr('data-value')){var
value=e.attr('data-value');param.find('input').val(value).trigger('change');param.find('.active').removeClass('active');e.addClass('active');if(!e.is('BUTTON')){var
title=e.attr('data-title');param.find('>button>span.v').text(title);}}else{var
value=e.parent().attr('data-value');var
title=e.parent().attr('data-title');param.find('input').val(value).trigger('change');param.find('>button>span.v').text(title);param.find('.dropdown-menu .active').removeClass('active');e.parent().addClass('active');}}function
e10ReportPanelToggle(e){var
panel=e.parent();if(panel.hasClass('open')){panel.removeClass('open');panel.addClass('close');}else{panel.removeClass('close');panel.addClass('open');}}function
e10selectReport(e,event){e.parent().find('li.active').removeClass('active');e.addClass('active');e10refreshReport(1);}function
e10refreshReport(setTabs){var
widgetTest=$('#e10dashboardWidget');if(widgetTest.is('DIV')){e10widgetRefresh(0);return;}var
activeReport=$('#e10reportWidget ul.e10-selectReport li.active');var
activeSubReportId='subReportId=';if(setTabs!==1){var
activeSubReport=$('#mainReportWidgetTabs li.active');if(activeSubReport.is('LI'))activeSubReportId+=activeSubReport.attr('data-subreport');}var
paramsElement=$('#e10-tm-viewerbuttonbox');var
params=df2collectFormData(paramsElement);params+=df2collectFormData($('#e10-report-panel'),1);var
reportClass=activeReport.attr('data-class');var
urlPath=httpApiRootPath+"/api/report/"+reportClass+"/widget"+'?'+activeSubReportId+'&'+params;var
browserContent=$("#e10reportWidget >div.e10-wr-content >div.e10-wr-data");var
browserPanel=$("#e10reportWidget >div.e10-wr-content >div.e10-wr-params >div.params");browserContent.find("*:first").remove();var
spinnerUrl=httpApiRootPath+'/www-root/sc/shipard/spinner-bars.svg';browserContent.html("<div class='e10-reportContent'><img style='width: 2em; height: 2em;' src='"+spinnerUrl+"'></img>&nbsp;Přehled se připravuje, čekejte prosím...<br/></div>");var
jqxhr=$.getJSON(urlPath,function(data){browserContent.find("*:first").remove();browserContent.html(data.object.mainCode);$('#e10-tm-viewerbuttonbox').html(data.object.htmlCodeToolbarViewer);browserPanel.html(data.object.htmlCodeReportPanel);if(setTabs===1)$('#mainBrowserRightBarDetails').html(data.object.htmlCodeDetails);}).error(function(){alert("error 27: content not loaded ("+urlPath+")");});}function
e10reportChangeTab(e,event){e.parent().find('li.active').removeClass('active');e.addClass('active');e10refreshReport(0);}function
e10printReport(printButton,event){event.stopPropagation();event.preventDefault();var
reportClass='';var
activeSubReportId='subReportId=';var
paramsElement=null;var
params='';if(printButton.attr('data-params'))params=printButton.attr('data-params');var
bp=printButton.parent();if(bp.attr('data-report-class')){reportClass=bp.attr('data-report-class');paramsElement=bp.parent();if(bp.attr('data-subreport'))activeSubReportId+=bp.attr('data-subreport');}else{paramsElement=$('#e10-tm-viewerbuttonbox');var
activeReport=$('#e10reportWidget ul.e10-selectReport li.active');var
activeSubReport=$('#mainReportWidgetTabs li.active');if(activeSubReport.is('LI'))activeSubReportId+=activeSubReport.attr('data-subreport');reportClass=activeReport.attr('data-class');}params+=df2collectFormData(paramsElement,(params==='')?0:1);params+=df2collectFormData($('#e10-report-panel'),1);var
format='pdf';if(printButton.attr('data-format'))format=printButton.attr('data-format');var
urlPath=httpApiRootPath+"/api/report/"+reportClass+"/"+format+'?'+activeSubReportId+'&'+params;if(format==='pdf'){if(e10embedded){window.location=urlPath;}else{var
width=(screen.width*0.85)|0;var
height=(screen.height*0.85)|0;window.open(urlPath,"test","location=no,status=no,resizable,width="+width+",height="+height);}}else{window.location=urlPath;}}function
e10report(button,event){var
reportClass=button.attr('data-class');var
print=false;if(event!==undefined&&event.shiftKey)print=true;var
urlPath=httpApiRootPath+"/api/report/"+reportClass+"/pdf?mismatch=1";if(print)urlPath+='&print=1';button.toggleClass('activeMainItem');if(print){$.get(urlPath,function(data){button.toggleClass('activeMainItem');});}else{if(e10embedded){window.location=urlPath;}else{var
width=(screen.width*0.85)|0;var
height=(screen.height*0.85)|0;window.open(urlPath,"test","location=no,status=no,resizable,width="+width+",height="+height);button.toggleClass('activeMainItem');}}}function
wsSetState(serverIndex,socketState){var
ws=webSocketServers[serverIndex];var
serverIcon=$('#wss-'+ws.id);serverIcon.attr('class','e10-wss e10-wss-'+socketState);}function
e10CheckBarcode(barcode){var
browserContent=$("#mainBrowserContent");var
e=browserContent.find("div.df2-viewer");var
activeDetail=e.find("div.e10-mv-ld-content");var
detailViewer=activeDetail.find("div.df2-viewer");if(detailViewer.is('DIV')&&detailViewer.hasClass('addByBarcode')){viewerAddRowFromSensor(detailViewer,'barcode',barcode);return;}var
searchInput=e.find("input.fulltext");searchInput.val(barcode);viewerIncSearch(searchInput);}function
e10SwitchBarcodeKbd(event,btn){var
current=$('#'+g_focusedInputId);var
e=$('#wss-bc-kbd');if(e.hasClass('e10-bc-kbd-off'))e.removeClass('e10-bc-kbd-off').addClass('e10-bc-kbd-on');else
e.removeClass('e10-bc-kbd-on').addClass('e10-bc-kbd-off');current.focus();}function
e10SensorToggle(event,e){var
sensorId=e.attr('data-sensorid');var
serveridx=parseInt(e.attr('data-serveridx'));var
url=webSocketServers[serveridx].postUrl;url=url+'?callback=?&data=';if(e.hasClass('e10-sensor-on')){var
msg={'deviceId':deviceId,'sensorId':sensorId,'cmd':'unlockSensor'};url+=encodeURI(JSON.stringify(msg));$.getJSON(url,function(data){});}else{var
msg={'deviceId':deviceId,'sensorId':sensorId,'cmd':'lockSensor'};url+=encodeURI(JSON.stringify(msg));$.getJSON(url,function(data){});}e.toggleClass('e10-sensor-on');}function
viewerAddRowFromSensor(viewer,sensorType,sensorValue){var
viewerId=viewer.attr("id");var
tableName=viewer.attr("data-table");if(!tableName)return;var
viewerOptions=viewer.attr("data-viewer-view-id");var
urlPath='';var
rowsPageNumber=0;urlPath=httpApiRootPath+'/api/viewer/'+tableName+'/'+viewerOptions+'/html'+"?callback=?&rowsPageNumber="+rowsPageNumber;urlPath+="&sensorType="+sensorType+"&sensorValue="+sensorValue;var
queryParams=viewer.attr("data-queryparams");if(queryParams)urlPath+='&'+queryParams;var
ap=viewer.attr('data-addparams');if(ap!='')urlPath+="&"+ap;var
jqxhr=$.getJSON(urlPath,function(data){var
viewerLines=$('#'+viewerId+'Items');viewerLines.prepend(data.object.htmlItems);if(viewerLines.find('>li').length>70)viewerLines.find('>li:last').detach();}).error(function(){alert("error 18: content not loaded ("+urlPath+")");});}function
initMQTT(){if(typeof
Paho=='undefined')return;for(var
i
in
webSocketServers){mqttStartClient(i);}}function
mqttStartClient(serverIndex,disableMessage){var
ws=webSocketServers[serverIndex];if(ws.fqdn===null||ws.fqdn==='')return;var
portNumber=parseInt(ws.port);if(portNumber===0)return;ws.retryTimer=0;ws.mqttClient=new
Paho.MQTT.Client(ws.fqdn,portNumber,deviceId+"-"+Math.random().toString(36));ws.mqttClient.onConnectionLost=function(){setTimeout(function(){wsSetState(serverIndex,'error');},200);webSocketServers[serverIndex].retryTimer=setTimeout(function(){mqttStartClient(serverIndex,1);},3000);};ws.mqttClient.onMessageArrived=function(message){mqttOnMessage(serverIndex,message);};ws.mqttClient.connect({onSuccess:function(){wsSetState(serverIndex,'open');mqttSubscribeAll(serverIndex);},onFailure:function(){wsSetState(serverIndex,'error');webSocketServers[serverIndex].retryTimer=setTimeout(function(){mqttStartClient(serverIndex,1);},3000);},useSSL:true});}function
mqttSubscribeAll(serverIndex){var
ws=webSocketServers[serverIndex];if(ws.topics===undefined)return;for(var
topic
in
ws.topics){ws.mqttClient.subscribe(topic);}}function
mqttOnMessage(serverIndex,data){var
ws=webSocketServers[serverIndex];if(ws.topics===undefined)return;if(ws.topics[data.destinationName]===undefined)return;var
sensorInfo=ws.topics[data.destinationName];var
mainMenuElementId='mqtt-sensor-'+sensorInfo['sensorId'];var
mainMenuElement=$('#'+mainMenuElementId);if(mainMenuElement.length){mainMenuElement.find('span.value').text(data.payloadString);if(sensorInfo.flags['qt']!==undefined&&sensorInfo.flags['qt']===20){if(g_openModals.length!==0){var
modalId=g_openModals[g_openModals.length-1];var
modalElement=$('#'+modalId);var
receiveSensors=modalElement.attr('data_receivesensors');if(receiveSensors!==undefined){var
sids=receiveSensors.split(' ');for(i=0;i<sids.length;i++){$('#'+sids[i]).text(data.payloadString);}}}}if(g_camerasBarTimer!==0){clearTimeout(g_camerasBarTimer);g_camerasBarTimer=0;camerasReload();}}if(sensorInfo.flags['kbd']!==undefined&&sensorInfo.flags['kbd']){var
currentInput=$('#'+g_focusedInputId);if(!currentInput.length)currentInput=$(':focus');if(currentInput.length){currentInput.val(data.payloadString);currentInput.trigger('change');if(currentInput.hasClass('e10-viewer-search'))viewerIncSearch(currentInput,null,1);}}}function
e10WizardNext(input){var
id=input.attr('data-form');var
form=$("#"+id);var
uploadedFiles=[];var
viewersPks=[];var
fileInput=form.find(':input.e10-att-input-file').first();if(fileInput){var
infoPanel=fileInput.parent().find('div.e10-att-input-files');if(infoPanel.attr('data-fip')){var
fip=parseInt(infoPanel.attr('data-fip'));if(fip!==0){setTimeout(function(){e10WizardNext(input);},100);return;}}else
if(fileInput.val()){e10AttWidgetUploadFile(fileInput);setTimeout(function(){e10WizardNext(input);},100);return;}form.find('div.e10-att-input-files >table td').each(function(){if($(this).attr("data-ufn"))uploadedFiles.push($(this).attr("data-ufn"));});}form.find('ul.df2-viewer-list >li.active').each(function(){if($(this).attr("data-pk"))viewersPks.push($(this).attr("data-pk"));});var
e=$("#"+id);var
codeTarget=e.parent().parent();var
wizardClass=e.attr("data-formid");var
wizardPage=parseInt(e.attr("data-wizardpage"))+1;var
url="/api/wizard/"+wizardClass+"/"+wizardPage+"?callback=?&newFormId="+id;if(input.attr('data-docstate')!==undefined)url+='&setNewDocState='+input.attr('data-docstate');var
formData=df2collectEditFormData(e,$.myFormsData[id]);formData['recData']['uploadedFiles']=uploadedFiles;formData['recData']['viewersPks']=viewersPks;var
focusedId=input.attr('id');var
btns=$("#"+id+'Buttons');btns.html("<i class='fa fa-spinner fa-spin fa-2x'></i> Čekejte, prosím...");e10.server.post(url,formData,function(data){codeTarget.html(data.mainCode);var
sidebar=$("#"+id+'Sidebar');var
header=$("#"+id+'Header');header.html(data.htmlHeader);var
buttons=$("#"+id+'Buttons');buttons.show();buttons.html(data.buttonsCode);df2FormsSetData(id,data);var
form=$("#"+id);e10DecorateFormWidgets(form);e10doSizeHints(form);if(data.sidebarCode!=null){sidebar.html(data.sidebarCode);sidebar.find('div.df2-viewer').each(function(){var
viewerId=$(this).attr("id");initViewer(viewerId);});}if(data.flags.autofocus===undefined)$("#"+id+" input[type='text']:visible,textarea:visible,div.e10-inputDocLink:visible").first().focus();else
$("#"+id+" input.autofocus").first().focus();if(data.stepResult&&data.stepResult.close==1){var
modalElement=$('#'+id+'Form');var
srcObjectType=modalElement.attr('data-srcObjectType');var
srcObjectId=modalElement.attr('data-srcObjectId');e10ViewerCancelForm(form);if(srcObjectType==='viewer'){if(srcObjectId==='default')srcObjectId=$('#mainBrowserContent div.e10-mainViewer').attr('id');if(data.stepResult&&data.stepResult.refreshDetail==1){var
activeItem=$("#"+srcObjectId+"Items li.active");if(activeItem.is('LI')){viewerItemClick(activeItem);viewerItemClick(activeItem);}}else
viewerRefresh($('#'+srcObjectId),data.recData['ndx']);}else
if(srcObjectType==='widget')e10WidgetAction(null,null,srcObjectId);else
if(srcObjectType=='form-to-save'){e10SaveOnChange($('#'+srcObjectId));}if(data.stepResult.addDocument==1)e10DocumentAdd(0,data.stepResult.params);else
if(data.stepResult.editDocument==1)e10DocumentEdit(0,data.stepResult.params);}else
if(data.stepResult&&data.stepResult.restartApp==1){e10CloseModals();location.replace(httpApiRootPath+'/app/dashboard');}else
if(data.stepResult&&data.stepResult.reloadPage==1){e10CloseModals();location.reload();}$('#'+focusedId).focusNextInputField();});}var
g_camerasBarTimer=0;function
camerasReload(first){if(g_appWindowsCamerasPictures===undefined||g_appWindowsCamerasPictures.servers===undefined)return;var
needReload=0;var
pictsWidth=380;var
boxElement=$("#mainBrowserRightBarTop>div.camPicts");if(boxElement.length)pictsWidth=(boxElement.innerWidth()|0)-22;for(var
si
in
g_appWindowsCamerasPictures.servers){var
srv=g_appWindowsCamerasPictures.servers[si];var
urlPath=srv.url+"/cameras?callback=?";var
jqxhr=$.getJSON(urlPath,function(data){for(var
ii
in
data){var
picFileName=srv.url+'imgs/-w'+pictsWidth+'/-q70/'+ii+"/"+data[ii].image;var
origPicFileName=srv.url+'/imgs/'+ii+"/"+data[ii].image;var
rightPicture=$('#e10-cam-'+ii+'-right');if(rightPicture.length&&rightPicture.is('img')){if(first===1){rightPicture.load(function(){$(this).attr('data-load-in-progress','0');});}rightPicture.attr("src",picFileName).parent().attr("data-pict",origPicFileName);if(rightPicture.attr('data-load-in-progress')==='1'){needReload=1;continue;}rightPicture.attr('data-load-in-progress','1');}else
rightPicture.parent().attr("data-pict",origPicFileName);}if(needReload)g_camerasBarTimer=setTimeout(camerasReload,1000);else
g_camerasBarTimer=setTimeout(camerasReload,5000);});}}function
bigClock(){var
thetime=new
Date();var
nhours=thetime.getHours();var
nmins=thetime.getMinutes();var
nsecs=thetime.getSeconds();if(nmins<10)nmins='0'+nmins;$('#big-clock').text(nhours+':'+nmins);setTimeout(bigClock,1000*(60-nsecs));}function
e10FormCheckScannerInput(element,event){var
s=element.val();s=s.replace(/\+/g,"1");s=s.replace(/ě/g,"2");s=s.replace(/š/g,"3");s=s.replace(/č/g,"4");s=s.replace(/ř/g,"5");s=s.replace(/ž/g,"6");s=s.replace(/ý/g,"7");s=s.replace(/á/g,"8");s=s.replace(/í/g,"9");s=s.replace(/é/g,"0");element.val(s);}function
e10FormsLocalSidebar(e){var
sidebarType=e.attr('data-sidebar-local');var
formId=searchObjectId(e,'form');if(!formId)formId=searchObjectId(e,'wizard');var
sidebar=$("#"+formId+'Sidebar');sidebar.attr('data-sidebar-local-column-target',e.attr('id'));sidebar.find('*').detach();if(sidebarType==='calendar')e10FormsLocalSidebarCalendar(e,sidebar);else
if(sidebarType==='color')e10FormsLocalSidebarColor(e,sidebar);}function
e10FormsDoSidebarSetVal(e,event){var
sidebar=searchObjectAttr(e,'data-sidebar-local-column-target');if(sidebar===null)return;var
targetInputId=sidebar.attr('data-sidebar-local-column-target');var
input=$('#'+targetInputId);if(input.attr('readonly')!==undefined)return;var
value='';var
functionValue=e.attr('data-function-value');var
encodedValue=e.attr('data-b64-value');if(functionValue!==undefined){value=window[functionValue](e,b64DecodeUnicode(encodedValue));}else
if(encodedValue!==undefined){value=b64DecodeUnicode(encodedValue);}else
value=e.attr('data-value');if(input.is('textarea')){if(input.hasClass('e10-inputCode')){input.data('cm').replaceSelection(value);input.data('cm').focus();}else{input.insertAtCaret(value);input.focus();}}else
input.val(value).focus();e10FormSetAsModified(input);if(input.hasClass('e10-inputColor'))e10FormsBlurColorInput(event,input);}function
webTextArticleImageSelected(e,codeBegin){var
viewer=searchObjectAttr(e,'data-object');var
code='';var
imagesId=[];var
formElements=viewer.find('input');for(var
i=0;i<formElements.length;i++){var
element=formElements[i];var
type=element.type;if(type==="checkbox"){if(element.checked)imagesId.push(element.value);}}code+=codeBegin+'id:';for(i=0;i<imagesId.length;i++){if(i)code+=',';code+=imagesId[i];}code+='}}';return code;}function
e10FormsLocalSidebarCalendar(e,sidebar){var
calendarCode='';var
date=new
Date();date.setDate(-1);calendarCode+="<div class='e10-sidebar-local e10-sidebar-calendar'>";calendarCode+=calendarMonthCode(date.getFullYear(),date.getMonth()+1);date.setDate(32);calendarCode+=calendarMonthCode(date.getFullYear(),date.getMonth()+1);date.setDate(32);calendarCode+=calendarMonthCode(date.getFullYear(),date.getMonth()+1);date.setDate(32);calendarCode+=calendarMonthCode(date.getFullYear(),date.getMonth()+1);date.setDate(32);calendarCode+=calendarMonthCode(date.getFullYear(),date.getMonth()+1);calendarCode+="</div>";sidebar.html(calendarCode);}function
calendarMonthCode(forYear,forMonth){var
c='';var
date=new
Date(forYear,forMonth-1,1);var
months=['leden','únor','březen','duben','květen','červen','červenec','srpen','září','říjen','listopad','prosinec'];while(1){if(date.getDay()!==1)date=addDays(date,-1);if(date.getDay()===1)break;}var
month=date.getMonth();var
year=date.getFullYear();var
monthTitle=months[forMonth-1]+' '+forYear;var
todayDate=new
Date();var
todayDateValue=calendarMonthCodeDayVal(todayDate);c+='<table class="e10-cal-small"><tbody><tr class="monthName"><td colspan="8">'+monthTitle+'</td></tr>';c+='<tr class="monthName"><td>&nbsp;</td><td>Po</td><td>Út</td><td>St</td><td>Čt</td><td>Pá</td><td>So</td><td>Ne</td></tr>';var
dayClass='';var
dateValue='';var
dd=0;while(1){c+='<tr>';c+='<td class="week">'+getISOWeek(date)+'</td>';for(dd=0;dd<7;dd++){dateValue=calendarMonthCodeDayVal(date);dayClass='day e10-sidebar-setval';if((date.getMonth()+1)!==forMonth)dayClass+=' inactive';else
if(todayDateValue===dateValue)dayClass+=' e10-row-this e10-bold';else
if(date.getMonth()===todayDate.getMonth())dayClass+=' e10-row-plus';c+='<td class="'+dayClass+'" data-value="'+dateValue+'">'+date.getDate()+'</td>';date=addDays(date,1);}c+='</tr>';if((date.getMonth()+1)!=forMonth)break;}c+='</tbody></table>';return c;}function
calendarMonthCodeDayVal(currentDate){var
dateValue='';var
d=currentDate.getDate();if(d<10)dateValue+='0';dateValue+=d;dateValue+='.';var
m=currentDate.getMonth()+1;if(m<10)dateValue+='0';dateValue+=m;dateValue+='.';var
y=currentDate.getFullYear();dateValue+=y;return dateValue;}function
e10FormsBlurDateInput(event,e){var
text=e.val();if(text==='')return;var
today=new
Date();if(text==='.'||text===',')text=today.getDate()+'.'+(today.getMonth()+1)+'.'+today.getFullYear();else
if(text.charAt(0)==='+'||text.charAt(0)==='-'){var
days=parseInt(text);if(days){today=addDays(today,days);text=today.getDate()+'.'+(today.getMonth()+1)+'.'+today.getFullYear()}}else
if(text.length===4){text=text.substring(0,2)+'.'+text.substring(2,4);}else
if(text.length===6)text=text.substring(0,2)+'.'+text.substring(2,4)+'.'+text.substring(4,6);text=text.replace(/^[^\d]*|[^\d]*$/gi,'');var
parts=text.split(/[^0-9]/);if(parts.length===1){parts.push(today.getMonth()+1);parts.push(today.getFullYear());}else
if(parts.length===2){parts.push(today.getFullYear());}var
y=parseInt(parts[2]);if(y&&y<100)parts[2]=2000+y;var
dateStr=parts[2]+'-'+parts[1]+'-'+parts[0];if(dateIsValid(dateStr)){dateStr=pad(parts[0],2)+'.'+pad(parts[1],2)+'.'+parts[2];e.val(dateStr);e.removeClass('e10-invalid');}else{e.addClass('e10-invalid');}}function
e10FormsLocalSidebarColor(e,sidebar){var
sidebarCode='';sidebarCode+="<div class='e10-sidebar-local e10-sidebar-color'>";sidebarCode+="<div class='e10-color-table'>";var
title='';var
c='';for(var
i=0;i<sidebarColorsTable.length;i++){var
item=sidebarColorsTable[i];title='#'+item['rgb']+' '+item['name'];c+="<span class='e10-sidebar-setval' style='background-color:#"+item['rgb']+"' data-value='#"+item['rgb']+"' title='"+title+"'></span>";}sidebarCode+=c;sidebarCode+='</div>';sidebar.html(sidebarCode);}function
e10FormsBlurColorInput(event,e){var
text=e.val();if(text!==''){var
matchColors=/^#[0-9a-f]{6}$|^#[0-9a-f]{3}$/i;var
match=matchColors.exec(text);if(match===null){e.addClass('e10-invalid');return;}}e.removeClass('e10-invalid');var
colorBox=e.parent().find('span');if(text===''){colorBox.css('background','#FFF');return;}colorBox.css('background',text);}var
sidebarColorsTable=[{"rgb":"000000","name":"Black"},{"rgb":"0C090A","name":"Night"},{"rgb":"2C3539","name":"Gunmetal"},{"rgb":"2B1B17","name":"Midnight"},{"rgb":"34282C","name":"Charcoal"},{"rgb":"25383C","name":"Dark Slate Grey"},{"rgb":"3B3131","name":"Oil"},{"rgb":"413839","name":"Black Cat"},{"rgb":"3D3C3A","name":"Iridium"},{"rgb":"463E3F","name":"Black Eel"},{"rgb":"4C4646","name":"Black Cow"},{"rgb":"504A4B","name":"Gray Wolf"},{"rgb":"565051","name":"Vampire Gray"},{"rgb":"5C5858","name":"Gray Dolphin"},{"rgb":"625D5D","name":"Carbon Gray"},{"rgb":"666362","name":"Ash Gray"},{"rgb":"6D6968","name":"Cloudy Gray"},{"rgb":"726E6D","name":"Smokey Gray"},{"rgb":"736F6E","name":"Gray"},{"rgb":"837E7C","name":"Granite"},{"rgb":"848482","name":"Battleship Gray"},{"rgb":"B6B6B4","name":"Gray Cloud"},{"rgb":"D1D0CE","name":"Gray Goose"},{"rgb":"E5E4E2","name":"Platinum"},{"rgb":"BCC6CC","name":"Metallic Silver"},{"rgb":"98AFC7","name":"Blue Gray"},{"rgb":"6D7B8D","name":"Light Slate Gray"},{"rgb":"657383","name":"Slate Gray"},{"rgb":"616D7E","name":"Jet Gray"},{"rgb":"646D7E","name":"Mist Blue"},{"rgb":"566D7E","name":"Marble Blue"},{"rgb":"737CA1","name":"Slate Blue"},{"rgb":"4863A0","name":"Steel Blue"},{"rgb":"2B547E","name":"Blue Jay"},{"rgb":"2B3856","name":"Dark Slate Blue"},{"rgb":"151B54","name":"Midnight Blue"},{"rgb":"000080","name":"Navy Blue"},{"rgb":"342D7E","name":"Blue Whale"},{"rgb":"15317E","name":"Lapis Blue"},{"rgb":"151B8D","name":"Denim Dark Blue"},{"rgb":"0000A0","name":"Earth Blue"},{"rgb":"0020C2","name":"Cobalt Blue"},{"rgb":"0041C2","name":"Blueberry Blue"},{"rgb":"2554C7","name":"Sapphire Blue"},{"rgb":"1569C7","name":"Blue Eyes"},{"rgb":"2B60DE","name":"Royal Blue"},{"rgb":"1F45FC","name":"Blue Orchid"},{"rgb":"6960EC","name":"Blue Lotus"},{"rgb":"736AFF","name":"Light Slate Blue"},{"rgb":"357EC7","name":"Windows Blue"},{"rgb":"368BC1","name":"Glacial Blue Ice"},{"rgb":"488AC7","name":"Silk Blue"},{"rgb":"3090C7","name":"Blue Ivy"},{"rgb":"659EC7","name":"Blue Koi"},{"rgb":"87AFC7","name":"Columbia Blue"},{"rgb":"95B9C7","name":"Baby Blue"},{"rgb":"728FCE","name":"Light Steel Blue"},{"rgb":"2B65EC","name":"Ocean Blue"},{"rgb":"306EFF","name":"Blue Ribbon"},{"rgb":"157DEC","name":"Blue Dress"},{"rgb":"1589FF","name":"Dodger Blue"},{"rgb":"6495ED","name":"Cornflower Blue"},{"rgb":"6698FF","name":"Sky Blue"},{"rgb":"38ACEC","name":"Butterfly Blue"},{"rgb":"56A5EC","name":"Iceberg"},{"rgb":"5CB3FF","name":"Crystal Blue"},{"rgb":"3BB9FF","name":"Deep Sky Blue"},{"rgb":"79BAEC","name":"Denim Blue"},{"rgb":"82CAFA","name":"Light Sky Blue"},{"rgb":"82CAFF","name":"Day Sky Blue"},{"rgb":"A0CFEC","name":"Jeans Blue"},{"rgb":"B7CEEC","name":"Blue Angel"},{"rgb":"B4CFEC","name":"Pastel Blue"},{"rgb":"C2DFFF","name":"Sea Blue"},{"rgb":"C6DEFF","name":"Powder Blue"},{"rgb":"AFDCEC","name":"Coral Blue"},{"rgb":"ADDFFF","name":"Light Blue"},{"rgb":"BDEDFF","name":"Robin Egg Blue"},{"rgb":"CFECEC","name":"Pale Blue Lily"},{"rgb":"E0FFFF","name":"Light Cyan"},{"rgb":"EBF4FA","name":"Water"},{"rgb":"F0F8FF","name":"AliceBlue"},{"rgb":"F0FFFF","name":"Azure"},{"rgb":"CCFFFF","name":"Light Slate"},{"rgb":"93FFE8","name":"Light Aquamarine"},{"rgb":"9AFEFF","name":"Electric Blue"},{"rgb":"7FFFD4","name":"Aquamarine"},{"rgb":"00FFFF","name":"Cyan or Aqua"},{"rgb":"7DFDFE","name":"Tron Blue"},{"rgb":"57FEFF","name":"Blue Zircon"},{"rgb":"8EEBEC","name":"Blue Lagoon"},{"rgb":"50EBEC","name":"Celeste"},{"rgb":"4EE2EC","name":"Blue Diamond"},{"rgb":"81D8D0","name":"Tiffany Blue"},{"rgb":"92C7C7","name":"Cyan Opaque"},{"rgb":"77BFC7","name":"Blue Hosta"},{"rgb":"78C7C7","name":"Northern Lights Blue"},{"rgb":"48CCCD","name":"Medium Turquoise"},{"rgb":"43C6DB","name":"Turquoise"},{"rgb":"46C7C7","name":"Jellyfish"},{"rgb":"7BCCB5","name":"Blue green"},{"rgb":"43BFC7","name":"Macaw Blue Green"},{"rgb":"3EA99F","name":"Light Sea Green"},{"rgb":"3B9C9C","name":"Dark Turquoise"},{"rgb":"438D80","name":"Sea Turtle Green"},{"rgb":"348781","name":"Medium Aquamarine"},{"rgb":"307D7E","name":"Greenish Blue"},{"rgb":"5E7D7E","name":"Grayish Turquoise"},{"rgb":"4C787E","name":"Beetle Green"},{"rgb":"008080","name":"Teal"},{"rgb":"4E8975","name":"Sea Green"},{"rgb":"78866B","name":"Camouflage Green"},{"rgb":"848b79","name":"Sage Green"},{"rgb":"617C58","name":"Hazel Green"},{"rgb":"728C00","name":"Venom Green"},{"rgb":"667C26","name":"Fern Green"},{"rgb":"254117","name":"Dark Forest Green"},{"rgb":"306754","name":"Medium Sea Green"},{"rgb":"347235","name":"Medium Forest Green"},{"rgb":"437C17","name":"Seaweed Green"},{"rgb":"387C44","name":"Pine Green"},{"rgb":"347C2C","name":"Jungle Green"},{"rgb":"347C17","name":"Shamrock Green"},{"rgb":"348017","name":"Medium Spring Green"},{"rgb":"4E9258","name":"Forest Green"},{"rgb":"6AA121","name":"Green Onion"},{"rgb":"4AA02C","name":"Spring Green"},{"rgb":"41A317","name":"Lime Green"},{"rgb":"3EA055","name":"Clover Green"},{"rgb":"6CBB3C","name":"Green Snake"},{"rgb":"6CC417","name":"Alien Green"},{"rgb":"4CC417","name":"Green Apple"},{"rgb":"52D017","name":"Yellow Green"},{"rgb":"4CC552","name":"Kelly Green"},{"rgb":"54C571","name":"Zombie Green"},{"rgb":"99C68E","name":"Frog Green"},{"rgb":"89C35C","name":"Green Peas"},{"rgb":"85BB65","name":"Dollar Bill Green"},{"rgb":"8BB381","name":"Dark Sea Green"},{"rgb":"9CB071","name":"Iguana Green"},{"rgb":"B2C248","name":"Avocado Green"},{"rgb":"9DC209","name":"Pistachio Green"},{"rgb":"A1C935","name":"Salad Green"},{"rgb":"7FE817","name":"Hummingbird Green"},{"rgb":"59E817","name":"Nebula Green"},{"rgb":"57E964","name":"Stoplight Go Green"},{"rgb":"64E986","name":"Algae Green"},{"rgb":"5EFB6E","name":"Jade Green"},{"rgb":"00FF00","name":"Green"},{"rgb":"5FFB17","name":"Emerald Green"},{"rgb":"87F717","name":"Lawn Green"},{"rgb":"8AFB17","name":"Chartreuse"},{"rgb":"6AFB92","name":"Dragon Green"},{"rgb":"98FF98","name":"Mint Green"},{"rgb":"B5EAAA","name":"Green Thumb"},{"rgb":"C3FDB8","name":"Light Jade"},{"rgb":"CCFB5D","name":"Tea Green"},{"rgb":"B1FB17","name":"Green Yellow"},{"rgb":"BCE954","name":"Slime Green"},{"rgb":"EDDA74","name":"Goldenrod"},{"rgb":"EDE275","name":"Harvest Gold"},{"rgb":"FFE87C","name":"Sun Yellow"},{"rgb":"FFFF00","name":"Yellow"},{"rgb":"FFF380","name":"Corn Yellow"},{"rgb":"FFFFC2","name":"Parchment"},{"rgb":"FFFFCC","name":"Cream"},{"rgb":"FFF8C6","name":"Lemon Chiffon"},{"rgb":"FFF8DC","name":"Cornsilk"},{"rgb":"F5F5DC","name":"Beige"},{"rgb":"FBF6D9","name":"Blonde"},{"rgb":"FAEBD7","name":"AntiqueWhite"},{"rgb":"F7E7CE","name":"Champagne"},{"rgb":"FFEBCD","name":"BlanchedAlmond"},{"rgb":"F3E5AB","name":"Vanilla"},{"rgb":"ECE5B6","name":"Tan Brown"},{"rgb":"FFE5B4","name":"Peach"},{"rgb":"FFDB58","name":"Mustard"},{"rgb":"FFD801","name":"Rubber Ducky Yellow"},{"rgb":"FDD017","name":"Bright Gold"},{"rgb":"EAC117","name":"Golden brown"},{"rgb":"F2BB66","name":"Macaroni and Cheese"},{"rgb":"FBB917","name":"Saffron"},{"rgb":"FBB117","name":"Beer"},{"rgb":"FFA62F","name":"Cantaloupe"},{"rgb":"E9AB17","name":"Bee Yellow"},{"rgb":"E2A76F","name":"Brown Sugar"},{"rgb":"DEB887","name":"BurlyWood"},{"rgb":"FFCBA4","name":"Deep Peach"},{"rgb":"C9BE62","name":"Ginger Brown"},{"rgb":"E8A317","name":"School Bus Yellow"},{"rgb":"EE9A4D","name":"Sandy Brown"},{"rgb":"C8B560","name":"Fall Leaf Brown"},{"rgb":"D4A017","name":"Orange Gold"},{"rgb":"C2B280","name":"Sand"},{"rgb":"C7A317","name":"Cookie Brown"},{"rgb":"C68E17","name":"Caramel"},{"rgb":"B5A642","name":"Brass"},{"rgb":"ADA96E","name":"Khaki"},{"rgb":"C19A6B","name":"Camel brown"},{"rgb":"CD7F32","name":"Bronze"},{"rgb":"C88141","name":"Tiger Orange"},{"rgb":"C58917","name":"Cinnamon"},{"rgb":"AF9B60","name":"Bullet Shell"},{"rgb":"AF7817","name":"Dark Goldenrod"},{"rgb":"B87333","name":"Copper"},{"rgb":"966F33","name":"Wood"},{"rgb":"806517","name":"Oak Brown"},{"rgb":"827839","name":"Moccasin"},{"rgb":"827B60","name":"Army Brown"},{"rgb":"786D5F","name":"Sandstone"},{"rgb":"493D26","name":"Mocha"},{"rgb":"483C32","name":"Taupe"},{"rgb":"6F4E37","name":"Coffee"},{"rgb":"835C3B","name":"Brown Bear"},{"rgb":"7F5217","name":"Red Dirt"},{"rgb":"7F462C","name":"Sepia"},{"rgb":"C47451","name":"Orange Salmon"},{"rgb":"C36241","name":"Rust"},{"rgb":"C35817","name":"Red Fox"},{"rgb":"C85A17","name":"Chocolate"},{"rgb":"CC6600","name":"Sedona"},{"rgb":"E56717","name":"Papaya Orange"},{"rgb":"E66C2C","name":"Halloween Orange"},{"rgb":"F87217","name":"Pumpkin Orange"},{"rgb":"F87431","name":"Construction Cone Orange"},{"rgb":"E67451","name":"Sunrise Orange"},{"rgb":"FF8040","name":"Mango Orange"},{"rgb":"F88017","name":"Dark Orange"},{"rgb":"FF7F50","name":"Coral"},{"rgb":"F88158","name":"Basket Ball Orange"},{"rgb":"F9966B","name":"Light Salmon"},{"rgb":"E78A61","name":"Tangerine"},{"rgb":"E18B6B","name":"Dark Salmon"},{"rgb":"E77471","name":"Light Coral"},{"rgb":"F75D59","name":"Bean Red"},{"rgb":"E55451","name":"Valentine Red"},{"rgb":"E55B3C","name":"Shocking Orange"},{"rgb":"FF0000","name":"Red"},{"rgb":"FF2400","name":"Scarlet"},{"rgb":"F62217","name":"Ruby Red"},{"rgb":"F70D1A","name":"Ferrari Red"},{"rgb":"F62817","name":"Fire Engine Red"},{"rgb":"E42217","name":"Lava Red"},{"rgb":"E41B17","name":"Love Red"},{"rgb":"DC381F","name":"Grapefruit"},{"rgb":"C34A2C","name":"Chestnut Red"},{"rgb":"C24641","name":"Cherry Red"},{"rgb":"C04000","name":"Mahogany"},{"rgb":"C11B17","name":"Chilli Pepper"},{"rgb":"9F000F","name":"Cranberry"},{"rgb":"990012","name":"Red Wine"},{"rgb":"8C001A","name":"Burgundy"},{"rgb":"954535","name":"Chestnut"},{"rgb":"7E3517","name":"Blood Red"},{"rgb":"8A4117","name":"Sienna"},{"rgb":"7E3817","name":"Sangria"},{"rgb":"800517","name":"Firebrick"},{"rgb":"810541","name":"Maroon"},{"rgb":"7D0541","name":"Plum Pie"},{"rgb":"7E354D","name":"Velvet Maroon"},{"rgb":"7D0552","name":"Plum Velvet"},{"rgb":"7F4E52","name":"Rosy Finch"},{"rgb":"7F5A58","name":"Puce"},{"rgb":"7F525D","name":"Dull Purple"},{"rgb":"B38481","name":"Rosy Brown"},{"rgb":"C5908E","name":"Khaki Rose"},{"rgb":"C48189","name":"Pink Bow"},{"rgb":"C48793","name":"Lipstick Pink"},{"rgb":"E8ADAA","name":"Rose"},{"rgb":"ECC5C0","name":"Rose Gold"},{"rgb":"EDC9AF","name":"Desert Sand"},{"rgb":"FDD7E4","name":"Pig Pink"},{"rgb":"FCDFFF","name":"Cotton Candy"},{"rgb":"FFDFDD","name":"Pink Bubblegum"},{"rgb":"FBBBB9","name":"Misty Rose"},{"rgb":"FAAFBE","name":"Pink"},{"rgb":"FAAFBA","name":"Light Pink"},{"rgb":"F9A7B0","name":"Flamingo Pink"},{"rgb":"E7A1B0","name":"Pink Rose"},{"rgb":"E799A3","name":"Pink Daisy"},{"rgb":"E38AAE","name":"Cadillac Pink"},{"rgb":"F778A1","name":"Carnation Pink"},{"rgb":"E56E94","name":"Blush Red"},{"rgb":"F660AB","name":"Hot Pink"},{"rgb":"FC6C85","name":"Watermelon Pink"},{"rgb":"F6358A","name":"Violet Red"},{"rgb":"F52887","name":"Deep Pink"},{"rgb":"E45E9D","name":"Pink Cupcake"},{"rgb":"E4287C","name":"Pink Lemonade"},{"rgb":"F535AA","name":"Neon Pink"},{"rgb":"FF00FF","name":"Magenta"},{"rgb":"E3319D","name":"Dimorphotheca Magenta"},{"rgb":"F433FF","name":"Bright Neon Pink"},{"rgb":"D16587","name":"Pale Violet Red"},{"rgb":"C25A7C","name":"Tulip Pink"},{"rgb":"CA226B","name":"Medium Violet Red"},{"rgb":"C12869","name":"Rogue Pink"},{"rgb":"C12267","name":"Burnt Pink"},{"rgb":"C25283","name":"Bashful Pink"},{"rgb":"C12283","name":"Dark Carnation Pink"},{"rgb":"B93B8F","name":"Plum"},{"rgb":"7E587E","name":"Viola Purple"},{"rgb":"571B7E","name":"Purple Iris"},{"rgb":"583759","name":"Plum Purple"},{"rgb":"4B0082","name":"Indigo"},{"rgb":"461B7E","name":"Purple Monster"},{"rgb":"4E387E","name":"Purple Haze"},{"rgb":"614051","name":"Eggplant"},{"rgb":"5E5A80","name":"Grape"},{"rgb":"6A287E","name":"Purple Jam"},{"rgb":"7D1B7E","name":"Dark Orchid"},{"rgb":"A74AC7","name":"Purple Flower"},{"rgb":"B048B5","name":"Medium Orchid"},{"rgb":"6C2DC7","name":"Purple Amethyst"},{"rgb":"842DCE","name":"Dark Violet"},{"rgb":"8D38C9","name":"Violet"},{"rgb":"7A5DC7","name":"Purple Sage Bush"},{"rgb":"7F38EC","name":"Lovely Purple"},{"rgb":"8E35EF","name":"Purple"},{"rgb":"893BFF","name":"Aztech Purple"},{"rgb":"8467D7","name":"Medium Purple"},{"rgb":"A23BEC","name":"Jasmine Purple"},{"rgb":"B041FF","name":"Purple Daffodil"},{"rgb":"C45AEC","name":"Tyrian Purple"},{"rgb":"9172EC","name":"Crocus Purple"},{"rgb":"9E7BFF","name":"Purple Mimosa"},{"rgb":"D462FF","name":"Heliotrope Purple"},{"rgb":"E238EC","name":"Crimson"},{"rgb":"C38EC7","name":"Purple Dragon"},{"rgb":"C8A2C8","name":"Lilac"},{"rgb":"E6A9EC","name":"Blush Pink"},{"rgb":"E0B0FF","name":"Mauve"},{"rgb":"C6AEC7","name":"Wisteria Purple"},{"rgb":"F9B7FF","name":"Blossom Pink"},{"rgb":"D2B9D3","name":"Thistle"},{"rgb":"E9CFEC","name":"Periwinkle"},{"rgb":"EBDDE2","name":"Lavender Pinocchio"},{"rgb":"E3E4FA","name":"Lavender blue"},{"rgb":"FDEEF4","name":"Pearl"},{"rgb":"FFF5EE","name":"SeaShell"},{"rgb":"FEFCFF","name":"Milk White"},{"rgb":"FFFFFF","name":"White"}];$(document).ready(function(){jQuery.fn.extend({insertAtCaret:function(myValue){return this.each(function(i){if(document.selection){this.focus();var
sel=document.selection.createRange();sel.text=myValue;this.focus();}else
if(this.selectionStart||this.selectionStart=='0'){var
startPos=this.selectionStart;var
endPos=this.selectionEnd;var
scrollTop=this.scrollTop;this.value=this.value.substring(0,startPos)+myValue+this.value.substring(endPos,this.value.length);this.focus();this.selectionStart=startPos+myValue.length;this.selectionEnd=startPos+myValue.length;this.scrollTop=scrollTop;}else{this.value+=myValue;this.focus();}});}});});function
e10SumTableExpandedCellClick(element,event){var
icon=element.find('>i');var
tableCell=element.parent();var
tableRow=tableCell.parent();var
sumTableContainer=searchObjectAttr(tableRow,'data-object-class-id');if(element.hasClass('expandable')){element.removeClass('expandable').removeClass('expanded');icon.removeClass('fa-plus-square-o').addClass('fa-minus-square-o');var
requestParams={};requestParams['expanded-id']=tableRow.attr('data-exp-this-id');requestParams['object-class-id']=sumTableContainer.attr('data-object-class-id');requestParams['query-params']={};requestParams['level']=element.attr('data-next-level');elementPrefixedAttributes(sumTableContainer,'data-query-',requestParams['query-params']);elementPrefixedAttributes(tableCell,'data-query-',requestParams['query-params']);elementPrefixedAttributes(element,'data-query-',requestParams['query-params']);e10.server.api(requestParams,function(data){$(data['rowsHtmlCode']).insertAfter(tableRow);});}else{element.addClass('expandable').removeClass('expanded');icon.removeClass('fa-minus-square-o').addClass('fa-plus-square-o');var
selector=">tr[data-exp-parent-id^='"+tableRow.attr('data-exp-this-id')+"']";tableRow.parent().find(selector).each(function(){$(this).detach();});}}function
e10SumTableSelectRow(element,event){if(element.hasClass('active')){return;}element.parent().find('>tr.active').removeClass('active');element.addClass('active');var
input=element.parent().parent().parent().find('>input:first');input.val(element.attr('data-selectable-row-id'));}function
loadScriptSync(src,callback,args){var
s,r,t;r=false;s=document.createElement('script');s.type='text/javascript';s.src=src;if(typeof(callback)==='function'){s.onload=s.onreadystatechange=function(){if(!r&&(!this.readyState||this.readyState==='complete')){r=true;callback(args);}};};document.body.appendChild(s);}function
googleMapsLoadScripts(callbackFunc){if(googleMapsApi===0){loadScriptSync('https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js',googleMapsLoadScripts,callbackFunc);googleMapsApi++;return;}if(googleMapsApi===1){loadScriptSync('https://cdnjs.cloudflare.com/ajax/libs/OverlappingMarkerSpiderfier/1.0.3/oms.min.js',googleMapsLoadScripts,callbackFunc);googleMapsApi++;return;}if(googleMapsApi===2){loadScriptSync('https://maps.googleapis.com/maps/api/js?key=AIzaSyD3vQ9ZMqd9YrNiRUEuQTA1qGsupBgNT8M',googleMapsLoadScripts,callbackFunc);googleMapsApi++;return;}if(googleMapsApi===3){loadScriptSync(httpApiRootPath+'/e10-modules/e10/server/js/e10gmaps.js?v=2',googleMapsLoadScripts,callbackFunc);googleMapsApi++;return;}callbackFunc();}function
googleMapsInitialize(mapElementId){var
mapOptions={mapTypeId:google.maps.MapTypeId.ROADMAP};var
me=$('#'+mapElementId);me.width(me.parent().width());var
map=new
google.maps.Map(me[0],mapOptions);google.maps.event.addListener(map,'tilesloaded',function(){$('#'+mapElementId+'-loading').detach();});var
infoWindow=new
google.maps.InfoWindow();var
oms=new
OverlappingMarkerSpiderfier(map,{markersWontMove:true,markersWontHide:true});oms.addListener('click',function(marker){infoWindow.setContent(marker.title);infoWindow.open(map,marker);});var
mapDefId=me.attr('data-map-def-id');var
url=httpApiRootPath+'/api/call/e10pro.wkf.getMap/'+mapDefId;$.getJSON(url,function(data){setGMapsUsers(map,data.mapPins,oms);}).error(function(){alert('error: content not loaded ('+url+')');});}function
initGMap(mapElementId){if(googleMapsApi){setTimeout(function(){googleMapsInitialize(mapElementId);},10);}else{googleMapsLoadScripts(function(){googleMapsInitialize(mapElementId);});}}/*! jQuery UI - v1.11.4 - 2015-07-12
 * http://jqueryui.com
 * Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js, datepicker.js
 * Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */

(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,s){var a,n,r,o=t.nodeName.toLowerCase();return"area"===o?(a=t.parentNode,n=a.name,t.href&&n&&"map"===a.nodeName.toLowerCase()?(r=e("img[usemap='#"+n+"']")[0],!!r&&i(r)):!1):(/^(input|select|textarea|button|object)$/.test(o)?!t.disabled:"a"===o?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function s(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function a(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",r)}function r(){e.datepicker._isDisabledDatepicker(d.inline?d.dpDiv.parent()[0]:d.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function o(t,i){e.extend(t,i);for(var s in i)null==i[s]&&(t[s]=i[s]);return t}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),s="absolute"===i,a=t?/(auto|scroll|hidden)/:/(auto|scroll)/,n=this.parents().filter(function(){var t=e(this);return s&&"static"===t.css("position")?!1:a.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&n.length?n:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),a=isNaN(s);return(a||s>=0)&&t(i,!a)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,n){return e.each(a,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),n&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var a="Width"===i?["Left","Right"]:["Top","Bottom"],n=i.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?r["inner"+i].call(this):this.each(function(){e(this).css(n,s(this,t)+"px")})},e.fn["outer"+i]=function(t,a){return"number"!=typeof t?r["outer"+i].call(this,t):this.each(function(){e(this).css(n,s(this,t,!0,a)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,a=e(this[0]);a.length&&a[0]!==document;){if(i=a.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(a.css("zIndex"),10),!isNaN(s)&&0!==s))return s;a=a.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var a,n=e.ui[t].prototype;for(a in s)n.plugins[a]=n.plugins[a]||[],n.plugins[a].push([i,s[a]])},call:function(e,t,i,s){var a,n=e.plugins[t];if(n&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(a=0;n.length>a;a++)e.options[n[a][0]]&&n[a][1].apply(e.element,i)}};var h=0,l=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,a,n;for(n=0;null!=(a=i[n]);n++)try{s=e._data(a,"events"),s&&s.remove&&e(a).triggerHandler("remove")}catch(r){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var a,n,r,o,h={},l=t.split(".")[0];return t=t.split(".")[1],a=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][a.toLowerCase()]=function(t){return!!e.data(t,a)},e[l]=e[l]||{},n=e[l][t],r=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new r(e,t)},e.extend(r,n,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),o=new i,o.options=e.widget.extend({},o.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},a=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,n=this._superApply;return this._super=e,this._superApply=a,t=s.apply(this,arguments),this._super=i,this._superApply=n,t}}(),void 0):(h[t]=s,void 0)}),r.prototype=e.widget.extend(o,{widgetEventPrefix:n?o.widgetEventPrefix||t:t},h,{constructor:r,namespace:l,widgetName:t,widgetFullName:a}),n?(e.each(n._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,r,i._proto)}),delete n._childConstructors):i._childConstructors.push(r),e.widget.bridge(t,r),r},e.widget.extend=function(t){for(var i,s,a=l.call(arguments,1),n=0,r=a.length;r>n;n++)for(i in a[n])s=a[n][i],a[n].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(a){var n="string"==typeof a,r=l.call(arguments,1),o=this;return n?this.each(function(){var i,n=e.data(this,s);return"instance"===a?(o=n,!1):n?e.isFunction(n[a])&&"_"!==a.charAt(0)?(i=n[a].apply(n,r),i!==n&&void 0!==i?(o=i&&i.jquery?o.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+a+"'")}):(r.length&&(a=e.widget.extend.apply(null,[a].concat(r))),this.each(function(){var t=e.data(this,s);t?(t.option(a||{}),t._init&&t._init()):e.data(this,s,new i(a,this))})),o}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=h++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,a,n,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},s=t.split("."),t=s.shift(),s.length){for(a=r[t]=e.widget.extend({},this.options[t]),n=0;s.length-1>n;n++)a[s[n]]=a[s[n]]||{},a=a[s[n]];if(t=s.pop(),1===arguments.length)return void 0===a[t]?null:a[t];a[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=i}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var a,n=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=a=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,a=this.widget()),e.each(s,function(s,r){function o(){return t||n.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof r?n[r]:r).apply(n,arguments):void 0}"string"!=typeof r&&(o.guid=r.guid=r.guid||o.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+n.eventNamespace,u=h[2];u?a.delegate(u,l,o):i.bind(l,o)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var a,n,r=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],n=i.originalEvent)for(a in n)a in i||(i[a]=n[a]);return this.element.trigger(i,s),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,a,n){"string"==typeof a&&(a={effect:a});var r,o=a?a===!0||"number"==typeof a?i:a.effect||i:t;a=a||{},"number"==typeof a&&(a={duration:a}),r=!e.isEmptyObject(a),a.complete=n,a.delay&&s.delay(a.delay),r&&e.effects&&e.effects.effect[o]?s[t](a):o!==t&&s[o]?s[o](a.duration,a.easing,n):s.queue(function(i){e(this)[t](),n&&n.call(s[0]),i()})}}),e.widget;var u=!1;e(document).mouseup(function(){u=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!u){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,a="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!a&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),u=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),u=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var a,n,r=Math.max,o=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,p=/%$/,m=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==a)return a;var t,i,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=s.children()[0];return e("body").append(s),t=n.offsetWidth,s.css("overflow","scroll"),i=n.offsetWidth,t===i&&(i=s[0].clientWidth),s.remove(),a=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),s=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),a="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,n="scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight;return{width:n?e.position.scrollbarWidth():0,height:a?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]),a=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:a,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||a?i.width():i.outerWidth(),height:s||a?i.height():i.outerHeight()}}},e.fn.position=function(a){if(!a||!a.of)return m.apply(this,arguments);a=e.extend({},a);var p,f,g,v,y,b,_=e(a.of),x=e.position.getWithinInfo(a.within),w=e.position.getScrollInfo(x),k=(a.collision||"flip").split(" "),T={};return b=s(_),_[0].preventDefault&&(a.at="left top"),f=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(a[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),T[this]=[e?e[0]:0,t?t[0]:0],a[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===a.at[0]?y.left+=f:"center"===a.at[0]&&(y.left+=f/2),"bottom"===a.at[1]?y.top+=g:"center"===a.at[1]&&(y.top+=g/2),p=t(T.at,f,g),y.left+=p[0],y.top+=p[1],this.each(function(){var s,l,u=e(this),d=u.outerWidth(),c=u.outerHeight(),m=i(this,"marginLeft"),b=i(this,"marginTop"),D=d+m+i(this,"marginRight")+w.width,S=c+b+i(this,"marginBottom")+w.height,N=e.extend({},y),M=t(T.my,u.outerWidth(),u.outerHeight());"right"===a.my[0]?N.left-=d:"center"===a.my[0]&&(N.left-=d/2),"bottom"===a.my[1]?N.top-=c:"center"===a.my[1]&&(N.top-=c/2),N.left+=M[0],N.top+=M[1],n||(N.left=h(N.left),N.top=h(N.top)),s={marginLeft:m,marginTop:b},e.each(["left","top"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](N,{targetWidth:f,targetHeight:g,elemWidth:d,elemHeight:c,collisionPosition:s,collisionWidth:D,collisionHeight:S,offset:[p[0]+M[0],p[1]+M[1]],my:a.my,at:a.at,within:x,elem:u})}),a.using&&(l=function(e){var t=v.left-N.left,i=t+f-d,s=v.top-N.top,n=s+g-c,h={target:{element:_,left:v.left,top:v.top,width:f,height:g},element:{element:u,left:N.left,top:N.top,width:d,height:c},horizontal:0>i?"left":t>0?"right":"center",vertical:0>n?"top":s>0?"bottom":"middle"};d>f&&f>o(t+i)&&(h.horizontal="center"),c>g&&g>o(s+n)&&(h.vertical="middle"),h.important=r(o(t),o(i))>r(o(s),o(n))?"horizontal":"vertical",a.using.call(this,e,h)}),u.offset(e.extend(N,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,a=s.isWindow?s.scrollLeft:s.offset.left,n=s.width,o=e.left-t.collisionPosition.marginLeft,h=a-o,l=o+t.collisionWidth-n-a;t.collisionWidth>n?h>0&&0>=l?(i=e.left+h+t.collisionWidth-n-a,e.left+=h-i):e.left=l>0&&0>=h?a:h>l?a+n-t.collisionWidth:a:h>0?e.left+=h:l>0?e.left-=l:e.left=r(e.left-o,e.left)},top:function(e,t){var i,s=t.within,a=s.isWindow?s.scrollTop:s.offset.top,n=t.within.height,o=e.top-t.collisionPosition.marginTop,h=a-o,l=o+t.collisionHeight-n-a;t.collisionHeight>n?h>0&&0>=l?(i=e.top+h+t.collisionHeight-n-a,e.top+=h-i):e.top=l>0&&0>=h?a:h>l?a+n-t.collisionHeight:a:h>0?e.top+=h:l>0?e.top-=l:e.top=r(e.top-o,e.top)}},flip:{left:function(e,t){var i,s,a=t.within,n=a.offset.left+a.scrollLeft,r=a.width,h=a.isWindow?a.scrollLeft:a.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-h,d=l+t.collisionWidth-r-h,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,m=-2*t.offset[0];0>u?(i=e.left+c+p+m+t.collisionWidth-r-n,(0>i||o(u)>i)&&(e.left+=c+p+m)):d>0&&(s=e.left-t.collisionPosition.marginLeft+c+p+m-h,(s>0||d>o(s))&&(e.left+=c+p+m))},top:function(e,t){var i,s,a=t.within,n=a.offset.top+a.scrollTop,r=a.height,h=a.isWindow?a.scrollTop:a.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-h,d=l+t.collisionHeight-r-h,c="top"===t.my[1],p=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,m="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];0>u?(s=e.top+p+m+f+t.collisionHeight-r-n,(0>s||o(u)>s)&&(e.top+=p+m+f)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+m+f-h,(i>0||d>o(i))&&(e.top+=p+m+f))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,a,r,o=document.getElementsByTagName("body")[0],h=document.createElement("div");t=document.createElement(o?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(r in s)t.style[r]=s[r];t.appendChild(h),i=o||document.documentElement,i.insertBefore(t,i.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",a=e(h).offset().left,n=a>10&&11>a,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(s){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper),a=s?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return a.parents("body").length||a.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&a[0]===this.element[0]&&this._setPositionRelative(),a[0]===this.element[0]||/(fixed|absolute)/.test(a.css("position"))||a.css("position","absolute"),a},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,a=this.options,n=this.document[0];return this.relativeContainer=null,a.containment?"window"===a.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===a.containment?(this.containment=[0,0,e(n).width()-this.helperProportions.width-this.margins.left,(e(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):a.containment.constructor===Array?(this.containment=a.containment,void 0):("parent"===a.containment&&(a.containment=this.helper[0].parentNode),i=e(a.containment),s=i[0],s&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,s,a,n,r=this.options,o=this._isRootNode(this.scrollParent[0]),h=e.pageX,l=e.pageY;return o&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),r.grid&&(a=r.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,l=i?a-this.offset.click.top>=i[1]||a-this.offset.click.top>i[3]?a:a-this.offset.click.top>=i[1]?a-r.grid[1]:a+r.grid[1]:a,n=r.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,h=i?n-this.offset.click.left>=i[0]||n-this.offset.click.left>i[2]?n:n-this.offset.click.left>=i[0]?n-r.grid[0]:n+r.grid[0]:n),"y"===r.axis&&(h=this.originalPageX),"x"===r.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:o?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:o?0:this.offset.scroll.left)}
},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,s){var a=e.extend({},i,{item:s.element});s.sortables=[],e(s.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,a))})},stop:function(t,i,s){var a=e.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,e.each(s.sortables,function(){var e=this;e.isOver?(e.isOver=0,s.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,a))})},drag:function(t,i,s){e.each(s.sortables,function(){var a=!1,n=this;n.positionAbs=s.positionAbs,n.helperProportions=s.helperProportions,n.offset.click=s.offset.click,n._intersectsWith(n.containerCache)&&(a=!0,e.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==n&&this._intersectsWith(this.containerCache)&&e.contains(n.element[0],this.element[0])&&(a=!1),a})),a?(n.isOver||(n.isOver=1,s._parent=i.helper.parent(),n.currentItem=i.helper.appendTo(n.element).data("ui-sortable-item",!0),n.options._helper=n.options.helper,n.options.helper=function(){return i.helper[0]},t.target=n.currentItem[0],n._mouseCapture(t,!0),n._mouseStart(t,!0,!0),n.offset.click.top=s.offset.click.top,n.offset.click.left=s.offset.click.left,n.offset.parent.left-=s.offset.parent.left-n.offset.parent.left,n.offset.parent.top-=s.offset.parent.top-n.offset.parent.top,s._trigger("toSortable",t),s.dropped=n.element,e.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,n.fromOutside=s),n.currentItem&&(n._mouseDrag(t),i.position=n.position)):n.isOver&&(n.isOver=0,n.cancelHelperRemoval=!0,n.options._revert=n.options.revert,n.options.revert=!1,n._trigger("out",t,n._uiHash(n)),n._mouseStop(t,!0),n.options.revert=n.options._revert,n.options.helper=n.options._helper,n.placeholder&&n.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(t),i.position=s._generatePosition(t,!0),s._trigger("fromSortable",t),s.dropped=!1,e.each(s.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,s){var a=e("body"),n=s.options;a.css("cursor")&&(n._cursor=a.css("cursor")),a.css("cursor",n.cursor)},stop:function(t,i,s){var a=s.options;a._cursor&&e("body").css("cursor",a._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,s){var a=e(i.helper),n=s.options;a.css("opacity")&&(n._opacity=a.css("opacity")),a.css("opacity",n.opacity)},stop:function(t,i,s){var a=s.options;a._opacity&&e(i.helper).css("opacity",a._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,s){var a=s.options,n=!1,r=s.scrollParentNotHidden[0],o=s.document[0];r!==o&&"HTML"!==r.tagName?(a.axis&&"x"===a.axis||(s.overflowOffset.top+r.offsetHeight-t.pageY<a.scrollSensitivity?r.scrollTop=n=r.scrollTop+a.scrollSpeed:t.pageY-s.overflowOffset.top<a.scrollSensitivity&&(r.scrollTop=n=r.scrollTop-a.scrollSpeed)),a.axis&&"y"===a.axis||(s.overflowOffset.left+r.offsetWidth-t.pageX<a.scrollSensitivity?r.scrollLeft=n=r.scrollLeft+a.scrollSpeed:t.pageX-s.overflowOffset.left<a.scrollSensitivity&&(r.scrollLeft=n=r.scrollLeft-a.scrollSpeed))):(a.axis&&"x"===a.axis||(t.pageY-e(o).scrollTop()<a.scrollSensitivity?n=e(o).scrollTop(e(o).scrollTop()-a.scrollSpeed):e(window).height()-(t.pageY-e(o).scrollTop())<a.scrollSensitivity&&(n=e(o).scrollTop(e(o).scrollTop()+a.scrollSpeed))),a.axis&&"y"===a.axis||(t.pageX-e(o).scrollLeft()<a.scrollSensitivity?n=e(o).scrollLeft(e(o).scrollLeft()-a.scrollSpeed):e(window).width()-(t.pageX-e(o).scrollLeft())<a.scrollSensitivity&&(n=e(o).scrollLeft(e(o).scrollLeft()+a.scrollSpeed)))),n!==!1&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,s){var a=s.options;s.snapElements=[],e(a.snap.constructor!==String?a.snap.items||":data(ui-draggable)":a.snap).each(function(){var t=e(this),i=t.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,s){var a,n,r,o,h,l,u,d,c,p,m=s.options,f=m.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,y=i.offset.top,b=y+s.helperProportions.height;for(c=s.snapElements.length-1;c>=0;c--)h=s.snapElements[c].left-s.margins.left,l=h+s.snapElements[c].width,u=s.snapElements[c].top-s.margins.top,d=u+s.snapElements[c].height,h-f>v||g>l+f||u-f>b||y>d+f||!e.contains(s.snapElements[c].item.ownerDocument,s.snapElements[c].item)?(s.snapElements[c].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=!1):("inner"!==m.snapMode&&(a=f>=Math.abs(u-b),n=f>=Math.abs(d-y),r=f>=Math.abs(h-v),o=f>=Math.abs(l-g),a&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),n&&(i.position.top=s._convertPositionTo("relative",{top:d,left:0}).top),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=a||n||r||o,"outer"!==m.snapMode&&(a=f>=Math.abs(u-y),n=f>=Math.abs(d-b),r=f>=Math.abs(h-g),o=f>=Math.abs(l-v),a&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),n&&(i.position.top=s._convertPositionTo("relative",{top:d-s.helperProportions.height,left:0}).top),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[c].snapping&&(a||n||r||o||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=a||n||r||o||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,s){var a,n=s.options,r=e.makeArray(e(n.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});r.length&&(a=parseInt(e(r[0]).css("zIndex"),10)||0,e(r).each(function(t){e(this).css("zIndex",a+t)}),this.css("zIndex",a+r.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,s){var a=e(i.helper),n=s.options;a.css("zIndex")&&(n._zIndex=a.css("zIndex")),a.css("zIndex",n.zIndex)},stop:function(t,i,s){var a=s.options;a._zIndex&&e(i.helper).css("zIndex",a._zIndex)}}),e.ui.draggable,e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(s)?s:function(e){return e.is(s)},this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current,a=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(a=!0,!1):void 0}),a?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(s)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,s,a){if(!i.offset)return!1;var n=(t.positionAbs||t.position.absolute).left+t.margins.left,r=(t.positionAbs||t.position.absolute).top+t.margins.top,o=n+t.helperProportions.width,h=r+t.helperProportions.height,l=i.offset.left,u=i.offset.top,d=l+i.proportions().width,c=u+i.proportions().height;switch(s){case"fit":return n>=l&&d>=o&&r>=u&&c>=h;case"intersect":return n+t.helperProportions.width/2>l&&d>o-t.helperProportions.width/2&&r+t.helperProportions.height/2>u&&c>h-t.helperProportions.height/2;case"pointer":return e(a.pageY,u,i.proportions().height)&&e(a.pageX,l,i.proportions().width);case"touch":return(r>=u&&c>=r||h>=u&&c>=h||u>r&&h>c)&&(n>=l&&d>=n||o>=l&&d>=o||l>n&&o>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var s,a,n=e.ui.ddmanager.droppables[t.options.scope]||[],r=i?i.type:null,o=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;n.length>s;s++)if(!(n[s].options.disabled||t&&!n[s].accept.call(n[s].element[0],t.currentItem||t.element))){for(a=0;o.length>a;a++)if(o[a]===n[s].element[0]){n[s].proportions().height=0;continue e}n[s].visible="none"!==n[s].element.css("display"),n[s].visible&&("mousedown"===r&&n[s]._activate.call(n[s],i),n[s].offset=n[s].element.offset(),n[s].proportions({width:n[s].element[0].offsetWidth,height:n[s].element[0].offsetHeight}))}},drop:function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,a,n,r=e.ui.intersect(t,this,this.options.tolerance,i),o=!r&&this.isover?"isout":r&&!this.isover?"isover":null;o&&(this.options.greedy&&(a=this.options.scope,n=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===a}),n.length&&(s=e(n[0]).droppable("instance"),s.greedyChild="isover"===o)),s&&"isover"===o&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[o]=!0,this["isout"===o?"isover":"isout"]=!1,this["isover"===o?"_over":"_out"].call(this,i),s&&"isout"===o&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",a=!1;return t[s]>0?!0:(t[s]=1,a=t[s]>0,t[s]=0,a)},_create:function(){var t,i,s,a,n,r=this,o=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)s=e.trim(t[i]),n="ui-resizable-"+s,a=e("<div class='ui-resizable-handle "+n+"'></div>"),a.css({zIndex:o.zIndex}),"se"===s&&a.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(a);this._renderAxis=function(t){var i,s,a,n;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=e(this.handles[i],this.element),n=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),a=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(a,n),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=a&&a[1]?a[1]:"se")}),o.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){o.disabled||(e(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){o.disabled||r.resizing||(e(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,s,a=!1;for(i in this.handles)s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(a=!0);return!this.options.disabled&&a},_mouseStart:function(t){var i,s,a,n=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),n.containment&&(i+=e(n.containment).scrollLeft()||0,s+=e(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1,a=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===a?this.axis+"-resize":a),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,s,a=this.originalMousePosition,n=this.axis,r=t.pageX-a.left||0,o=t.pageY-a.top||0,h=this._change[n];return this._updatePrevProperties(),h?(i=h.apply(this,[t,r,o]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,s,a,n,r,o,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),a=s&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,n=s?0:u.sizeDiff.width,r={width:u.helper.width()-n,height:u.helper.height()-a},o=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(e.extend(r,{top:h,left:o})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,s,a,n,r=this.options;n={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||e)&&(t=n.minHeight*this.aspectRatio,s=n.minWidth/this.aspectRatio,i=n.maxHeight*this.aspectRatio,a=n.maxWidth/this.aspectRatio,t>n.minWidth&&(n.minWidth=t),s>n.minHeight&&(n.minHeight=s),n.maxWidth>i&&(n.maxWidth=i),n.maxHeight>a&&(n.maxHeight=a)),this._vBoundaries=n},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,a=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,n=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,r=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,o=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return n&&(e.width=t.minWidth),r&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),a&&(e.height=t.maxHeight),n&&l&&(e.left=o-t.minWidth),s&&l&&(e.left=o-t.maxWidth),r&&u&&(e.top=h-t.minHeight),a&&u&&(e.top=h-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],s=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],a=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(s[t],10)||0,i[t]+=parseInt(a[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize,a=this.originalPosition;return{top:a.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),s=i.options,a=i._proportionallyResizeElements,n=a.length&&/textarea/i.test(a[0].nodeName),r=n&&i._hasScroll(a[0],"left")?0:i.sizeDiff.height,o=n?0:i.sizeDiff.width,h={width:i.size.width-o,height:i.size.height-r},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};a&&a.length&&e(a[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,s,a,n,r,o,h=e(this).resizable("instance"),l=h.options,u=h.element,d=l.containment,c=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;c&&(h.containerElement=e(c),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(c),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){i[e]=h._num(t.css("padding"+s))}),h.containerOffset=t.offset(),h.containerPosition=t.position(),h.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},s=h.containerOffset,a=h.containerSize.height,n=h.containerSize.width,r=h._hasScroll(c,"left")?c.scrollWidth:n,o=h._hasScroll(c)?c.scrollHeight:a,h.parentData={element:c,left:s.left,top:s.top,width:r,height:o}))},resize:function(t){var i,s,a,n,r=e(this).resizable("instance"),o=r.options,h=r.containerOffset,l=r.position,u=r._aspectRatio||t.shiftKey,d={top:0,left:0},c=r.containerElement,p=!0;c[0]!==document&&/static/.test(c.css("position"))&&(d=h),l.left<(r._helper?h.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-h.left:r.position.left-d.left),u&&(r.size.height=r.size.width/r.aspectRatio,p=!1),r.position.left=o.helper?h.left:0),l.top<(r._helper?h.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-h.top:r.position.top),u&&(r.size.width=r.size.height*r.aspectRatio,p=!1),r.position.top=r._helper?h.top:0),a=r.containerElement.get(0)===r.element.parent().get(0),n=/relative|absolute/.test(r.containerElement.css("position")),a&&n?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),i=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-d.left:r.offset.left-h.left)),s=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-d.top:r.offset.top-h.top)),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,u&&(r.size.height=r.size.width/r.aspectRatio,p=!1)),s+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-s,u&&(r.size.width=r.size.height*r.aspectRatio,p=!1)),p||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,s=t.containerOffset,a=t.containerPosition,n=t.containerElement,r=e(t.helper),o=r.offset(),h=r.outerWidth()-t.sizeDiff.width,l=r.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(n.css("position"))&&e(this).css({left:o.left-a.left-s.left,width:h,height:l}),t._helper&&!i.animate&&/static/.test(n.css("position"))&&e(this).css({left:o.left-a.left-s.left,width:h,height:l})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var s=e(this).resizable("instance"),a=s.options,n=s.originalSize,r=s.originalPosition,o={height:s.size.height-n.height||0,width:s.size.width-n.width||0,top:s.position.top-r.top||0,left:s.position.left-r.left||0};e(a.alsoResize).each(function(){var t=e(this),s=e(this).data("ui-resizable-alsoresize"),a={},n=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(n,function(e,t){var i=(s[t]||0)+(o[t]||0);i&&i>=0&&(a[t]=i||null)}),t.css(a)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),s=i.options,a=i.size,n=i.originalSize,r=i.originalPosition,o=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,d=Math.round((a.width-n.width)/l)*l,c=Math.round((a.height-n.height)/u)*u,p=n.width+d,m=n.height+c,f=s.maxWidth&&p>s.maxWidth,g=s.maxHeight&&m>s.maxHeight,v=s.minWidth&&s.minWidth>p,y=s.minHeight&&s.minHeight>m;s.grid=h,v&&(p+=l),y&&(m+=u),f&&(p-=l),g&&(m-=u),/^(se|s|e)$/.test(o)?(i.size.width=p,i.size.height=m):/^(ne)$/.test(o)?(i.size.width=p,i.size.height=m,i.position.top=r.top-c):/^(sw)$/.test(o)?(i.size.width=p,i.size.height=m,i.position.left=r.left-d):((0>=m-u||0>=p-l)&&(t=i._getPaddingPlusBorderDimensions(this)),m-u>0?(i.size.height=m,i.position.top=r.top-c):(m=u-t.height,i.size.height=m,i.position.top=r.top+n.height-m),p-l>0?(i.size.width=p,i.position.left=r.left-d):(p=l-t.width,i.size.width=p,i.position.left=r.left+n.width-p))}}),e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;
	this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,s=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");s.startselected=!0,t.metaKey||t.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",t,{unselecting:s.element}))}),e(t.target).parents().addBack().each(function(){var s,a=e.data(this,"selectable-item");return a?(s=!t.metaKey&&!t.ctrlKey||!a.$element.hasClass("ui-selected"),a.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),a.unselecting=!s,a.selecting=s,a.selected=s,s?i._trigger("selecting",t,{selecting:a.element}):i._trigger("unselecting",t,{unselecting:a.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,s=this,a=this.options,n=this.opos[0],r=this.opos[1],o=t.pageX,h=t.pageY;return n>o&&(i=o,o=n,n=i),r>h&&(i=h,h=r,r=i),this.helper.css({left:n,top:r,width:o-n,height:h-r}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===a.tolerance?l=!(i.left>o||n>i.right||i.top>h||r>i.bottom):"fit"===a.tolerance&&(l=i.left>n&&o>i.right&&i.top>r&&h>i.bottom),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",t,{unselected:s.element})}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",t,{selected:s.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var s=null,a=!1,n=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,n.widgetName+"-item")===n?(s=e(this),!1):void 0}),e.data(t.target,n.widgetName+"-item")===n&&(s=e(t.target)),s?!this.options.handle||i||(e(this.options.handle,s).find("*").addBack().each(function(){this===t.target&&(a=!0)}),a)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,s){var a,n,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(n=this.document.find("body"),this.storedCursor=n.css("cursor"),n.css("cursor",r.cursor),this.storedStylesheet=e("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(n)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,s,a,n,r=this.options,o=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-this.document.scrollTop()<r.scrollSensitivity?o=this.document.scrollTop(this.document.scrollTop()-r.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<r.scrollSensitivity&&(o=this.document.scrollTop(this.document.scrollTop()+r.scrollSpeed)),t.pageX-this.document.scrollLeft()<r.scrollSensitivity?o=this.document.scrollLeft(this.document.scrollLeft()-r.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<r.scrollSensitivity&&(o=this.document.scrollLeft(this.document.scrollLeft()+r.scrollSpeed))),o!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],a=s.item[0],n=this._intersectsWithPointer(s),n&&s.instance===this.currentContainer&&a!==this.currentItem[0]&&this.placeholder[1===n?"next":"prev"]()[0]!==a&&!e.contains(this.placeholder[0],a)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],a):!0)){if(this.direction=1===n?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,a=this.placeholder.offset(),n=this.options.axis,r={};n&&"x"!==n||(r.left=a.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),n&&"y"!==n||(r.top=a.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,a=s+this.helperProportions.height,n=e.left,r=n+e.width,o=e.top,h=o+e.height,l=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||s+l>o&&h>s+l,c="y"===this.options.axis||t+u>n&&r>t+u,p=d&&c;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>n&&r>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>o&&h>a-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=t&&i,a=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return s?this.floating?n&&"right"===n||"down"===a?2:1:a&&("down"===a?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"===a&&i||"left"===a&&!i:s&&("down"===s&&t||"up"===s&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){o.push(this)}var s,a,n,r,o=[],h=[],l=this._connectWith();if(l&&t)for(s=l.length-1;s>=0;s--)for(n=e(l[s],this.document[0]),a=n.length-1;a>=0;a--)r=e.data(n[a],this.widgetFullName),r&&r!==this&&!r.options.disabled&&h.push([e.isFunction(r.options.items)?r.options.items.call(r.element):e(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(h.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,s,a,n,r,o,h,l,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(i=c.length-1;i>=0;i--)for(a=e(c[i],this.document[0]),s=a.length-1;s>=0;s--)n=e.data(a[s],this.widgetFullName),n&&n!==this&&!n.options.disabled&&(d.push([e.isFunction(n.options.items)?n.options.items.call(n.element[0],t,{item:this.currentItem}):e(n.options.items,n.element),n]),this.containers.push(n));for(i=d.length-1;i>=0;i--)for(r=d[i][1],o=d[i][0],s=0,l=o.length;l>s;s++)h=e(o[s]),h.data(this.widgetName+"-item",r),u.push({item:h,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,a,n;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(a=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item,t||(s.width=a.outerWidth(),s.height=a.outerHeight()),n=a.offset(),s.left=n.left,s.top=n.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)n=this.containers[i].element.offset(),this.containers[i].containerCache.left=n.left,this.containers[i].containerCache.top=n.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,s=t.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=t.currentItem[0].nodeName.toLowerCase(),a=e("<"+s+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===s?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(a)):"tr"===s?t._createTrPlaceholder(t.currentItem,a):"img"===s&&a.attr("src",t.currentItem.attr("src")),i||a.css("visibility","hidden"),a},update:function(e,a){(!i||s.forcePlaceholderSize)&&(a.height()||a.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),a.width()||a.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(s.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),s.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var s=this;t.children().each(function(){e("<td>&#160;</td>",s.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,s,a,n,r,o,h,l,u,d,c=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(c&&e.contains(this.containers[i].element[0],c.element[0]))continue;c=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(a=1e4,n=null,u=c.floating||this._isFloating(this.currentItem),r=u?"left":"top",o=u?"width":"height",d=u?"clientX":"clientY",s=this.items.length-1;s>=0;s--)e.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[r],l=!1,t[d]-h>this.items[s][o]/2&&(l=!0),a>Math.abs(t[d]-h)&&(a=Math.abs(t[d]-h),n=this.items[s],this.direction=l?"up":"down"));if(!n&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;n?this._rearrange(t,n,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,a=this.options;"parent"===a.containment&&(a.containment=this.helper[0].parentNode),("document"===a.containment||"window"===a.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===a.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===a.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(a.containment)||(t=e(a.containment)[0],i=e(a.containment).offset(),s="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"===t?1:-1,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(a[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():n?0:a.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():n?0:a.scrollLeft())*s}},_generatePosition:function(t){var i,s,a=this.options,n=t.pageX,r=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),a.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/a.grid[1])*a.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-a.grid[1]:i+a.grid[1]:i,s=this.originalPageX+Math.round((n-this.originalPageX)/a.grid[0])*a.grid[0],n=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-a.grid[0]:s+a.grid[0]:s)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:o.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:o.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var a=this.counter;this._delay(function(){a===this.counter&&this.refreshPositions(!s)})},_clear:function(e,t){function i(e,t,i){return function(s){i._trigger(e,s,t._uiHash(t))}}this.reverting=!1;var s,a=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&a.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||a.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(a.push(function(e){this._trigger("remove",e,this._uiHash())}),a.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),a.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)t||a.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(a.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(s=0;a.length>s;s++)a[s].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.extend(e.ui,{datepicker:{version:"1.11.4"}});var d;e.extend(a.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return o(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var s,a,n;s=t.nodeName.toLowerCase(),a="div"===s||"span"===s,t.id||(this.uuid+=1,t.id="dp"+this.uuid),n=this._newInst(e(t),a),n.settings=e.extend({},i||{}),"input"===s?this._connectDatepicker(t,n):a&&this._inlineDatepicker(t,n)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var s=e(t);i.append=e([]),i.trigger=e([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var s,a,n,r=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove(),r&&(i.append=e("<span class='"+this._appendClass+"'>"+r+"</span>"),t[o?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&t.focus(this._showDatepicker),("button"===s||"both"===s)&&(a=this._get(i,"buttonText"),n=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:n,alt:a,title:a}):e("<button type='button'></button>").addClass(this._triggerClass).html(n?e("<img/>").attr({src:n,alt:a,title:a}):a)),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,s,a,n=new Date(2009,11,20),r=this._get(e,"dateFormat");r.match(/[DM]/)&&(t=function(e){for(i=0,s=0,a=0;e.length>a;a++)e[a].length>i&&(i=e[a].length,s=a);return s},n.setMonth(t(this._get(e,r.match(/MM/)?"monthNames":"monthNamesShort"))),n.setDate(t(this._get(e,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-n.getDay())),e.input.attr("size",this._formatDate(e,n).length)}},_inlineDatepicker:function(t,i){var s=e(t);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,s,a,n){var r,h,l,u,d,c=this._dialogInst;return c||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},e.data(this._dialogInput[0],"datepicker",c)),o(c.settings,a||{}),i=i&&i.constructor===Date?this._formatDate(c,i):i,this._dialogInput.val(i),this._pos=n?n.length?n:[n.pageX,n.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",c),this
},_destroyDatepicker:function(t){var i,s=e(t),a=e.data(t,"datepicker");s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(a.append.remove(),a.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),d===a&&(d=null))},_enableDatepicker:function(t){var i,s,a=e(t),n=e.data(t,"datepicker");a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=a.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,s,a=e(t),n=e.data(t,"datepicker");a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=a.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,s){var a,n,r,h,l=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):l?"all"===i?e.extend({},l.settings):this._get(l,i):null:(a=i||{},"string"==typeof i&&(a={},a[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),n=this._getDateDatepicker(t,!0),r=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),o(l.settings,a),null!==r&&void 0!==a.dateFormat&&void 0===a.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==h&&void 0!==a.dateFormat&&void 0===a.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in a&&(a.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,n),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,s,a,n=e.datepicker._getInst(t.target),r=!0,o=n.dpDiv.is(".ui-datepicker-rtl");if(n._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return a=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",n.dpDiv),a[0]&&e.datepicker._selectDay(t.target,n.selectedMonth,n.selectedYear,a[0]),i=e.datepicker._get(n,"onSelect"),i?(s=e.datepicker._formatDate(n),i.apply(n.input?n.input[0]:null,[s,n])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,s,a=e.datepicker._getInst(t.target);return e.datepicker._get(a,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(a,"dateFormat")),s=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(t){var i,s=e.datepicker._getInst(t.target);if(s.input.val()!==s.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,e.datepicker._getFormatConfig(s)),i&&(e.datepicker._setDateFromField(s),e.datepicker._updateAlternate(s),e.datepicker._updateDatepicker(s))}catch(a){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,a,n,r,h,l,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),a=e.datepicker._get(i,"beforeShow"),n=a?a.apply(t,[t,i]):{},n!==!1&&(o(i.settings,n),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return r|="fixed"===e(this).css("position"),!r}),h={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),h=e.datepicker._checkOffset(i,h,r),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",s(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,d=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,s=this._getNumberOfMonths(t),a=s[1],n=17,o=t.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&r.apply(o.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),a>1&&t.dpDiv.addClass("ui-datepicker-multi-"+a).css("width",n*a+"em"),t.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,s){var a=t.dpDiv.outerWidth(),n=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?a-r:0,i.left-=s&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=s&&i.top===t.input.offset().top+o?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+a>h&&h>a?Math.abs(i.left+a-h):0),i.top-=Math.min(i.top,i.top+n>l&&l>n?Math.abs(n+o):0),i},_findPos:function(t){for(var i,s=this._getInst(t),a=this._get(s,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[a?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,s,a,n,r=this._curInst;!r||t&&r!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(r,"showAnim"),s=this._get(r,"duration"),a=function(){e.datepicker._tidyDialog(r)},e.effects&&(e.effects.effect[i]||e.effects[i])?r.dpDiv.hide(i,e.datepicker._get(r,"showOptions"),s,a):r.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,a),i||a(),this._datepickerShowing=!1,n=this._get(r,"onClose"),n&&n.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),s=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==s)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,s){var a=e(t),n=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(n,i+("M"===s?this._get(n,"showCurrentAtPos"):0),s),this._updateDatepicker(n))},_gotoToday:function(t){var i,s=e(t),a=this._getInst(s[0]);this._get(a,"gotoCurrent")&&a.currentDay?(a.selectedDay=a.currentDay,a.drawMonth=a.selectedMonth=a.currentMonth,a.drawYear=a.selectedYear=a.currentYear):(i=new Date,a.selectedDay=i.getDate(),a.drawMonth=a.selectedMonth=i.getMonth(),a.drawYear=a.selectedYear=i.getFullYear()),this._notifyChange(a),this._adjustDate(s)},_selectMonthYear:function(t,i,s){var a=e(t),n=this._getInst(a[0]);n["selected"+("M"===s?"Month":"Year")]=n["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(n),this._adjustDate(a)},_selectDay:function(t,i,s,a){var n,r=e(t);e(a).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(n=this._getInst(r[0]),n.selectedDay=n.currentDay=e("a",a).html(),n.selectedMonth=n.currentMonth=i,n.selectedYear=n.currentYear=s,this._selectDate(t,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var s,a=e(t),n=this._getInst(a[0]);i=null!=i?i:this._formatDate(n),n.input&&n.input.val(i),this._updateAlternate(n),s=this._get(n,"onSelect"),s?s.apply(n.input?n.input[0]:null,[i,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,s,a,n=this._get(t,"altField");n&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),s=this._getDate(t),a=this.formatDate(i,s,this._getFormatConfig(t)),e(n).each(function(){e(this).val(a)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,s){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var a,n,r,o,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,c=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,m=(s?s.monthNames:null)||this._defaults.monthNames,f=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var i=t.length>a+1&&t.charAt(a+1)===e;return i&&a++,i},x=function(e){var t=_(e),s="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,a="y"===e?s:1,n=RegExp("^\\d{"+a+","+s+"}"),r=i.substring(h).match(n);if(!r)throw"Missing number at position "+h;return h+=r[0].length,parseInt(r[0],10)},w=function(t,s,a){var n=-1,r=e.map(_(t)?a:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(r,function(e,t){var s=t[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(n=t[0],h+=s.length,!1):void 0}),-1!==n)return n+1;throw"Unknown name at position "+h},k=function(){if(i.charAt(h)!==t.charAt(a))throw"Unexpected literal at position "+h;h++};for(a=0;t.length>a;a++)if(b)"'"!==t.charAt(a)||_("'")?k():b=!1;else switch(t.charAt(a)){case"d":v=x("d");break;case"D":w("D",d,c);break;case"o":y=x("o");break;case"m":g=x("m");break;case"M":g=w("M",p,m);break;case"y":f=x("y");break;case"@":o=new Date(x("@")),f=o.getFullYear(),g=o.getMonth()+1,v=o.getDate();break;case"!":o=new Date((x("!")-this._ticksTo1970)/1e4),f=o.getFullYear(),g=o.getMonth()+1,v=o.getDate();break;case"'":_("'")?k():b=!0;break;default:k()}if(i.length>h&&(r=i.substr(h),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===f?f=(new Date).getFullYear():100>f&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=f?0:-100)),y>-1)for(g=1,v=y;;){if(n=this._getDaysInMonth(f,g-1),n>=v)break;g++,v-=n}if(o=this._daylightSavingAdjust(new Date(f,g-1,v)),o.getFullYear()!==f||o.getMonth()+1!==g||o.getDate()!==v)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var s,a=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,n=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,h=function(t){var i=e.length>s+1&&e.charAt(s+1)===t;return i&&s++,i},l=function(e,t,i){var s=""+t;if(h(e))for(;i>s.length;)s="0"+s;return s},u=function(e,t,i,s){return h(e)?s[t]:i[t]},d="",c=!1;if(t)for(s=0;e.length>s;s++)if(c)"'"!==e.charAt(s)||h("'")?d+=e.charAt(s):c=!1;else switch(e.charAt(s)){case"d":d+=l("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),a,n);break;case"o":d+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=l("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),r,o);break;case"y":d+=h("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":h("'")?d+="'":c=!0;break;default:d+=e.charAt(s)}return d},_possibleChars:function(e){var t,i="",s=!1,a=function(i){var s=e.length>t+1&&e.charAt(t+1)===i;return s&&t++,s};for(t=0;e.length>t;t++)if(s)"'"!==e.charAt(t)||a("'")?i+=e.charAt(t):s=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":a("'")?i+="'":s=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),s=e.lastVal=e.input?e.input.val():null,a=this._getDefaultDate(e),n=a,r=this._getFormatConfig(e);try{n=this.parseDate(i,s,r)||a}catch(o){s=t?"":s}e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),e.currentDay=s?n.getDate():0,e.currentMonth=s?n.getMonth():0,e.currentYear=s?n.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,s){var a=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},n=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(s){}for(var a=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,n=a.getFullYear(),r=a.getMonth(),o=a.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":o+=parseInt(l[1],10);break;case"w":case"W":o+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r));break;case"y":case"Y":n+=parseInt(l[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r))}l=h.exec(i)}return new Date(n,r,o)},r=null==i||""===i?s:"string"==typeof i?n(i):"number"==typeof i?isNaN(i)?s:a(i):new Date(i.getTime());return r=r&&"Invalid Date"==""+r?s:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var s=!t,a=e.selectedMonth,n=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),a===e.selectedMonth&&n===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),s="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(s,-i,"M")},next:function(){e.datepicker._adjustDate(s,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(s)},selectDay:function(){return e.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(s,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,s,a,n,r,o,h,l,u,d,c,p,m,f,g,v,y,b,_,x,w,k,T,D,S,N,M,C,A,P,I,H,F,z,E,j,L,O,W=new Date,R=this._daylightSavingAdjust(new Date(W.getFullYear(),W.getMonth(),W.getDate())),Y=this._get(e,"isRTL"),J=this._get(e,"showButtonPanel"),B=this._get(e,"hideIfNoPrevNext"),K=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),U=this._get(e,"showCurrentAtPos"),q=this._get(e,"stepMonths"),G=1!==V[0]||1!==V[1],Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),$=this._getMinMaxDate(e,"max"),Z=e.drawMonth-U,et=e.drawYear;if(0>Z&&(Z+=12,et--),$)for(t=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-V[0]*V[1]+1,$.getDate())),t=X&&X>t?X:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-q,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",a=this._get(e,"nextText"),a=K?this.formatDate(a,this._daylightSavingAdjust(new Date(et,Z+q,1)),this._getFormatConfig(e)):a,n=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+a+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+a+"</span></a>",r=this._get(e,"currentText"),o=this._get(e,"gotoCurrent")&&e.currentDay?Q:R,r=K?this.formatDate(r,o,this._getFormatConfig(e)):r,h=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",l=J?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(e,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(Y?"":h)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),c=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),m=this._get(e,"monthNames"),f=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",w=0;V[0]>w;w++){for(k="",this.maxRows=4,T=0;V[1]>T;T++){if(D=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),S=" ui-corner-all",N="",G){if(N+="<div class='ui-datepicker-group",V[1]>1)switch(T){case 0:N+=" ui-datepicker-group-first",S=" ui-corner-"+(Y?"right":"left");break;case V[1]-1:N+=" ui-datepicker-group-last",S=" ui-corner-"+(Y?"left":"right");break;default:N+=" ui-datepicker-group-middle",S=""}N+="'>"}for(N+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===w?Y?n:s:"")+(/all|right/.test(S)&&0===w?Y?s:n:"")+this._generateMonthYearHeader(e,Z,et,X,$,w>0||T>0,m,f)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",M=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)C=(x+u)%7,M+="<th scope='col'"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+c[C]+"'>"+p[C]+"</span></th>";for(N+=M+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),P=(this._getFirstDayOfMonth(et,Z)-u+7)%7,I=Math.ceil((P+A)/7),H=G?this.maxRows>I?this.maxRows:I:I,this.maxRows=H,F=this._daylightSavingAdjust(new Date(et,Z,1-P)),z=0;H>z;z++){for(N+="<tr>",E=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(F)+"</td>":"",x=0;7>x;x++)j=g?g.apply(e.input?e.input[0]:null,[F]):[!0,""],L=F.getMonth()!==Z,O=L&&!y||!j[0]||X&&X>F||$&&F>$,E+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(F.getTime()===D.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===F.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(O?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+j[1]+(F.getTime()===Q.getTime()?" "+this._currentClass:"")+(F.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(L&&!v||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(O?"":" data-handler='selectDay' data-event='click' data-month='"+F.getMonth()+"' data-year='"+F.getFullYear()+"'")+">"+(L&&!v?"&#xa0;":O?"<span class='ui-state-default'>"+F.getDate()+"</span>":"<a class='ui-state-default"+(F.getTime()===R.getTime()?" ui-state-highlight":"")+(F.getTime()===Q.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+F.getDate()+"</a>")+"</td>",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);N+=E+"</tr>"}Z++,Z>11&&(Z=0,et++),N+="</tbody></table>"+(G?"</div>"+(V[0]>0&&T===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=N}_+=k}return _+=l,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,i,s,a,n,r,o){var h,l,u,d,c,p,m,f,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(n||!g)_+="<span class='ui-datepicker-month'>"+r[t]+"</span>";else{for(h=s&&s.getFullYear()===i,l=a&&a.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||a.getMonth()>=u)&&(_+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+o[u]+"</option>");_+="</select>"}if(y||(b+=_+(!n&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",n||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),c=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?c+parseInt(e,10):parseInt(e,10);return isNaN(t)?c:t},m=p(d[0]),f=Math.max(m,p(d[1]||"")),m=s?Math.max(m,s.getFullYear()):m,f=a?Math.min(f,a.getFullYear()):f,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f>=m;m++)e.yearshtml+="<option value='"+m+"'"+(m===i?" selected='selected'":"")+">"+m+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!n&&g&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,i){var s=e.drawYear+("Y"===i?t:0),a=e.drawMonth+("M"===i?t:0),n=Math.min(e.selectedDay,this._getDaysInMonth(s,a))+("D"===i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,a,n)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),a=i&&i>t?i:t;return s&&a>s?s:a},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,s){var a=this._getNumberOfMonths(e),n=this._daylightSavingAdjust(new Date(i,s+(0>t?t:a[0]*a[1]),1));return 0>t&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(e,n)},_isInRange:function(e,t){var i,s,a=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),r=null,o=null,h=this._get(e,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),r=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=s),i[1].match(/[+\-].*/)&&(o+=s)),(!a||t.getTime()>=a.getTime())&&(!n||t.getTime()<=n.getTime())&&(!r||t.getFullYear()>=r)&&(!o||o>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,s){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var a=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(s,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),a,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new a,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker});
/*! jQuery UI - v1.11.4 - 2015-03-11
 * http://jqueryui.com
 * Includes: datepicker-af.js, datepicker-ar-DZ.js, datepicker-ar.js, datepicker-az.js, datepicker-be.js, datepicker-bg.js, datepicker-bs.js, datepicker-ca.js, datepicker-cs.js, datepicker-cy-GB.js, datepicker-da.js, datepicker-de.js, datepicker-el.js, datepicker-en-AU.js, datepicker-en-GB.js, datepicker-en-NZ.js, datepicker-eo.js, datepicker-es.js, datepicker-et.js, datepicker-eu.js, datepicker-fa.js, datepicker-fi.js, datepicker-fo.js, datepicker-fr-CA.js, datepicker-fr-CH.js, datepicker-fr.js, datepicker-gl.js, datepicker-he.js, datepicker-hi.js, datepicker-hr.js, datepicker-hu.js, datepicker-hy.js, datepicker-id.js, datepicker-is.js, datepicker-it-CH.js, datepicker-it.js, datepicker-ja.js, datepicker-ka.js, datepicker-kk.js, datepicker-km.js, datepicker-ko.js, datepicker-ky.js, datepicker-lb.js, datepicker-lt.js, datepicker-lv.js, datepicker-mk.js, datepicker-ml.js, datepicker-ms.js, datepicker-nb.js, datepicker-nl-BE.js, datepicker-nl.js, datepicker-nn.js, datepicker-no.js, datepicker-pl.js, datepicker-pt-BR.js, datepicker-pt.js, datepicker-rm.js, datepicker-ro.js, datepicker-ru.js, datepicker-sk.js, datepicker-sl.js, datepicker-sq.js, datepicker-sr-SR.js, datepicker-sr.js, datepicker-sv.js, datepicker-ta.js, datepicker-th.js, datepicker-tj.js, datepicker-tr.js, datepicker-uk.js, datepicker-vi.js, datepicker-zh-CN.js, datepicker-zh-HK.js, datepicker-zh-TW.js
 * Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */

(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){var t=e.datepicker;t.regional.af={closeText:"Selekteer",prevText:"Vorige",nextText:"Volgende",currentText:"Vandag",monthNames:["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember"],monthNamesShort:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],dayNames:["Sondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrydag","Saterdag"],dayNamesShort:["Son","Maa","Din","Woe","Don","Vry","Sat"],dayNamesMin:["So","Ma","Di","Wo","Do","Vr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.af),t.regional.af,t.regional["ar-DZ"]={closeText:"إغلاق",prevText:"&#x3C;السابق",nextText:"التالي&#x3E;",currentText:"اليوم",monthNames:["جانفي","فيفري","مارس","أفريل","ماي","جوان","جويلية","أوت","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesShort:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesMin:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],weekHeader:"أسبوع",dateFormat:"dd/mm/yy",firstDay:6,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["ar-DZ"]),t.regional["ar-DZ"],t.regional.ar={closeText:"إغلاق",prevText:"&#x3C;السابق",nextText:"التالي&#x3E;",currentText:"اليوم",monthNames:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesShort:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],dayNamesMin:["ح","ن","ث","ر","خ","ج","س"],weekHeader:"أسبوع",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ar),t.regional.ar,t.regional.az={closeText:"Bağla",prevText:"&#x3C;Geri",nextText:"İrəli&#x3E;",currentText:"Bugün",monthNames:["Yanvar","Fevral","Mart","Aprel","May","İyun","İyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],monthNamesShort:["Yan","Fev","Mar","Apr","May","İyun","İyul","Avq","Sen","Okt","Noy","Dek"],dayNames:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"],dayNamesShort:["B","Be","Ça","Ç","Ca","C","Ş"],dayNamesMin:["B","B","Ç","С","Ç","C","Ş"],weekHeader:"Hf",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.az),t.regional.az,t.regional.be={closeText:"Зачыніць",prevText:"&larr;Папяр.",nextText:"Наст.&rarr;",currentText:"Сёньня",monthNames:["Студзень","Люты","Сакавік","Красавік","Травень","Чэрвень","Ліпень","Жнівень","Верасень","Кастрычнік","Лістапад","Сьнежань"],monthNamesShort:["Сту","Лют","Сак","Кра","Тра","Чэр","Ліп","Жні","Вер","Кас","Ліс","Сьн"],dayNames:["нядзеля","панядзелак","аўторак","серада","чацьвер","пятніца","субота"],dayNamesShort:["ндз","пнд","аўт","срд","чцв","птн","сбт"],dayNamesMin:["Нд","Пн","Аў","Ср","Чц","Пт","Сб"],weekHeader:"Тд",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.be),t.regional.be,t.regional.bg={closeText:"затвори",prevText:"&#x3C;назад",nextText:"напред&#x3E;",nextBigText:"&#x3E;&#x3E;",currentText:"днес",monthNames:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],monthNamesShort:["Яну","Фев","Мар","Апр","Май","Юни","Юли","Авг","Сеп","Окт","Нов","Дек"],dayNames:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"],dayNamesShort:["Нед","Пон","Вто","Сря","Чет","Пет","Съб"],dayNamesMin:["Не","По","Вт","Ср","Че","Пе","Съ"],weekHeader:"Wk",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.bg),t.regional.bg,t.regional.bs={closeText:"Zatvori",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Danas",monthNames:["Januar","Februar","Mart","April","Maj","Juni","Juli","August","Septembar","Oktobar","Novembar","Decembar"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","Če","Pe","Su"],weekHeader:"Wk",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.bs),t.regional.bs,t.regional.ca={closeText:"Tanca",prevText:"Anterior",nextText:"Següent",currentText:"Avui",monthNames:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],monthNamesShort:["gen","feb","març","abr","maig","juny","jul","ag","set","oct","nov","des"],dayNames:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],dayNamesShort:["dg","dl","dt","dc","dj","dv","ds"],dayNamesMin:["dg","dl","dt","dc","dj","dv","ds"],weekHeader:"Set",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ca),t.regional.ca,t.regional.cs={closeText:"Zavřít",prevText:"&#x3C;Dříve",nextText:"Později&#x3E;",currentText:"Nyní",monthNames:["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"],monthNamesShort:["led","úno","bře","dub","kvě","čer","čvc","srp","zář","říj","lis","pro"],dayNames:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],dayNamesShort:["ne","po","út","st","čt","pá","so"],dayNamesMin:["ne","po","út","st","čt","pá","so"],weekHeader:"Týd",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.cs),t.regional.cs,t.regional["cy-GB"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["Ionawr","Chwefror","Mawrth","Ebrill","Mai","Mehefin","Gorffennaf","Awst","Medi","Hydref","Tachwedd","Rhagfyr"],monthNamesShort:["Ion","Chw","Maw","Ebr","Mai","Meh","Gor","Aws","Med","Hyd","Tac","Rha"],dayNames:["Dydd Sul","Dydd Llun","Dydd Mawrth","Dydd Mercher","Dydd Iau","Dydd Gwener","Dydd Sadwrn"],dayNamesShort:["Sul","Llu","Maw","Mer","Iau","Gwe","Sad"],dayNamesMin:["Su","Ll","Ma","Me","Ia","Gw","Sa"],weekHeader:"Wy",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["cy-GB"]),t.regional["cy-GB"],t.regional.da={closeText:"Luk",prevText:"&#x3C;Forrige",nextText:"Næste&#x3E;",currentText:"Idag",monthNames:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],dayNamesShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayNamesMin:["Sø","Ma","Ti","On","To","Fr","Lø"],weekHeader:"Uge",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.da),t.regional.da,t.regional.de={closeText:"Schließen",prevText:"&#x3C;Zurück",nextText:"Vor&#x3E;",currentText:"Heute",monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekHeader:"KW",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.de),t.regional.de,t.regional.el={closeText:"Κλείσιμο",prevText:"Προηγούμενος",nextText:"Επόμενος",currentText:"Σήμερα",monthNames:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],monthNamesShort:["Ιαν","Φεβ","Μαρ","Απρ","Μαι","Ιουν","Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"],dayNames:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"],dayNamesShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayNamesMin:["Κυ","Δε","Τρ","Τε","Πε","Πα","Σα"],weekHeader:"Εβδ",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.el),t.regional.el,t.regional["en-AU"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["en-AU"]),t.regional["en-AU"],t.regional["en-GB"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["en-GB"]),t.regional["en-GB"],t.regional["en-NZ"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["en-NZ"]),t.regional["en-NZ"],t.regional.eo={closeText:"Fermi",prevText:"&#x3C;Anta",nextText:"Sekv&#x3E;",currentText:"Nuna",monthNames:["Januaro","Februaro","Marto","Aprilo","Majo","Junio","Julio","Aŭgusto","Septembro","Oktobro","Novembro","Decembro"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aŭg","Sep","Okt","Nov","Dec"],dayNames:["Dimanĉo","Lundo","Mardo","Merkredo","Ĵaŭdo","Vendredo","Sabato"],dayNamesShort:["Dim","Lun","Mar","Mer","Ĵaŭ","Ven","Sab"],dayNamesMin:["Di","Lu","Ma","Me","Ĵa","Ve","Sa"],weekHeader:"Sb",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.eo),t.regional.eo,t.regional.es={closeText:"Cerrar",prevText:"&#x3C;Ant",nextText:"Sig&#x3E;",currentText:"Hoy",monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["dom","lun","mar","mié","jue","vie","sáb"],dayNamesMin:["D","L","M","X","J","V","S"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.es),t.regional.es,t.regional.et={closeText:"Sulge",prevText:"Eelnev",nextText:"Järgnev",currentText:"Täna",monthNames:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],monthNamesShort:["Jaan","Veebr","Märts","Apr","Mai","Juuni","Juuli","Aug","Sept","Okt","Nov","Dets"],dayNames:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev"],dayNamesShort:["Pühap","Esmasp","Teisip","Kolmap","Neljap","Reede","Laup"],dayNamesMin:["P","E","T","K","N","R","L"],weekHeader:"näd",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.et),t.regional.et,t.regional.eu={closeText:"Egina",prevText:"&#x3C;Aur",nextText:"Hur&#x3E;",currentText:"Gaur",monthNames:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua"],monthNamesShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe."],dayNames:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],dayNamesShort:["ig.","al.","ar.","az.","og.","ol.","lr."],dayNamesMin:["ig","al","ar","az","og","ol","lr"],weekHeader:"As",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.eu),t.regional.eu,t.regional.fa={closeText:"بستن",prevText:"&#x3C;قبلی",nextText:"بعدی&#x3E;",currentText:"امروز",monthNames:["ژانویه","فوریه","مارس","آوریل","مه","ژوئن","ژوئیه","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["يکشنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],dayNamesShort:["ی","د","س","چ","پ","ج","ش"],dayNamesMin:["ی","د","س","چ","پ","ج","ش"],weekHeader:"هف",dateFormat:"yy/mm/dd",firstDay:6,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.fa),t.regional.fa,t.regional.fi={closeText:"Sulje",prevText:"&#xAB;Edellinen",nextText:"Seuraava&#xBB;",currentText:"Tänään",monthNames:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],monthNamesShort:["Tammi","Helmi","Maalis","Huhti","Touko","Kesä","Heinä","Elo","Syys","Loka","Marras","Joulu"],dayNamesShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayNames:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],dayNamesMin:["Su","Ma","Ti","Ke","To","Pe","La"],weekHeader:"Vk",dateFormat:"d.m.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.fi),t.regional.fi,t.regional.fo={closeText:"Lat aftur",prevText:"&#x3C;Fyrra",nextText:"Næsta&#x3E;",currentText:"Í dag",monthNames:["Januar","Februar","Mars","Apríl","Mei","Juni","Juli","August","September","Oktober","November","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],dayNames:["Sunnudagur","Mánadagur","Týsdagur","Mikudagur","Hósdagur","Fríggjadagur","Leyardagur"],dayNamesShort:["Sun","Mán","Týs","Mik","Hós","Frí","Ley"],dayNamesMin:["Su","Má","Tý","Mi","Hó","Fr","Le"],weekHeader:"Vk",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.fo),t.regional.fo,t.regional["fr-CA"]={closeText:"Fermer",prevText:"Précédent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avril","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"yy-mm-dd",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["fr-CA"]),t.regional["fr-CA"],t.regional["fr-CH"]={closeText:"Fermer",prevText:"&#x3C;Préc",nextText:"Suiv&#x3E;",currentText:"Courant",monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avril","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sm",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["fr-CH"]),t.regional["fr-CH"],t.regional.fr={closeText:"Fermer",prevText:"Précédent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.fr),t.regional.fr,t.regional.gl={closeText:"Pechar",prevText:"&#x3C;Ant",nextText:"Seg&#x3E;",currentText:"Hoxe",monthNames:["Xaneiro","Febreiro","Marzo","Abril","Maio","Xuño","Xullo","Agosto","Setembro","Outubro","Novembro","Decembro"],monthNamesShort:["Xan","Feb","Mar","Abr","Mai","Xuñ","Xul","Ago","Set","Out","Nov","Dec"],dayNames:["Domingo","Luns","Martes","Mércores","Xoves","Venres","Sábado"],dayNamesShort:["Dom","Lun","Mar","Mér","Xov","Ven","Sáb"],dayNamesMin:["Do","Lu","Ma","Mé","Xo","Ve","Sá"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.gl),t.regional.gl,t.regional.he={closeText:"סגור",prevText:"&#x3C;הקודם",nextText:"הבא&#x3E;",currentText:"היום",monthNames:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],monthNamesShort:["ינו","פבר","מרץ","אפר","מאי","יוני","יולי","אוג","ספט","אוק","נוב","דצמ"],dayNames:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],dayNamesShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],dayNamesMin:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.he),t.regional.he,t.regional.hi={closeText:"बंद",prevText:"पिछला",nextText:"अगला",currentText:"आज",monthNames:["जनवरी ","फरवरी","मार्च","अप्रेल","मई","जून","जूलाई","अगस्त ","सितम्बर","अक्टूबर","नवम्बर","दिसम्बर"],monthNamesShort:["जन","फर","मार्च","अप्रेल","मई","जून","जूलाई","अग","सित","अक्ट","नव","दि"],dayNames:["रविवार","सोमवार","मंगलवार","बुधवार","गुरुवार","शुक्रवार","शनिवार"],dayNamesShort:["रवि","सोम","मंगल","बुध","गुरु","शुक्र","शनि"],dayNamesMin:["रवि","सोम","मंगल","बुध","गुरु","शुक्र","शनि"],weekHeader:"हफ्ता",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.hi),t.regional.hi,t.regional.hr={closeText:"Zatvori",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Danas",monthNames:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],monthNamesShort:["Sij","Velj","Ožu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],dayNames:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","Če","Pe","Su"],weekHeader:"Tje",dateFormat:"dd.mm.yy.",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.hr),t.regional.hr,t.regional.hu={closeText:"bezár",prevText:"vissza",nextText:"előre",currentText:"ma",monthNames:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],monthNamesShort:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Szep","Okt","Nov","Dec"],dayNames:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"],dayNamesShort:["Vas","Hét","Ked","Sze","Csü","Pén","Szo"],dayNamesMin:["V","H","K","Sze","Cs","P","Szo"],weekHeader:"Hét",dateFormat:"yy.mm.dd.",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:""},t.setDefaults(t.regional.hu),t.regional.hu,t.regional.hy={closeText:"Փակել",prevText:"&#x3C;Նախ.",nextText:"Հաջ.&#x3E;",currentText:"Այսօր",monthNames:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],monthNamesShort:["Հունվ","Փետր","Մարտ","Ապր","Մայիս","Հունիս","Հուլ","Օգս","Սեպ","Հոկ","Նոյ","Դեկ"],dayNames:["կիրակի","եկուշաբթի","երեքշաբթի","չորեքշաբթի","հինգշաբթի","ուրբաթ","շաբաթ"],dayNamesShort:["կիր","երկ","երք","չրք","հնգ","ուրբ","շբթ"],dayNamesMin:["կիր","երկ","երք","չրք","հնգ","ուրբ","շբթ"],weekHeader:"ՇԲՏ",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.hy),t.regional.hy,t.regional.id={closeText:"Tutup",prevText:"&#x3C;mundur",nextText:"maju&#x3E;",currentText:"hari ini",monthNames:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Nopember","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agus","Sep","Okt","Nop","Des"],dayNames:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],dayNamesShort:["Min","Sen","Sel","Rab","kam","Jum","Sab"],dayNamesMin:["Mg","Sn","Sl","Rb","Km","jm","Sb"],weekHeader:"Mg",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.id),t.regional.id,t.regional.is={closeText:"Loka",prevText:"&#x3C; Fyrri",nextText:"Næsti &#x3E;",currentText:"Í dag",monthNames:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Maí","Jún","Júl","Ágú","Sep","Okt","Nóv","Des"],dayNames:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"],dayNamesShort:["Sun","Mán","Þri","Mið","Fim","Fös","Lau"],dayNamesMin:["Su","Má","Þr","Mi","Fi","Fö","La"],weekHeader:"Vika",dateFormat:"dd.mm.yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.is),t.regional.is,t.regional["it-CH"]={closeText:"Chiudi",prevText:"&#x3C;Prec",nextText:"Succ&#x3E;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["it-CH"]),t.regional["it-CH"],t.regional.it={closeText:"Chiudi",prevText:"&#x3C;Prec",nextText:"Succ&#x3E;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.it),t.regional.it,t.regional.ja={closeText:"閉じる",prevText:"&#x3C;前",nextText:"次&#x3E;",currentText:"今日",monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"],dayNamesMin:["日","月","火","水","木","金","土"],weekHeader:"週",dateFormat:"yy/mm/dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},t.setDefaults(t.regional.ja),t.regional.ja,t.regional.ka={closeText:"დახურვა",prevText:"&#x3c; წინა",nextText:"შემდეგი &#x3e;",currentText:"დღეს",monthNames:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომბერი","ნოემბერი","დეკემბერი"],monthNamesShort:["იან","თებ","მარ","აპრ","მაი","ივნ","ივლ","აგვ","სექ","ოქტ","ნოე","დეკ"],dayNames:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი"],dayNamesShort:["კვ","ორშ","სამ","ოთხ","ხუთ","პარ","შაბ"],dayNamesMin:["კვ","ორშ","სამ","ოთხ","ხუთ","პარ","შაბ"],weekHeader:"კვირა",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ka),t.regional.ka,t.regional.kk={closeText:"Жабу",prevText:"&#x3C;Алдыңғы",nextText:"Келесі&#x3E;",currentText:"Бүгін",monthNames:["Қаңтар","Ақпан","Наурыз","Сәуір","Мамыр","Маусым","Шілде","Тамыз","Қыркүйек","Қазан","Қараша","Желтоқсан"],monthNamesShort:["Қаң","Ақп","Нау","Сәу","Мам","Мау","Шіл","Там","Қыр","Қаз","Қар","Жел"],dayNames:["Жексенбі","Дүйсенбі","Сейсенбі","Сәрсенбі","Бейсенбі","Жұма","Сенбі"],dayNamesShort:["жкс","дсн","ссн","срс","бсн","жма","снб"],dayNamesMin:["Жк","Дс","Сс","Ср","Бс","Жм","Сн"],weekHeader:"Не",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.kk),t.regional.kk,t.regional.km={closeText:"ធ្វើ​រួច",prevText:"មុន",nextText:"បន្ទាប់",currentText:"ថ្ងៃ​នេះ",monthNames:["មករា","កុម្ភៈ","មីនា","មេសា","ឧសភា","មិថុនា","កក្កដា","សីហា","កញ្ញា","តុលា","វិច្ឆិកា","ធ្នូ"],monthNamesShort:["មករា","កុម្ភៈ","មីនា","មេសា","ឧសភា","មិថុនា","កក្កដា","សីហា","កញ្ញា","តុលា","វិច្ឆិកា","ធ្នូ"],dayNames:["អាទិត្យ","ចន្ទ","អង្គារ","ពុធ","ព្រហស្បតិ៍","សុក្រ","សៅរ៍"],dayNamesShort:["អា","ច","អ","ពុ","ព្រហ","សុ","សៅ"],dayNamesMin:["អា","ច","អ","ពុ","ព្រហ","សុ","សៅ"],weekHeader:"សប្ដាហ៍",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.km),t.regional.km,t.regional.ko={closeText:"닫기",prevText:"이전달",nextText:"다음달",currentText:"오늘",monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthNamesShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayNames:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],dayNamesShort:["일","월","화","수","목","금","토"],dayNamesMin:["일","월","화","수","목","금","토"],weekHeader:"Wk",dateFormat:"yy-mm-dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"년"},t.setDefaults(t.regional.ko),t.regional.ko,t.regional.ky={closeText:"Жабуу",prevText:"&#x3c;Мур",nextText:"Кий&#x3e;",currentText:"Бүгүн",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["жекшемби","дүйшөмбү","шейшемби","шаршемби","бейшемби","жума","ишемби"],dayNamesShort:["жек","дүй","шей","шар","бей","жум","ише"],dayNamesMin:["Жк","Дш","Шш","Шр","Бш","Жм","Иш"],weekHeader:"Жум",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ky),t.regional.ky,t.regional.lb={closeText:"Fäerdeg",prevText:"Zréck",nextText:"Weider",currentText:"Haut",monthNames:["Januar","Februar","Mäerz","Abrëll","Mee","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mäe","Abr","Mee","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonndeg","Méindeg","Dënschdeg","Mëttwoch","Donneschdeg","Freideg","Samschdeg"],dayNamesShort:["Son","Méi","Dën","Mët","Don","Fre","Sam"],dayNamesMin:["So","Mé","Dë","Më","Do","Fr","Sa"],weekHeader:"W",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.lb),t.regional.lb,t.regional.lt={closeText:"Uždaryti",prevText:"&#x3C;Atgal",nextText:"Pirmyn&#x3E;",currentText:"Šiandien",monthNames:["Sausis","Vasaris","Kovas","Balandis","Gegužė","Birželis","Liepa","Rugpjūtis","Rugsėjis","Spalis","Lapkritis","Gruodis"],monthNamesShort:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rugp","Rugs","Spa","Lap","Gru"],dayNames:["sekmadienis","pirmadienis","antradienis","trečiadienis","ketvirtadienis","penktadienis","šeštadienis"],dayNamesShort:["sek","pir","ant","tre","ket","pen","šeš"],dayNamesMin:["Se","Pr","An","Tr","Ke","Pe","Še"],weekHeader:"SAV",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:""},t.setDefaults(t.regional.lt),t.regional.lt,t.regional.lv={closeText:"Aizvērt",prevText:"Iepr.",nextText:"Nāk.",currentText:"Šodien",monthNames:["Janvāris","Februāris","Marts","Aprīlis","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],monthNamesShort:["Jan","Feb","Mar","Apr","Mai","Jūn","Jūl","Aug","Sep","Okt","Nov","Dec"],dayNames:["svētdiena","pirmdiena","otrdiena","trešdiena","ceturtdiena","piektdiena","sestdiena"],dayNamesShort:["svt","prm","otr","tre","ctr","pkt","sst"],dayNamesMin:["Sv","Pr","Ot","Tr","Ct","Pk","Ss"],weekHeader:"Ned.",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.lv),t.regional.lv,t.regional.mk={closeText:"Затвори",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Денес",monthNames:["Јануари","Февруари","Март","Април","Мај","Јуни","Јули","Август","Септември","Октомври","Ноември","Декември"],monthNamesShort:["Јан","Фев","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Ное","Дек"],dayNames:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота"],dayNamesShort:["Нед","Пон","Вто","Сре","Чет","Пет","Саб"],dayNamesMin:["Не","По","Вт","Ср","Че","Пе","Са"],weekHeader:"Сед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.mk),t.regional.mk,t.regional.ml={closeText:"ശരി",prevText:"മുന്നത്തെ",nextText:"അടുത്തത് ",currentText:"ഇന്ന്",monthNames:["ജനുവരി","ഫെബ്രുവരി","മാര്‍ച്ച്","ഏപ്രില്‍","മേയ്","ജൂണ്‍","ജൂലൈ","ആഗസ്റ്റ്","സെപ്റ്റംബര്‍","ഒക്ടോബര്‍","നവംബര്‍","ഡിസംബര്‍"],monthNamesShort:["ജനു","ഫെബ്","മാര്‍","ഏപ്രി","മേയ്","ജൂണ്‍","ജൂലാ","ആഗ","സെപ്","ഒക്ടോ","നവം","ഡിസ"],dayNames:["ഞായര്‍","തിങ്കള്‍","ചൊവ്വ","ബുധന്‍","വ്യാഴം","വെള്ളി","ശനി"],dayNamesShort:["ഞായ","തിങ്ക","ചൊവ്വ","ബുധ","വ്യാഴം","വെള്ളി","ശനി"],dayNamesMin:["ഞാ","തി","ചൊ","ബു","വ്യാ","വെ","ശ"],weekHeader:"ആ",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ml),t.regional.ml,t.regional.ms={closeText:"Tutup",prevText:"&#x3C;Sebelum",nextText:"Selepas&#x3E;",currentText:"hari ini",monthNames:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"],monthNamesShort:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ogo","Sep","Okt","Nov","Dis"],dayNames:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"],dayNamesShort:["Aha","Isn","Sel","Rab","kha","Jum","Sab"],dayNamesMin:["Ah","Is","Se","Ra","Kh","Ju","Sa"],weekHeader:"Mg",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ms),t.regional.ms,t.regional.nb={closeText:"Lukk",prevText:"&#xAB;Forrige",nextText:"Neste&#xBB;",currentText:"I dag",monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],dayNamesShort:["søn","man","tir","ons","tor","fre","lør"],dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesMin:["sø","ma","ti","on","to","fr","lø"],weekHeader:"Uke",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.nb),t.regional.nb,t.regional["nl-BE"]={closeText:"Sluiten",prevText:"←",nextText:"→",currentText:"Vandaag",monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["nl-BE"]),t.regional["nl-BE"],t.regional.nl={closeText:"Sluiten",prevText:"←",nextText:"→",currentText:"Vandaag",monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],weekHeader:"Wk",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.nl),t.regional.nl,t.regional.nn={closeText:"Lukk",prevText:"&#xAB;Førre",nextText:"Neste&#xBB;",currentText:"I dag",monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],dayNamesShort:["sun","mån","tys","ons","tor","fre","lau"],dayNames:["sundag","måndag","tysdag","onsdag","torsdag","fredag","laurdag"],dayNamesMin:["su","må","ty","on","to","fr","la"],weekHeader:"Veke",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.nn),t.regional.nn,t.regional.no={closeText:"Lukk",prevText:"&#xAB;Forrige",nextText:"Neste&#xBB;",currentText:"I dag",monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],dayNamesShort:["søn","man","tir","ons","tor","fre","lør"],dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesMin:["sø","ma","ti","on","to","fr","lø"],weekHeader:"Uke",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.no),t.regional.no,t.regional.pl={closeText:"Zamknij",prevText:"&#x3C;Poprzedni",nextText:"Następny&#x3E;",currentText:"Dziś",monthNames:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthNamesShort:["Sty","Lu","Mar","Kw","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],dayNames:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],dayNamesShort:["Nie","Pn","Wt","Śr","Czw","Pt","So"],dayNamesMin:["N","Pn","Wt","Śr","Cz","Pt","So"],weekHeader:"Tydz",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.pl),t.regional.pl,t.regional["pt-BR"]={closeText:"Fechar",prevText:"&#x3C;Anterior",nextText:"Próximo&#x3E;",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["pt-BR"]),t.regional["pt-BR"],t.regional.pt={closeText:"Fechar",prevText:"Anterior",nextText:"Seguinte",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],weekHeader:"Sem",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.pt),t.regional.pt,t.regional.rm={closeText:"Serrar",prevText:"&#x3C;Suandant",nextText:"Precedent&#x3E;",currentText:"Actual",monthNames:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],monthNamesShort:["Scha","Fev","Mar","Avr","Matg","Zer","Fan","Avu","Sett","Oct","Nov","Dec"],dayNames:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"],dayNamesShort:["Dum","Gli","Mar","Mes","Gie","Ven","Som"],dayNamesMin:["Du","Gl","Ma","Me","Gi","Ve","So"],weekHeader:"emna",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.rm),t.regional.rm,t.regional.ro={closeText:"Închide",prevText:"&#xAB; Luna precedentă",nextText:"Luna următoare &#xBB;",currentText:"Azi",monthNames:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],monthNamesShort:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă"],dayNamesShort:["Dum","Lun","Mar","Mie","Joi","Vin","Sâm"],dayNamesMin:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],weekHeader:"Săpt",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ro),t.regional.ro,t.regional.ru={closeText:"Закрыть",prevText:"&#x3C;Пред",nextText:"След&#x3E;",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ru),t.regional.ru,t.regional.sk={closeText:"Zavrieť",prevText:"&#x3C;Predchádzajúci",nextText:"Nasledujúci&#x3E;",currentText:"Dnes",monthNames:["január","február","marec","apríl","máj","jún","júl","august","september","október","november","december"],monthNamesShort:["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],dayNames:["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],dayNamesShort:["Ned","Pon","Uto","Str","Štv","Pia","Sob"],dayNamesMin:["Ne","Po","Ut","St","Št","Pia","So"],weekHeader:"Ty",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.sk),t.regional.sk,t.regional.sl={closeText:"Zapri",prevText:"&#x3C;Prejšnji",nextText:"Naslednji&#x3E;",currentText:"Trenutni",monthNames:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"],dayNamesShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"],dayNamesMin:["Ne","Po","To","Sr","Če","Pe","So"],weekHeader:"Teden",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.sl),t.regional.sl,t.regional.sq={closeText:"mbylle",prevText:"&#x3C;mbrapa",nextText:"Përpara&#x3E;",currentText:"sot",monthNames:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"],monthNamesShort:["Jan","Shk","Mar","Pri","Maj","Qer","Kor","Gus","Sht","Tet","Nën","Dhj"],dayNames:["E Diel","E Hënë","E Martë","E Mërkurë","E Enjte","E Premte","E Shtune"],dayNamesShort:["Di","Hë","Ma","Më","En","Pr","Sh"],dayNamesMin:["Di","Hë","Ma","Më","En","Pr","Sh"],weekHeader:"Ja",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.sq),t.regional.sq,t.regional["sr-SR"]={closeText:"Zatvori",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Danas",monthNames:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sre","Čet","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","Če","Pe","Su"],weekHeader:"Sed",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["sr-SR"]),t.regional["sr-SR"],t.regional.sr={closeText:"Затвори",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Данас",monthNames:["Јануар","Фебруар","Март","Април","Мај","Јун","Јул","Август","Септембар","Октобар","Новембар","Децембар"],monthNamesShort:["Јан","Феб","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Нов","Дец"],dayNames:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"],dayNamesShort:["Нед","Пон","Уто","Сре","Чет","Пет","Суб"],dayNamesMin:["Не","По","Ут","Ср","Че","Пе","Су"],weekHeader:"Сед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.sr),t.regional.sr,t.regional.sv={closeText:"Stäng",prevText:"&#xAB;Förra",nextText:"Nästa&#xBB;",currentText:"Idag",monthNames:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNamesShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayNames:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],dayNamesMin:["Sö","Må","Ti","On","To","Fr","Lö"],weekHeader:"Ve",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.sv),t.regional.sv,t.regional.ta={closeText:"மூடு",prevText:"முன்னையது",nextText:"அடுத்தது",currentText:"இன்று",monthNames:["தை","மாசி","பங்குனி","சித்திரை","வைகாசி","ஆனி","ஆடி","ஆவணி","புரட்டாசி","ஐப்பசி","கார்த்திகை","மார்கழி"],monthNamesShort:["தை","மாசி","பங்","சித்","வைகா","ஆனி","ஆடி","ஆவ","புர","ஐப்","கார்","மார்"],dayNames:["ஞாயிற்றுக்கிழமை","திங்கட்கிழமை","செவ்வாய்க்கிழமை","புதன்கிழமை","வியாழக்கிழமை","வெள்ளிக்கிழமை","சனிக்கிழமை"],dayNamesShort:["ஞாயிறு","திங்கள்","செவ்வாய்","புதன்","வியாழன்","வெள்ளி","சனி"],dayNamesMin:["ஞா","தி","செ","பு","வி","வெ","ச"],weekHeader:"Не",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ta),t.regional.ta,t.regional.th={closeText:"ปิด",prevText:"&#xAB;&#xA0;ย้อน",nextText:"ถัดไป&#xA0;&#xBB;",currentText:"วันนี้",monthNames:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],monthNamesShort:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],dayNames:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัสบดี","ศุกร์","เสาร์"],dayNamesShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayNamesMin:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.th),t.regional.th,t.regional.tj={closeText:"Идома",prevText:"&#x3c;Қафо",nextText:"Пеш&#x3e;",currentText:"Имрӯз",monthNames:["Январ","Феврал","Март","Апрел","Май","Июн","Июл","Август","Сентябр","Октябр","Ноябр","Декабр"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["якшанбе","душанбе","сешанбе","чоршанбе","панҷшанбе","ҷумъа","шанбе"],dayNamesShort:["якш","душ","сеш","чор","пан","ҷум","шан"],dayNamesMin:["Як","Дш","Сш","Чш","Пш","Ҷм","Шн"],weekHeader:"Хф",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.tj),t.regional.tj,t.regional.tr={closeText:"kapat",prevText:"&#x3C;geri",nextText:"ileri&#x3e",currentText:"bugün",monthNames:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthNamesShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],dayNames:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],dayNamesMin:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],weekHeader:"Hf",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.tr),t.regional.tr,t.regional.uk={closeText:"Закрити",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Сьогодні",monthNames:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],monthNamesShort:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],dayNames:["неділя","понеділок","вівторок","середа","четвер","п’ятниця","субота"],dayNamesShort:["нед","пнд","вів","срд","чтв","птн","сбт"],dayNamesMin:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Тиж",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.uk),t.regional.uk,t.regional.vi={closeText:"Đóng",prevText:"&#x3C;Trước",nextText:"Tiếp&#x3E;",currentText:"Hôm nay",monthNames:["Tháng Một","Tháng Hai","Tháng Ba","Tháng Tư","Tháng Năm","Tháng Sáu","Tháng Bảy","Tháng Tám","Tháng Chín","Tháng Mười","Tháng Mười Một","Tháng Mười Hai"],monthNamesShort:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayNames:["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"],dayNamesShort:["CN","T2","T3","T4","T5","T6","T7"],dayNamesMin:["CN","T2","T3","T4","T5","T6","T7"],weekHeader:"Tu",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.vi),t.regional.vi,t.regional["zh-CN"]={closeText:"关闭",prevText:"&#x3C;上月",nextText:"下月&#x3E;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},t.setDefaults(t.regional["zh-CN"]),t.regional["zh-CN"],t.regional["zh-HK"]={closeText:"關閉",prevText:"&#x3C;上月",nextText:"下月&#x3E;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"dd-mm-yy",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},t.setDefaults(t.regional["zh-HK"]),t.regional["zh-HK"],t.regional["zh-TW"]={closeText:"關閉",prevText:"&#x3C;上月",nextText:"下月&#x3E;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"yy/mm/dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},t.setDefaults(t.regional["zh-TW"]),t.regional["zh-TW"]
});


/* Czech initialisation for the jQuery UI date picker plugin. */
/* Written by Tomas Muller (tomas@tomas-muller.net). */
jQuery(function($){
	$.datepicker.regional['cs'] = {
		closeText: 'Zavřít',
		prevText: '&#x3C;Dříve',
		nextText: 'Později&#x3E;',
		currentText: 'Nyní',
		monthNames: ['leden','únor','březen','duben','květen','červen',
			'červenec','srpen','září','říjen','listopad','prosinec'],
		monthNamesShort: ['led','úno','bře','dub','kvě','čer',
			'čvc','srp','zář','říj','lis','pro'],
		dayNames: ['neděle', 'pondělí', 'úterý', 'středa', 'čtvrtek', 'pátek', 'sobota'],
		dayNamesShort: ['ne', 'po', 'út', 'st', 'čt', 'pá', 'so'],
		dayNamesMin: ['ne','po','út','st','čt','pá','so'],
		weekHeader: 'Týd',
		dateFormat: 'dd.mm.yy',
		firstDay: 1,
		isRTL: false,
		showMonthAfterYear: false,
		yearSuffix: ''};
	$.datepicker.setDefaults($.datepicker.regional['cs']);
});
/*!
 * Bootstrap v3.3.5 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */

/*!
 * Generated using the Bootstrap Customizer (http://getbootstrap.com/customize/?id=67d0b8f193562c451bcb)
 * Config saved to config.json and https://gist.github.com/67d0b8f193562c451bcb
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(t){"use strict";function e(e){var o=e.attr("data-target");o||(o=e.attr("href"),o=o&&/#[A-Za-z]/.test(o)&&o.replace(/.*(?=#[^\s]*$)/,""));var i=o&&t(o);return i&&i.length?i:e.parent()}function o(o){o&&3===o.which||(t(n).remove(),t(s).each(function(){var i=t(this),n=e(i),s={relatedTarget:this};n.hasClass("open")&&(o&&"click"==o.type&&/input|textarea/i.test(o.target.tagName)&&t.contains(n[0],o.target)||(n.trigger(o=t.Event("hide.bs.dropdown",s)),o.isDefaultPrevented()||(i.attr("aria-expanded","false"),n.removeClass("open").trigger("hidden.bs.dropdown",s))))}))}function i(e){return this.each(function(){var o=t(this),i=o.data("bs.dropdown");i||o.data("bs.dropdown",i=new r(this)),"string"==typeof e&&i[e].call(o)})}var n=".dropdown-backdrop",s='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.5",r.prototype.toggle=function(i){var n=t(this);if(!n.is(".disabled, :disabled")){var s=e(n),r=s.hasClass("open");if(o(),!r){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",o);var a={relatedTarget:this};if(s.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},r.prototype.keydown=function(o){if(/(38|40|27|32)/.test(o.which)&&!/input|textarea/i.test(o.target.tagName)){var i=t(this);if(o.preventDefault(),o.stopPropagation(),!i.is(".disabled, :disabled")){var n=e(i),r=n.hasClass("open");if(!r&&27!=o.which||r&&27==o.which)return 27==o.which&&n.find(s).trigger("focus"),i.trigger("click");var a=" li:not(.disabled):visible a",l=n.find(".dropdown-menu"+a);if(l.length){var h=l.index(o.target);38==o.which&&h>0&&h--,40==o.which&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,r.prototype.toggle).on("keydown.bs.dropdown.data-api",s,r.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",r.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,i){return this.each(function(){var n=t(this),s=n.data("bs.modal"),r=t.extend({},o.DEFAULTS,n.data(),"object"==typeof e&&e);s||n.data("bs.modal",s=new o(this,r)),"string"==typeof e?s[e](i):r.show&&s.show(i)})}var o=function(e,o){this.options=o,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};o.VERSION="3.3.5",o.TRANSITION_DURATION=300,o.BACKDROP_TRANSITION_DURATION=150,o.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},o.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},o.prototype.show=function(e){var i=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var n=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),n&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});n?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(o.TRANSITION_DURATION):i.$element.trigger("focus").trigger(s)}))},o.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(o.TRANSITION_DURATION):this.hideModal())},o.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},o.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},o.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},o.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},o.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},o.prototype.backdrop=function(e){var i=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&n;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION):r()}else e&&e()},o.prototype.handleUpdate=function(){this.adjustDialog()},o.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},o.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},o.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},o.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},o.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},o.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=o,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(o){var i=t(this),n=i.attr("href"),s=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),i.data());i.is("a")&&o.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(s,r,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),n=i.data("bs.tooltip"),s="object"==typeof e&&e;(n||!/destroy|hide/.test(e))&&(n||i.data("bs.tooltip",n=new o(this,s)),"string"==typeof e&&n[e]())})}var o=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};o.VERSION="3.3.5",o.TRANSITION_DURATION=150,o.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},o.prototype.init=function(e,o,i){if(this.enabled=!0,this.type=e,this.$element=t(o),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),s=n.length;s--;){var r=n[s];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},o.prototype.getDefaults=function(){return o.DEFAULTS},o.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},o.prototype.getDelegateOptions=function(){var e={},o=this.getDefaults();return this._options&&t.each(this._options,function(t,i){o[t]!=i&&(e[t]=i)}),e},o.prototype.enter=function(e){var o=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return o||(o=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,o)),e instanceof t.Event&&(o.inState["focusin"==e.type?"focus":"hover"]=!0),o.tip().hasClass("in")||"in"==o.hoverState?void(o.hoverState="in"):(clearTimeout(o.timeout),o.hoverState="in",o.options.delay&&o.options.delay.show?void(o.timeout=setTimeout(function(){"in"==o.hoverState&&o.show()},o.options.delay.show)):o.show())},o.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},o.prototype.leave=function(e){var o=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return o||(o=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,o)),e instanceof t.Event&&(o.inState["focusout"==e.type?"focus":"hover"]=!1),o.isInStateTrue()?void 0:(clearTimeout(o.timeout),o.hoverState="out",o.options.delay&&o.options.delay.hide?void(o.timeout=setTimeout(function(){"out"==o.hoverState&&o.hide()},o.options.delay.hide)):o.hide())},o.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var n=this,s=this.tip(),r=this.getUID(this.type);this.setContent(),s.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&s.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(a);h&&(a=a.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var p=this.getPosition(),d=s[0].offsetWidth,c=s[0].offsetHeight;if(h){var f=a,u=this.getPosition(this.$viewport);a="bottom"==a&&p.bottom+c>u.bottom?"top":"top"==a&&p.top-c<u.top?"bottom":"right"==a&&p.right+d>u.width?"left":"left"==a&&p.left-d<u.left?"right":a,s.removeClass(f).addClass(a)}var m=this.getCalculatedOffset(a,p,d,c);this.applyPlacement(m,a);var g=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",g).emulateTransitionEnd(o.TRANSITION_DURATION):g()}},o.prototype.applyPlacement=function(e,o){var i=this.tip(),n=i[0].offsetWidth,s=i[0].offsetHeight,r=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),e.top+=r,e.left+=a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,h=i[0].offsetHeight;"top"==o&&h!=s&&(e.top=e.top+s-h);var p=this.getViewportAdjustedDelta(o,e,l,h);p.left?e.left+=p.left:e.top+=p.top;var d=/top|bottom/.test(o),c=d?2*p.left-n+l:2*p.top-s+h,f=d?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(c,i[0][f],d)},o.prototype.replaceArrow=function(t,e,o){this.arrow().css(o?"left":"top",50*(1-t/e)+"%").css(o?"top":"left","")},o.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},o.prototype.hide=function(e){function i(){"in"!=n.hoverState&&s.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,s=t(this.$tip),r=t.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",i).emulateTransitionEnd(o.TRANSITION_DURATION):i(),this.hoverState=null,this)},o.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},o.prototype.hasContent=function(){return this.getTitle()},o.prototype.getPosition=function(e){e=e||this.$element;var o=e[0],i="BODY"==o.tagName,n=o.getBoundingClientRect();null==n.width&&(n=t.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var s=i?{top:0,left:0}:e.offset(),r={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},n,r,a,s)},o.prototype.getCalculatedOffset=function(t,e,o,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-o/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-o/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-o}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},o.prototype.getViewportAdjustedDelta=function(t,e,o,i){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-s-r.scroll,l=e.top+s-r.scroll+i;a<r.top?n.top=r.top-a:l>r.top+r.height&&(n.top=r.top+r.height-l)}else{var h=e.left-s,p=e.left+s+o;h<r.left?n.left=r.left-h:p>r.right&&(n.left=r.left+r.width-p)}return n},o.prototype.getTitle=function(){var t,e=this.$element,o=this.options;return t=e.attr("data-original-title")||("function"==typeof o.title?o.title.call(e[0]):o.title)},o.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},o.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},o.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},o.prototype.enable=function(){this.enabled=!0},o.prototype.disable=function(){this.enabled=!1},o.prototype.toggleEnabled=function(){this.enabled=!this.enabled},o.prototype.toggle=function(e){var o=this;e&&(o=t(e.currentTarget).data("bs."+this.type),o||(o=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,o))),e?(o.inState.click=!o.inState.click,o.isInStateTrue()?o.enter(o):o.leave(o)):o.tip().hasClass("in")?o.leave(o):o.enter(o)},o.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=o,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),n=i.data("bs.popover"),s="object"==typeof e&&e;(n||!/destroy|hide/.test(e))&&(n||i.data("bs.popover",n=new o(this,s)),"string"==typeof e&&n[e]())})}var o=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");o.VERSION="3.3.5",o.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),o.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),o.prototype.constructor=o,o.prototype.getDefaults=function(){return o.DEFAULTS},o.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),o=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof o?"html":"append":"text"](o),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},o.prototype.hasContent=function(){return this.getTitle()||this.getContent()},o.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},o.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=o,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery);
(function(factory){if(typeof
define==='function'&&define.amd){define('pnotify',['jquery'],factory);}else{factory(jQuery);}}(function($){var
default_stack={dir1:"down",dir2:"left",push:"bottom",spacing1:25,spacing2:25,context:$("body")};var
timer,body,jwindow=$(window);var
do_when_ready=function(){body=$("body");PNotify.prototype.options.stack.context=body;jwindow=$(window);jwindow.bind('resize',function(){if(timer)clearTimeout(timer);timer=setTimeout(function(){PNotify.positionAll(true)},10);});};PNotify=function(options){this.parseOptions(options);this.init();};$.extend(PNotify.prototype,{version:"2.0.1",options:{title:false,title_escape:false,text:false,text_escape:false,styling:"bootstrap3",addclass:"",cornerclass:"",auto_display:true,width:"300px",min_height:"16px",type:"notice",icon:true,opacity:1,animation:"fade",animate_speed:"slow",position_animate_speed:500,shadow:true,hide:true,delay:8000,mouse_reset:true,remove:true,insert_brs:true,destroy:true,stack:default_stack},modules:{},runModules:function(event,arg){var
curArg;for(var
module
in
this.modules){curArg=((typeof
arg==="object"&&module
in
arg)?arg[module]:arg);if(typeof
this.modules[module][event]==='function')this.modules[module][event](this,typeof
this.options[module]==='object'?this.options[module]:{},curArg);}},state:"initializing",timer:null,styles:null,elem:null,container:null,title_container:null,text_container:null,animating:false,timerHide:false,init:function(){var
that=this;this.modules={};$.extend(true,this.modules,PNotify.prototype.modules);if(typeof
this.options.styling==="object"){this.styles=this.options.styling;}else{this.styles=PNotify.styling[this.options.styling];}this.elem=$("<div />",{"class":"ui-pnotify "+this.options.addclass,"css":{"display":"none"},"mouseenter":function(e){if(that.options.mouse_reset&&that.animating==="out"){if(!that.timerHide)return;that.cancelRemove();}if(that.options.hide&&that.options.mouse_reset)that.cancelRemove();},"mouseleave":function(e){if(that.options.hide&&that.options.mouse_reset)that.queueRemove();PNotify.positionAll();}});this.container=$("<div />",{"class":this.styles.container+" ui-pnotify-container "+(this.options.type==="error"?this.styles.error:(this.options.type==="info"?this.styles.info:(this.options.type==="success"?this.styles.success:this.styles.notice)))}).appendTo(this.elem);if(this.options.cornerclass!=="")this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass);if(this.options.shadow)this.container.addClass("ui-pnotify-shadow");if(this.options.icon!==false){$("<div />",{"class":"ui-pnotify-icon"}).append($("<span />",{"class":this.options.icon===true?(this.options.type==="error"?this.styles.error_icon:(this.options.type==="info"?this.styles.info_icon:(this.options.type==="success"?this.styles.success_icon:this.styles.notice_icon))):this.options.icon})).prependTo(this.container);}this.title_container=$("<h4 />",{"class":"ui-pnotify-title"}).appendTo(this.container);if(this.options.title===false)this.title_container.hide();else
if(this.options.title_escape)this.title_container.text(this.options.title);else
this.title_container.html(this.options.title);this.text_container=$("<div />",{"class":"ui-pnotify-text"}).appendTo(this.container);if(this.options.text===false)this.text_container.hide();else
if(this.options.text_escape)this.text_container.text(this.options.text);else
this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text);if(typeof
this.options.width==="string")this.elem.css("width",this.options.width);if(typeof
this.options.min_height==="string")this.container.css("min-height",this.options.min_height);if(this.options.stack.push==="top")PNotify.notices=$.merge([this],PNotify.notices);else
PNotify.notices=$.merge(PNotify.notices,[this]);if(this.options.stack.push==="top")this.queuePosition(false,1);this.options.stack.animation=false;this.runModules('init');if(this.options.auto_display)this.open();return this;},update:function(options){var
oldOpts=this.options;this.parseOptions(oldOpts,options);if(this.options.cornerclass!==oldOpts.cornerclass)this.container.removeClass("ui-corner-all "+oldOpts.cornerclass).addClass(this.options.cornerclass);if(this.options.shadow!==oldOpts.shadow){if(this.options.shadow)this.container.addClass("ui-pnotify-shadow");else
this.container.removeClass("ui-pnotify-shadow");}if(this.options.addclass===false)this.elem.removeClass(oldOpts.addclass);else
if(this.options.addclass!==oldOpts.addclass)this.elem.removeClass(oldOpts.addclass).addClass(this.options.addclass);if(this.options.title===false)this.title_container.slideUp("fast");else
if(this.options.title!==oldOpts.title){if(this.options.title_escape)this.title_container.text(this.options.title);else
this.title_container.html(this.options.title);if(oldOpts.title===false)this.title_container.slideDown(200)}if(this.options.text===false){this.text_container.slideUp("fast");}else
if(this.options.text!==oldOpts.text){if(this.options.text_escape)this.text_container.text(this.options.text);else
this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text);if(oldOpts.text===false)this.text_container.slideDown(200)}if(this.options.type!==oldOpts.type)this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass(this.options.type==="error"?this.styles.error:(this.options.type==="info"?this.styles.info:(this.options.type==="success"?this.styles.success:this.styles.notice)));if(this.options.icon!==oldOpts.icon||(this.options.icon===true&&this.options.type!==oldOpts.type)){this.container.find("div.ui-pnotify-icon").remove();if(this.options.icon!==false){$("<div />",{"class":"ui-pnotify-icon"}).append($("<span />",{"class":this.options.icon===true?(this.options.type==="error"?this.styles.error_icon:(this.options.type==="info"?this.styles.info_icon:(this.options.type==="success"?this.styles.success_icon:this.styles.notice_icon))):this.options.icon})).prependTo(this.container);}}if(this.options.width!==oldOpts.width)this.elem.animate({width:this.options.width});if(this.options.min_height!==oldOpts.min_height)this.container.animate({minHeight:this.options.min_height});if(this.options.opacity!==oldOpts.opacity)this.elem.fadeTo(this.options.animate_speed,this.options.opacity);if(!this.options.hide)this.cancelRemove();else
if(!oldOpts.hide)this.queueRemove();this.queuePosition(true);this.runModules('update',oldOpts);return this;},open:function(){this.state="opening";this.runModules('beforeOpen');var
that=this;if(!this.elem.parent().length)this.elem.appendTo(this.options.stack.context?this.options.stack.context:body);if(this.options.stack.push!=="top")this.position(true);if(this.options.animation==="fade"||this.options.animation.effect_in==="fade"){this.elem.show().fadeTo(0,0).hide();}else{if(this.options.opacity!==1)this.elem.show().fadeTo(0,this.options.opacity).hide();}this.animateIn(function(){that.queuePosition(true);if(that.options.hide)that.queueRemove();that.state="open";that.runModules('afterOpen');});return this;},remove:function(timer_hide){this.state="closing";this.timerHide=!!timer_hide;this.runModules('beforeClose');var
that=this;if(this.timer){window.clearTimeout(this.timer);this.timer=null;}this.animateOut(function(){that.state="closed";that.runModules('afterClose');that.queuePosition(true);if(that.options.remove)that.elem.detach();that.runModules('beforeDestroy');if(that.options.destroy){if(PNotify.notices!==null){var
idx=$.inArray(that,PNotify.notices);if(idx!==-1){PNotify.notices.splice(idx,1);}}}that.runModules('afterDestroy');});return this;},get:function(){return this.elem;},parseOptions:function(options,moreOptions){this.options=$.extend(true,{},PNotify.prototype.options);this.options.stack=PNotify.prototype.options.stack;var
optArray=[options,moreOptions],curOpts;for(var
curIndex
in
optArray){curOpts=optArray[curIndex];if(typeof
curOpts=="undefined")break;if(typeof
curOpts!=='object'){this.options.text=curOpts;}else{for(var
option
in
curOpts){if(this.modules[option]){$.extend(true,this.options[option],curOpts[option]);}else{this.options[option]=curOpts[option];}}}}},animateIn:function(callback){this.animating="in";var
animation;if(typeof
this.options.animation.effect_in!=="undefined")animation=this.options.animation.effect_in;else
animation=this.options.animation;if(animation==="none"){this.elem.show();callback();}else
if(animation==="show")this.elem.show(this.options.animate_speed,callback);else
if(animation==="fade")this.elem.show().fadeTo(this.options.animate_speed,this.options.opacity,callback);else
if(animation==="slide")this.elem.slideDown(this.options.animate_speed,callback);else
if(typeof
animation==="function")animation("in",callback,this.elem);else
this.elem.show(animation,(typeof
this.options.animation.options_in==="object"?this.options.animation.options_in:{}),this.options.animate_speed,callback);if(this.elem.parent().hasClass('ui-effects-wrapper'))this.elem.parent().css({"position":"fixed","overflow":"visible"});if(animation!=="slide")this.elem.css("overflow","visible");this.container.css("overflow","hidden");},animateOut:function(callback){this.animating="out";var
animation;if(typeof
this.options.animation.effect_out!=="undefined")animation=this.options.animation.effect_out;else
animation=this.options.animation;if(animation==="none"){this.elem.hide();callback();}else
if(animation==="show")this.elem.hide(this.options.animate_speed,callback);else
if(animation==="fade")this.elem.fadeOut(this.options.animate_speed,callback);else
if(animation==="slide")this.elem.slideUp(this.options.animate_speed,callback);else
if(typeof
animation==="function")animation("out",callback,this.elem);else
this.elem.hide(animation,(typeof
this.options.animation.options_out==="object"?this.options.animation.options_out:{}),this.options.animate_speed,callback);if(this.elem.parent().hasClass('ui-effects-wrapper'))this.elem.parent().css({"position":"fixed","overflow":"visible"});if(animation!=="slide")this.elem.css("overflow","visible");this.container.css("overflow","hidden");},position:function(dontSkipHidden){var
s=this.options.stack,e=this.elem;if(e.parent().hasClass('ui-effects-wrapper'))e=this.elem.css({"left":"0","top":"0","right":"0","bottom":"0"}).parent();if(typeof
s.context==="undefined")s.context=body;if(!s)return;if(typeof
s.nextpos1!=="number")s.nextpos1=s.firstpos1;if(typeof
s.nextpos2!=="number")s.nextpos2=s.firstpos2;if(typeof
s.addpos2!=="number")s.addpos2=0;var
hidden=e.css("display")==="none";if(!hidden||dontSkipHidden){var
curpos1,curpos2;var
animate={};var
csspos1;switch(s.dir1){case"down":csspos1="top";break;case"up":csspos1="bottom";break;case"left":csspos1="right";break;case"right":csspos1="left";break;}curpos1=parseInt(e.css(csspos1).replace(/(?:\..*|[^0-9.])/g,''));if(isNaN(curpos1))curpos1=0;if(typeof
s.firstpos1==="undefined"&&!hidden){s.firstpos1=curpos1;s.nextpos1=s.firstpos1;}var
csspos2;switch(s.dir2){case"down":csspos2="top";break;case"up":csspos2="bottom";break;case"left":csspos2="right";break;case"right":csspos2="left";break;}curpos2=parseInt(e.css(csspos2).replace(/(?:\..*|[^0-9.])/g,''));if(isNaN(curpos2))curpos2=0;if(typeof
s.firstpos2==="undefined"&&!hidden){s.firstpos2=curpos2;s.nextpos2=s.firstpos2;}if((s.dir1==="down"&&s.nextpos1+e.height()>(s.context.is(body)?jwindow.height():s.context.prop('scrollHeight')))||(s.dir1==="up"&&s.nextpos1+e.height()>(s.context.is(body)?jwindow.height():s.context.prop('scrollHeight')))||(s.dir1==="left"&&s.nextpos1+e.width()>(s.context.is(body)?jwindow.width():s.context.prop('scrollWidth')))||(s.dir1==="right"&&s.nextpos1+e.width()>(s.context.is(body)?jwindow.width():s.context.prop('scrollWidth')))){s.nextpos1=s.firstpos1;s.nextpos2+=s.addpos2+(typeof
s.spacing2==="undefined"?25:s.spacing2);s.addpos2=0;}if(s.animation&&s.nextpos2<curpos2){switch(s.dir2){case"down":animate.top=s.nextpos2+"px";break;case"up":animate.bottom=s.nextpos2+"px";break;case"left":animate.right=s.nextpos2+"px";break;case"right":animate.left=s.nextpos2+"px";break;}}else{if(typeof
s.nextpos2==="number")e.css(csspos2,s.nextpos2+"px");}switch(s.dir2){case"down":case"up":if(e.outerHeight(true)>s.addpos2)s.addpos2=e.height();break;case"left":case"right":if(e.outerWidth(true)>s.addpos2)s.addpos2=e.width();break;}if(typeof
s.nextpos1==="number"){if(s.animation&&(curpos1>s.nextpos1||animate.top||animate.bottom||animate.right||animate.left)){switch(s.dir1){case"down":animate.top=s.nextpos1+"px";break;case"up":animate.bottom=s.nextpos1+"px";break;case"left":animate.right=s.nextpos1+"px";break;case"right":animate.left=s.nextpos1+"px";break;}}else
e.css(csspos1,s.nextpos1+"px");}if(animate.top||animate.bottom||animate.right||animate.left)e.animate(animate,{duration:this.options.position_animate_speed,queue:false});switch(s.dir1){case"down":case"up":s.nextpos1+=e.height()+(typeof
s.spacing1==="undefined"?25:s.spacing1);break;case"left":case"right":s.nextpos1+=e.width()+(typeof
s.spacing1==="undefined"?25:s.spacing1);break;}}return this;},queuePosition:function(animate,milliseconds){if(timer)clearTimeout(timer);if(!milliseconds)milliseconds=10;timer=setTimeout(function(){PNotify.positionAll(animate)},milliseconds);return this;},cancelRemove:function(){if(this.timer)window.clearTimeout(this.timer);if(this.state==="closing"){this.elem.stop(true);this.state="open";this.animating="in";this.elem.css("height","auto").animate({"width":this.options.width,"opacity":this.options.opacity},"fast");}return this;},queueRemove:function(){var
that=this;this.cancelRemove();this.timer=window.setTimeout(function(){that.remove(true);},(isNaN(this.options.delay)?0:this.options.delay));return this;}});$.extend(PNotify,{notices:[],removeAll:function(){$.each(PNotify.notices,function(){if(this.remove)this.remove();});},positionAll:function(animate){if(timer)clearTimeout(timer);timer=null;$.each(PNotify.notices,function(){var
s=this.options.stack;if(!s)return;s.nextpos1=s.firstpos1;s.nextpos2=s.firstpos2;s.addpos2=0;s.animation=animate;});$.each(PNotify.notices,function(){this.position();});},styling:{jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert"},bootstrap2:{container:"alert",notice:"",notice_icon:"icon-exclamation-sign",info:"alert-info",info_icon:"icon-info-sign",success:"alert-success",success_icon:"icon-ok-sign",error:"alert-error",error_icon:"icon-warning-sign"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}});PNotify.styling.fontawesome=$.extend({},PNotify.styling.bootstrap3);$.extend(PNotify.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"});if(document.body)do_when_ready();else
$(do_when_ready);return PNotify;}));(function(factory){if(typeof
define==='function'&&define.amd){define('pnotify.buttons',['jquery','pnotify'],factory);}else{factory(jQuery,PNotify);}}(function($,PNotify){PNotify.prototype.modules.buttons={myOptions:null,closer:null,sticker:null,init:function(notice,options){var
that=this;this.myOptions=options;notice.elem.on({"mouseenter":function(e){if(that.myOptions.sticker&&!(notice.options.nonblock&&notice.options.nonblock.nonblock))that.sticker.trigger("pnotify_icon").css("visibility","visible");if(that.myOptions.closer&&!(notice.options.nonblock&&notice.options.nonblock.nonblock))that.closer.css("visibility","visible");},"mouseleave":function(e){if(that.myOptions.sticker_hover)that.sticker.css("visibility","hidden");if(that.myOptions.closer_hover)that.closer.css("visibility","hidden");}});this.sticker=$("<div />",{"class":"ui-pnotify-sticker","css":{"cursor":"pointer","visibility":options.sticker_hover?"hidden":"visible"},"click":function(){notice.options.hide=!notice.options.hide;if(notice.options.hide)notice.queueRemove();else
notice.cancelRemove();$(this).trigger("pnotify_icon");}}).bind("pnotify_icon",function(){$(this).children().removeClass(notice.styles.pin_up+" "+notice.styles.pin_down).addClass(notice.options.hide?notice.styles.pin_up:notice.styles.pin_down);}).append($("<span />",{"class":notice.styles.pin_up,"title":options.labels.stick})).prependTo(notice.container);if(!options.sticker||(notice.options.nonblock&&notice.options.nonblock.nonblock))this.sticker.css("display","none");this.closer=$("<div />",{"class":"ui-pnotify-closer","css":{"cursor":"pointer","visibility":options.closer_hover?"hidden":"visible"},"click":function(){notice.remove(false);that.sticker.css("visibility","hidden");that.closer.css("visibility","hidden");}}).append($("<span />",{"class":notice.styles.closer,"title":options.labels.close})).prependTo(notice.container);if(!options.closer||(notice.options.nonblock&&notice.options.nonblock.nonblock))this.closer.css("display","none");},update:function(notice,options){this.myOptions=options;if(!options.closer||(notice.options.nonblock&&notice.options.nonblock.nonblock))this.closer.css("display","none");else
if(options.closer)this.closer.css("display","block");if(!options.sticker||(notice.options.nonblock&&notice.options.nonblock.nonblock))this.sticker.css("display","none");else
if(options.sticker)this.sticker.css("display","block");this.sticker.trigger("pnotify_icon");if(options.sticker_hover)this.sticker.css("visibility","hidden");else
if(!(notice.options.nonblock&&notice.options.nonblock.nonblock))this.sticker.css("visibility","visible");if(options.closer_hover)this.closer.css("visibility","hidden");else
if(!(notice.options.nonblock&&notice.options.nonblock.nonblock))this.closer.css("visibility","visible");}};PNotify.prototype.options.buttons={closer:true,closer_hover:true,sticker:true,sticker_hover:true,labels:{close:"Close",stick:"Stick"}};$.extend(PNotify.styling.jqueryui,{closer:"ui-icon ui-icon-close",pin_up:"ui-icon ui-icon-pin-w",pin_down:"ui-icon ui-icon-pin-s"});$.extend(PNotify.styling.bootstrap2,{closer:"icon-remove",pin_up:"icon-pause",pin_down:"icon-play"});$.extend(PNotify.styling.bootstrap3,{closer:"glyphicon glyphicon-remove",pin_up:"glyphicon glyphicon-pause",pin_down:"glyphicon glyphicon-play"});$.extend(PNotify.styling.fontawesome,{closer:"fa fa-times",pin_up:"fa fa-pause",pin_down:"fa fa-play"});}));(function(factory){if(typeof
define==='function'&&define.amd){define('pnotify.desktop',['jquery','pnotify'],factory);}else{factory(jQuery,PNotify);}}(function($,PNotify){var
permission;var
notify=function(title,options){if("Notification"in
window){notify=function(title,options){return new
Notification(title,options);};}else
if("mozNotification"in
navigator){notify=function(title,options){return navigator.mozNotification.createNotification(title,options.body,options.icon).show();};}else
if("webkitNotifications"in
window){notify=function(title,options){return window.webkitNotifications.createNotification(options.icon,title,options.body);};}else{notify=function(title,options){return null;};}return notify(title,options);};PNotify.prototype.options.desktop={desktop:false,icon:null,tag:null};PNotify.prototype.modules.desktop={tag:null,icon:null,genNotice:function(notice,options){if(options.icon===null){this.icon="http://sciactive.com/pnotify/includes/desktop/"+notice.options.type+".png";}else
if(options.icon===false){this.icon=null;}else{this.icon=options.icon;}if(this.tag===null||options.tag!==null){this.tag=options.tag===null?"PNotify-"+Math.round(Math.random()*1000000):options.tag;}notice.desktop=notify(notice.options.title,{icon:this.icon,body:notice.options.text,tag:this.tag});if(!("close"in
notice.desktop)){notice.desktop.close=function(){notice.desktop.cancel();};}notice.desktop.onclick=function(){notice.elem.trigger("click");};notice.desktop.onclose=function(){if(notice.state!=="closing"&&notice.state!=="closed"){notice.remove();}};},init:function(notice,options){if(!options.desktop)return;permission=PNotify.desktop.checkPermission();if(permission!=0)return;this.genNotice(notice,options);},update:function(notice,options,oldOpts){if(permission!=0||!options.desktop)return;this.genNotice(notice,options);},beforeOpen:function(notice,options){if(permission!=0||!options.desktop)return;notice.elem.css({'left':'-10000px','display':'none'});},afterOpen:function(notice,options){if(permission!=0||!options.desktop)return;notice.elem.css({'left':'-10000px','display':'none'});if("show"in
notice.desktop){notice.desktop.show();}},beforeClose:function(notice,options){if(permission!=0||!options.desktop)return;notice.elem.css({'left':'-10000px','display':'none'});},afterClose:function(notice,options){if(permission!=0||!options.desktop)return;notice.elem.css({'left':'-10000px','display':'none'});notice.desktop.close();}};PNotify.desktop={permission:function(){if(typeof
Notification!=="undefined"&&"requestPermission"in
Notification){Notification.requestPermission();}else
if("webkitNotifications"in
window){window.webkitNotifications.requestPermission();}},checkPermission:function(){if(typeof
Notification!=="undefined"&&"permission"in
Notification){return(Notification.permission=="granted"?0:1);}else
if("webkitNotifications"in
window){return window.webkitNotifications.checkPermission();}else{return 1;}}};permission=PNotify.desktop.checkPermission();}));PNotify.prototype.options.styling="fontawesome";var
g_NotifyStackTopBar={"dir1":"down","dir2":"right","push":"top","spacing1":0,"spacing2":0};var
g_NotifyStackTopRight={"dir1":"down","dir2":"left","push":"top"};// Chosen, a Select Box Enhancer for jQuery and Protoype
// by Patrick Filler for Harvest, http://getharvest.com
//
// Version 0.9.1
// Full source at https://github.com/harvesthq/chosen
// Copyright (c) 2011 Harvest http://getharvest.com

// MIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md
// This file is generated by `cake build`, do not edit it by hand.
(function(){var a,b,c,d,e=function(a,b){return function(){return a.apply(b,arguments)}};d=this,a=jQuery,a.fn.extend({chosen:function(c,d){return a(this).each(function(e){var f,g;g=a(this),f=g.data("chosen"),f||(f=new b(this,c,d),g.data("chosen",f));return f})},unchosen:function(){return a(this).each(function(b){var c,d;d=a(this),c=d.data("chosen"),c&&(c.remove(),d.data("chosen",null));return d})}}),b=function(){function b(b){this.set_default_values(),this.form_field=b,this.form_field_jq=a(this.form_field),this.is_multiple=this.form_field.multiple,this.is_rtl=this.form_field_jq.hasClass("chzn-rtl"),this.default_text_default=this.form_field.multiple?"Vyberte hodnoty":"Vyberte hodnotu",this.set_up_html(),this.register_observers()}b.prototype.set_default_values=function(){this.click_test_action=e(function(a){return this.test_active_click(a)},this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null;return this.choices=0},b.prototype.set_up_html=function(){this.container_id=this.form_field.id.length?this.form_field.id.replace(/(:|\.)/g,"_"):this.generate_field_id(),this.container_id+="_chzn",this.default_text=this.form_field_jq.data("placeholder")?this.form_field_jq.data("placeholder"):this.default_text_default,this.container=a("<div />",{id:this.container_id,"class":"chzn-container "+(this.is_rtl?"chzn-rtl":"")}),this.is_multiple?this.container.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):this.container.html('<a href="javascript:void(0)" class="chzn-single"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single")),this.dropdown=this.container.find("div.chzn-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first()),this.results_build();return this.set_tab_index()},b.prototype.register_observers=function(){this.container.click(e(function(a){return this.container_click(a)},this)),this.container.mouseenter(e(function(a){return this.mouse_enter(a)},this)),this.container.mouseleave(e(function(a){return this.mouse_leave(a)},this)),this.search_results.click(e(function(a){return this.search_results_click(a)},this)),this.search_results.mouseover(e(function(a){return this.search_results_mouseover(a)},this)),this.search_results.mouseout(e(function(a){return this.search_results_mouseout(a)},this)),this.form_field_jq.bind("liszt:updated",e(function(a){return this.results_update_field(a)},this)),this.search_field.blur(e(function(a){return this.input_blur(a)},this)),this.search_field.keyup(e(function(a){return this.keyup_checker(a)},this)),this.search_field.keydown(e(function(a){return this.keydown_checker(a)},this));if(this.is_multiple){this.search_choices.click(e(function(a){return this.choices_click(a)},this));return this.search_field.focus(e(function(a){return this.input_focus(a)},this))}return this.selected_item.focus(e(function(a){return this.activate_field(a)},this))},b.prototype.unregister_observers=function(){return this.form_field_jq.unbind("liszt:updated")},b.prototype.remove_html=function(){this.form_field_jq.show();return this.container.remove()},b.prototype.container_click=function(b){b&&b.type==="click"&&b.stopPropagation();if(!this.pending_destroy_click){this.active_field?!this.is_multiple&&b&&(a(b.target)===this.selected_item||a(b.target).parents("a.chzn-single").length)&&(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(document).click(this.click_test_action),this.results_show());return this.activate_field()}return this.pending_destroy_click=!1},b.prototype.mouse_enter=function(){return this.mouse_on_container=!0},b.prototype.mouse_leave=function(){return this.mouse_on_container=!1},b.prototype.input_focus=function(a){if(!this.active_field)return setTimeout(e(function(){return this.container_click()},this),50)},b.prototype.input_blur=function(a){if(!this.mouse_on_container){this.active_field=!1;return setTimeout(e(function(){return this.blur_test()},this),100)}},b.prototype.blur_test=function(a){if(!this.active_field&&this.container.hasClass("chzn-container-active"))return this.close_field()},b.prototype.close_field=function(){a(document).unbind("click",this.click_test_action),this.is_multiple||(this.selected_item.attr("tabindex",this.search_field.attr("tabindex")),this.search_field.attr("tabindex",-1)),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default();return this.search_field_scale()},b.prototype.activate_field=function(){!this.is_multiple&&!this.active_field&&(this.search_field.attr("tabindex",this.selected_item.attr("tabindex")),this.selected_item.attr("tabindex",-1)),this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val());return this.search_field.focus()},b.prototype.test_active_click=function(b){return a(b.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},b.prototype.results_build=function(){var a,b,c,e,f,g;c=new Date,this.parsing=!0,this.results_data=d.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||this.selected_item.find("span").text(this.default_text),a="",g=this.results_data;for(e=0,f=g.length;e<f;e++)b=g[e],b.group?a+=this.result_add_group(b):b.empty||(a+=this.result_add_option(b),b.selected&&this.is_multiple?this.choice_build(b):b.selected&&!this.is_multiple&&this.selected_item.find("span").text(b.text));this.show_search_field_default(),this.search_field_scale(),this.search_results.html(a);return this.parsing=!1},b.prototype.result_add_group=function(b){if(!b.disabled){b.dom_id=this.container_id+"_g_"+b.array_index;return'<li id="'+b.dom_id+'" class="group-result">'+a("<div />").text(b.label).html()+"</li>"}return""},b.prototype.result_add_option=function(a){var b;if(!a.disabled){a.dom_id=this.container_id+"_o_"+a.array_index,b=a.selected&&this.is_multiple?[]:["active-result"],a.selected&&b.push("result-selected"),a.group_array_index!=null&&b.push("group-option");return'<li id="'+a.dom_id+'" class="'+b.join(" ")+'">'+a.html+"</li>"}return""},b.prototype.results_update_field=function(){this.result_clear_highlight(),this.result_single_selected=null;return this.results_build()},b.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.search_results.css("maxHeight"),10),f=this.search_results.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.search_results.scrollTop(),b=c+this.result_highlight.outerHeight();if(b>=e)return this.search_results.scrollTop(b-d>0?b-d:0);if(c<f)return this.search_results.scrollTop(c)}},b.prototype.result_clear_highlight=function(){this.result_highlight&&this.result_highlight.removeClass("highlighted");return this.result_highlight=null},b.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},b.prototype.results_show=function(){var a,b,d;this.is_multiple||(this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected)),a=this.is_multiple?this.container.height():this.container.height()-1,b=this.container.outerWidth()-c(this.dropdown),this.dropdown.css({width:b+"px",top:a,left:0}),d=b-c(this.search_container),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val());return this.winnow_results()},b.prototype.results_hide=function(){this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.dropdown.css({left:"-9000px"});return this.results_showing=!1},b.prototype.set_tab_index=function(a){var b;if(this.form_field_jq.attr("tabindex")){b=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1);if(this.is_multiple)return this.search_field.attr("tabindex",b);this.selected_item.attr("tabindex",b);return this.search_field.attr("tabindex",-1)}},b.prototype.reset_tab_index=function(){if(this.search_field.tabIndex){this.form_field_jq.tabIndex=this.search_field.tabIndex;return this.search_field.tabIndex=-1}},b.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}this.search_field.val("");return this.search_field.removeClass("default")},b.prototype.search_results_click=function(b){var c;c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first();if(c.length){this.result_highlight=c;return this.result_select()}},b.prototype.search_results_mouseover=function(b){var c;c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first();if(c)return this.result_do_highlight(c)},b.prototype.search_results_mouseout=function(b){if(a(b.target).hasClass("active-result"))return this.result_clear_highlight()},b.prototype.choices_click=function(b){b.preventDefault();if(this.active_field&&!a(b.target).hasClass("search-choice")&&!this.results_showing)return this.results_show()},b.prototype.choice_build=function(b){var c,d;c=this.container_id+"_c_"+b.array_index,this.choices+=1,this.search_container.before('<li class="search-choice" id="'+c+'"><span>'+b.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+b.array_index+'"></a></li>'),d=a("#"+c).find("a").first();return d.click(e(function(a){return this.choice_destroy_link_click(a)},this))},b.prototype.choice_destroy_link_click=function(b){b.preventDefault(),this.pending_destroy_click=!0;return this.choice_destroy(a(b.target))},b.prototype.choice_destroy=function(a){this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),this.result_deselect(a.attr("rel"));return a.parents("li").first().remove()},b.prototype.result_select=function(){var a,b,c,d;if(this.result_highlight){a=this.result_highlight,b=a.attr("id"),this.result_clear_highlight(),a.addClass("result-selected"),this.is_multiple?this.result_deactivate(a):this.result_single_selected=a,d=b.substr(b.lastIndexOf("_")+1),c=this.results_data[d],c.selected=!0,this.form_field.options[c.options_index].selected=!0,this.is_multiple?this.choice_build(c):this.selected_item.find("span").first().text(c.text),this.results_hide(),this.search_field.val(""),this.form_field_jq.trigger("change");return this.search_field_scale()}},b.prototype.result_activate=function(a){return a.addClass("active-result").show()},b.prototype.result_deactivate=function(a){return a.removeClass("active-result").hide()},b.prototype.result_deselect=function(b){var c,d;d=this.results_data[b],d.selected=!1,this.form_field.options[d.options_index].selected=!1,c=a("#"+this.container_id+"_o_"+b),c.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change");return this.search_field_scale()},b.prototype.results_search=function(a){return this.results_showing?this.winnow_results():this.results_show()},b.prototype.winnow_results=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;j=new Date,this.no_results_clear(),h=0,i=this.search_field.val()===this.default_text?"":a("<div/>").text(a.trim(this.search_field.val())).html(),f=new RegExp("^"+i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),m=new RegExp(i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),r=this.results_data;for(n=0,p=r.length;n<p;n++){c=r[n];if(!c.disabled&&!c.empty)if(c.group)a("#"+c.dom_id).hide();else if(!this.is_multiple||!c.selected){b=!1,g=c.dom_id;if(f.test(c.html))b=!0,h+=1;else if(c.html.indexOf(" ")>=0||c.html.indexOf("[")===0){e=c.html.replace(/\[|\]/g,"").split(" ");if(e.length)for(o=0,q=e.length;o<q;o++)d=e[o],f.test(d)&&(b=!0,h+=1)}b?(i.length?(k=c.html.search(m),l=c.html.substr(0,k+i.length)+"</em>"+c.html.substr(k+i.length),l=l.substr(0,k)+"<em>"+l.substr(k)):l=c.html,a("#"+g).html!==l&&a("#"+g).html(l),this.result_activate(a("#"+g)),c.group_array_index!=null&&a("#"+this.results_data[c.group_array_index].dom_id).show()):(this.result_highlight&&g===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(a("#"+g)))}}return h<1&&i.length?this.no_results(i):this.winnow_results_set_highlight()},b.prototype.winnow_results_clear=function(){var b,c,d,e,f;this.search_field.val(""),c=this.search_results.find("li"),f=[];for(d=0,e=c.length;d<e;d++)b=c[d],b=a(b),f.push(b.hasClass("group-result")?b.show():!this.is_multiple||!b.hasClass("result-selected")?this.result_activate(b):void 0);return f},b.prototype.winnow_results_set_highlight=function(){var a,b;if(!this.result_highlight){b=this.is_multiple?[]:this.search_results.find(".result-selected"),a=b.length?b.first():this.search_results.find(".active-result").first();if(a!=null)return this.result_do_highlight(a)}},b.prototype.no_results=function(b){var c;c=a('<li class="no-results">No results match "<span></span>"</li>'),c.find("span").first().html(b);return this.search_results.append(c)},b.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},b.prototype.remove=function(){this.reset_tab_index(),this.unregister_observers();return this.remove_html()},b.prototype.keydown_arrow=function(){var b,c;this.result_highlight?this.results_showing&&(c=this.result_highlight.nextAll("li.active-result").first(),c&&this.result_do_highlight(c)):(b=this.search_results.find("li.active-result").first(),b&&this.result_do_highlight(a(b)));if(!this.results_showing)return this.results_show()},b.prototype.keyup_arrow=function(){var a;if(!this.results_showing&&!this.is_multiple)return this.results_show();if(this.result_highlight){a=this.result_highlight.prevAll("li.active-result");if(a.length)return this.result_do_highlight(a.first());this.choices>0&&this.results_hide();return this.result_clear_highlight()}},b.prototype.keydown_backstroke=function(){if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}this.pending_backstroke=this.search_container.siblings("li.search-choice").last();return this.pending_backstroke.addClass("search-choice-focus")},b.prototype.clear_backstroke=function(){this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus");return this.pending_backstroke=null},b.prototype.keyup_checker=function(a){var b,c;b=(c=a.which)!=null?c:a.keyCode,this.search_field_scale();switch(b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}break;case 13:a.preventDefault();if(this.results_showing)return this.result_select();break;case 27:if(this.results_showing)return this.results_hide();break;case 9:case 38:case 40:case 16:break;default:return this.results_search()}},b.prototype.keydown_checker=function(a){var b,c;b=(c=a.which)!=null?c:a.keyCode,this.search_field_scale(),b!==8&&this.pending_backstroke&&this.clear_backstroke();switch(b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.mouse_on_container=!1;break;case 13:a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},b.prototype.search_field_scale=function(){var b,c,d,e,f,g,h,i,j;if(this.is_multiple){d=0,h=0,f="position:absolute; left: -1000px; top: -1000px; display:none;",g=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(i=0,j=g.length;i<j;i++)e=g[i],f+=e+":"+this.search_field.css(e)+";";c=a("<div />",{style:f}),c.text(this.search_field.val()),a("body").append(c),h=c.width()+25,c.remove(),h>this.f_width-10&&(h=this.f_width-10),this.search_field.css({width:h+"px"}),b=this.container.height();return this.dropdown.css({top:b+"px"})}},b.prototype.generate_field_id=function(){var a;a=this.generate_random_id(),this.form_field.id=a;return a},b.prototype.generate_random_id=function(){var b;b="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while(a("#"+b).length>0)b+=this.generate_random_char();return b},b.prototype.generate_random_char=function(){var a,b,c;a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ",c=Math.floor(Math.random()*a.length);return b=a.substring(c,c+1)};return b}(),c=function(a){var b;return b=a.outerWidth()-a.width()},d.get_side_border_padding=c}).call(this),function(){var a;a=function(){function a(){this.options_index=0,this.parsed=[]}a.prototype.add_node=function(a){return a.nodeName==="OPTGROUP"?this.add_group(a):this.add_option(a)},a.prototype.add_group=function(a){var b,c,d,e,f,g;b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:a.label,children:0,disabled:a.disabled}),f=a.childNodes,g=[];for(d=0,e=f.length;d<e;d++)c=f[d],g.push(this.add_option(c,b,a.disabled));return g},a.prototype.add_option=function(a,b,c){if(a.nodeName==="OPTION"){a.text!==""?(b!=null&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:c===!0?c:a.disabled,group_array_index:b})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0});return this.options_index+=1}};return a}(),a.select_to_array=function(b){var c,d,e,f,g;d=new a,g=b.childNodes;for(e=0,f=g.length;e<f;e++)c=g[e],d.add_node(c);return d.parsed},this.SelectParser=a}.call(this)
// @preserve jQuery.floatThead 1.2.9dev - http://mkoryak.github.io/floatThead/ - Copyright (c) 2012 - 2014 Misha Koryak
// @license MIT
!function(a){function b(a,b,c){if(8==g){var d=j.width(),e=f.debounce(function(){var a=j.width();d!=a&&(d=a,c())},a);j.on(b,e)}else j.on(b,f.debounce(c,a))}function c(a){window.console&&window.console&&window.console.log&&window.console.log(a)}function d(){var b=a('<div style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;width:100%"></div>');a("body").append(b);var c=b.innerWidth(),d=a("div",b).innerWidth();return b.remove(),c-d}function e(a){if(a.dataTableSettings)for(var b=0;b<a.dataTableSettings.length;b++){var c=a.dataTableSettings[b].nTable;if(a[0]==c)return!0}return!1}a.floatThead=a.floatThead||{},a.floatThead.defaults={cellTag:null,headerCellSelector:"tr:first>th:visible",zIndex:1001,debounceResizeMs:10,useAbsolutePositioning:!0,scrollingTop:0,scrollingBottom:0,scrollContainer:function(){return a([])},getSizingRow:function(a){return a.find("tbody tr:visible:first>*:visible")},floatTableClass:"floatThead-table",floatWrapperClass:"floatThead-wrapper",floatContainerClass:"floatThead-container",copyTableClass:!0,debug:!1};var f=window._,g=function(){for(var a=3,b=document.createElement("b"),c=b.all||[];a=1+a,b.innerHTML="<!--[if gt IE "+a+"]><i><![endif]-->",c[0];);return a>4?a:document.documentMode}(),h=null,i=function(){if(g)return!1;var b=a("<table><colgroup><col></colgroup><tbody><tr><td style='width:10px'></td></tbody></table>");a("body").append(b);var c=b.find("col").width();return b.remove(),0==c},j=a(window),k=0;a.fn.floatThead=function(l){if(l=l||{},!f&&(f=window._||a.floatThead._,!f))throw new Error("jquery.floatThead-slim.js requires underscore. You should use the non-lite version since you do not have underscore.");if(8>g)return this;if(null==h&&(h=i(),h&&(document.createElement("fthtr"),document.createElement("fthtd"),document.createElement("fthfoot"))),f.isString(l)){var m=l,n=this;return this.filter("table").each(function(){var b=a(this).data("floatThead-attached");if(b&&f.isFunction(b[m])){var c=b[m]();"undefined"!=typeof c&&(n=c)}}),n}var o=a.extend({},a.floatThead.defaults||{},l);return a.each(l,function(b){b in a.floatThead.defaults||!o.debug||c("jQuery.floatThead: used ["+b+"] key to init plugin, but that param is not an option for the plugin. Valid options are: "+f.keys(a.floatThead.defaults).join(", "))}),this.filter(":not(."+o.floatTableClass+")").each(function(){function c(a){return a+".fth-"+y+".floatTHead"}function i(){var b=0;A.find("tr:visible").each(function(){b+=a(this).outerHeight(!0)}),Z.outerHeight(b),$.outerHeight(b)}function l(){var a=z.outerWidth(),b=I.width()||a,c="hidden"!=I.css("overflow-y")?b-F.vertical:b;if(X.width(c),O){var d=100*a/c;S.css("width",d+"%")}else S.outerWidth(a)}function m(){C=(f.isFunction(o.scrollingTop)?o.scrollingTop(z):o.scrollingTop)||0,D=(f.isFunction(o.scrollingBottom)?o.scrollingBottom(z):o.scrollingBottom)||0}function n(){var b,c;if(V)b=U.find("col").length;else{var d;if(d=null==o.cellTag&&o.headerCellSelector?o.headerCellSelector:"tr:first>"+o.cellTag,f.isNumber(d))return d;c=A.find(d),b=0,c.each(function(){b+=parseInt(a(this).attr("colspan")||1,10)})}if(b!=H){H=b;for(var e=[],g=[],i=[],j=0;b>j;j++)e.push('<th class="floatThead-col"/>'),g.push("<col/>"),i.push("<fthtd style='display:table-cell;height:0;width:auto;'/>");g=g.join(""),e=e.join(""),h&&(i=i.join(""),W.html(i),bb=W.find("fthtd")),Z.html(e),$=Z.find("th"),V||U.html(g),_=U.find("col"),T.html(g),ab=T.find("col")}return b}function p(){if(!E){if(E=!0,J){var a=z.width(),b=Q.width();a>b&&z.css("minWidth",a)}z.css(db),S.css(db),S.append(A),B.before(Y),i()}}function q(){E&&(E=!1,J&&z.width(fb),Y.detach(),z.prepend(A),z.css(eb),S.css(eb),z.css("minWidth",gb),z.css("minWidth",z.width()))}function r(a){J!=a&&(J=a,X.css({position:J?"absolute":"fixed"}))}function s(a,b,c,d){return h?c:d?o.getSizingRow(a,b,c):b}function t(){var a,b=n();return function(){var c=s(z,_,bb,g);if(c.length==b&&b>0){if(!V)for(a=0;b>a;a++)_.eq(a).css("width","");q();var d=[];for(a=0;b>a;a++)d[a]=c.get(a).offsetWidth;for(a=0;b>a;a++)ab.eq(a).width(d[a]),_.eq(a).width(d[a]);p()}else S.append(A),z.css(eb),S.css(eb),i()}}function u(a){var b=I.css("border-"+a+"-width"),c=0;return b&&~b.indexOf("px")&&(c=parseInt(b,10)),c}function v(){var a,b=I.scrollTop(),c=0,d=L?K.outerHeight(!0):0,e=M?d:-d,f=X.height(),g=z.offset(),i=0;if(O){var k=I.offset();c=g.top-k.top+b,L&&M&&(c+=d),c-=u("top"),i=u("left")}else a=g.top-C-f+D+F.horizontal;var l=j.scrollTop(),m=j.scrollLeft(),n=I.scrollLeft();return b=I.scrollTop(),function(k){if("windowScroll"==k?(l=j.scrollTop(),m=j.scrollLeft()):"containerScroll"==k?(b=I.scrollTop(),n=I.scrollLeft()):"init"!=k&&(l=j.scrollTop(),m=j.scrollLeft(),b=I.scrollTop(),n=I.scrollLeft()),!h||!(0>l||0>m)){if(R)r("windowScrollDone"==k?!0:!1);else if("windowScrollDone"==k)return null;g=z.offset(),L&&M&&(g.top+=d);var o,s,t=z.outerHeight();if(O&&J){if(c>=b){var u=c-b;o=u>0?u:0}else o=P?0:b;s=i}else!O&&J?(l>a+t+e?o=t-f+e:g.top>l+C?(o=0,q()):(o=C+l-g.top+c+(M?d:0),p()),s=0):O&&!J?(c>b||b-c>t?(o=g.top-l,q()):(o=g.top+b-l-c,p()),s=g.left+n-m):O||J||(l>a+t+e?o=t+C-l+a+e:g.top>l+C?(o=g.top-l,p()):o=C,s=g.left-m);return{top:o,left:s}}}}function w(){var a=null,b=null,c=null;return function(d,e,f){null==d||a==d.top&&b==d.left||(X.css({top:d.top,left:d.left}),a=d.top,b=d.left),e&&l(),f&&i();var g=I.scrollLeft();J&&c==g||(X.scrollLeft(g),c=g)}}function x(){if(I.length){var a=I.width(),b=I.height(),c=z.height(),d=z.width(),e=d>a?G:0,f=c>b?G:0;F.horizontal=d>a-f?G:0,F.vertical=c>b-e?G:0}}var y=k,z=a(this);if(z.data("floatThead-attached"))return!0;if(!z.is("table"))throw new Error('jQuery.floatThead must be run on a table element. ex: $("table").floatThead();');var A=z.find("thead:first"),B=z.find("tbody:first");if(0==A.length)throw new Error("jQuery.floatThead must be run on a table that contains a <thead> element");var C,D,E=!1,F={vertical:0,horizontal:0},G=d(),H=0,I=o.scrollContainer(z)||a([]),J=o.useAbsolutePositioning;null==J&&(J=o.scrollContainer(z).length);var K=z.find("caption"),L=1==K.length;if(L)var M="top"===(K.css("caption-side")||K.attr("align")||"top");var N=a('<fthfoot style="display:table-footer-group;"/>'),O=I.length>0,P=!1,Q=a([]),R=9>=g&&!O&&J,S=a("<table/>"),T=a("<colgroup/>"),U=z.find("colgroup:first"),V=!0;0==U.length&&(U=a("<colgroup/>"),V=!1);var W=a('<fthrow style="display:table-row;height:0;"/>'),X=a('<div style="overflow: hidden;"></div>'),Y=a("<thead/>"),Z=a('<tr class="size-row"/>'),$=a([]),_=a([]),ab=a([]),bb=a([]);if(Y.append(Z),z.prepend(U),h&&(N.append(W),z.append(N)),S.append(T),X.append(S),o.copyTableClass&&S.attr("class",z.attr("class")),S.attr({cellpadding:z.attr("cellpadding"),cellspacing:z.attr("cellspacing"),border:z.attr("border")}),S.css({borderCollapse:z.css("borderCollapse"),border:z.css("border")}),S.addClass(o.floatTableClass).css("margin",0),J){var cb=function(a,b){var c=a.css("position"),d="relative"==c||"absolute"==c;if(!d||b){var e={paddingLeft:a.css("paddingLeft"),paddingRight:a.css("paddingRight")};X.css(e),a=a.wrap("<div class='"+o.floatWrapperClass+"' style='position: relative; clear:both;'></div>").parent(),P=!0}return a};O?(Q=cb(I,!0),Q.append(X)):(Q=cb(z),z.after(X))}else z.after(X);X.css({position:J?"absolute":"fixed",marginTop:0,top:J?0:"auto",zIndex:o.zIndex}),X.addClass(o.floatContainerClass),m();var db={"table-layout":"fixed"},eb={"table-layout":z.css("tableLayout")||"auto"},fb=z[0].style.width||"",gb=z.css("minWidth")||"";x();var hb,ib=function(){(hb=t())()};ib();var jb=v(),kb=w();kb(jb("init"),!0);var lb=f.debounce(function(){kb(jb("windowScrollDone"),!1)},300),mb=function(){kb(jb("windowScroll"),!1),lb()},nb=function(){kb(jb("containerScroll"),!1)},ob=function(){m(),x(),ib(),jb=v(),(kb=w())(jb("resize"),!0,!0)},pb=f.debounce(function(){x(),m(),ib(),jb=v(),kb(jb("reflow"),!0)},1);O?J?I.on(c("scroll"),nb):(I.on(c("scroll"),nb),j.on(c("scroll"),mb)):j.on(c("scroll"),mb),j.on(c("load"),pb),b(o.debounceResizeMs,c("resize"),ob),z.on("reflow",pb),e(z)&&z.on("filter",pb).on("sort",pb).on("page",pb),z.data("floatThead-attached",{destroy:function(){var a=".fth-"+y;q(),z.css(eb),U.remove(),h&&N.remove(),Y.parent().length&&Y.replaceWith(A),z.off("reflow"),I.off(a),P&&(I.length?I.unwrap():z.unwrap()),z.css("minWidth",gb),X.remove(),z.data("floatThead-attached",!1),j.off(a)},reflow:function(){pb()},setHeaderHeight:function(){i()},getFloatContainer:function(){return X},getRowGroups:function(){return E?X.find("thead").add(z.find("tbody,tfoot")):z.find("thead,tbody,tfoot")}}),k++}),this}}(jQuery),function(a){a.floatThead=a.floatThead||{},a.floatThead._=window._||function(){var b={},c=Object.prototype.hasOwnProperty,d=["Arguments","Function","String","Number","Date","RegExp"];return b.has=function(a,b){return c.call(a,b)},b.keys=function(a){if(a!==Object(a))throw new TypeError("Invalid object");var c=[];for(var d in a)b.has(a,d)&&c.push(d);return c},a.each(d,function(){var a=this;b["is"+a]=function(b){return Object.prototype.toString.call(b)=="[object "+a+"]"}}),b.debounce=function(a,b,c){var d,e,f,g,h;return function(){f=this,e=arguments,g=new Date;var i=function(){var j=new Date-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e)))},j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e)),h}},b}()}(jQuery);
var
e10=null;e10client.prototype.systemInfo=function(withIds){if(withIds){var
info={};info['appVersion']=e10.appVersion;info['userAgent']=navigator.userAgent;return info;}var
info=[];info.push({title:'ID zařízení',value:e10.deviceId});info.push({title:'Prohlížeč',value:navigator.userAgent});return info;};$(function(){e10=new
e10client();e10.clientType='browser.desktop.html5';e10.server.setHttpServerRoot(httpApiRootPath);e10jsinit();var
mainBrowser=$("#mainBrowser");if(mainBrowser.length)mainBrowserInit('mainBrowser');});e10client.prototype.events={};e10client.prototype.events.init=function(){};e10client.prototype.events.columnInputEvent=function(eventType,input){var
attrCallName='data-clientevent-'+eventType;if(!attrCallName)return;var
attrCall=input.attr(attrCallName);};